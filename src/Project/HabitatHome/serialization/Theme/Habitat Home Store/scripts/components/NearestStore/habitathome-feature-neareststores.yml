---
ID: "93ec5df0-c59c-42a3-b07e-ccc7ece36c4c"
Parent: "f7bdf217-0dae-414e-83a6-2c58c669b722"
Template: "962b53c4-f93b-4df9-9821-415c867b8903"
Path: "/sitecore/media library/Themes/Habitat SXA Sites/Habitat Home Store/scripts/components/NearestStore/habitathome-feature-neareststores"
DB: master
SharedFields:
- ID: "06d5295c-ed2f-4a54-9bf2-26228d113318"
  Hint: __Icon
  Value: "-/media/93EC5DF0C59C42A3B07ECCC7ECE36C4C.ashx?h=16&thn=1&w=16"
- ID: "40e50ed9-ba07-4702-992e-a912738d32dc"
  Hint: Blob
  BlobID: "9e995dea-e1e2-4663-bcec-ba03c3fd58e8"
  Value: 77u/dmFyIE5lYXJlc3RTdG9yZVZpZXdNb2RlbCA9IGZ1bmN0aW9uICgpIHsNCiAgICB2YXIgc2VsZiA9IHRoaXM7DQogICAgc2VsZi5FcnJvck1lc3NhZ2UgPSBrby5vYnNlcnZhYmxlKCIiKTsNCiAgICBzZWxmLlByb2R1Y3RJZCA9IGtvLm9ic2VydmFibGUoIiIpOw0KICAgIHNlbGYuVmFyaWFudElkID0ga28ub2JzZXJ2YWJsZSgiIik7DQogICAgc2VsZi5Vc2VyTGF0ID0ga28ub2JzZXJ2YWJsZSgiIik7DQogICAgc2VsZi5Vc2VyTG9uZyA9IGtvLm9ic2VydmFibGUoIiIpOw0KICAgIHNlbGYuTmVhcmVzdFN0b3Jlc0xpc3QgPSBrby5vYnNlcnZhYmxlKFtdKTsNCg0KDQogICAgc2VsZi5Jbml0aWFsaXplVmlld01vZGVsID0gZnVuY3Rpb24gKHByb2R1Y3RJRCwgdmFyaWFudElEKSB7ICAgICAgICAgIA0KICAgICAgICBzZWxmLlByb2R1Y3RJZCA9IHByb2R1Y3RJRDsNCiAgICAgICAgc2VsZi5WYXJpYW50SWQgPSB2YXJpYW50SUQ7DQogICAgICAgIGlmIChnZXRDb29raWUoInN4YV9zaXRlX3Nob3BzX3N0b3JlcyIpICE9ICIiKSB7DQogICAgICAgICAgICBzZWxmLkdldEludmVudG9yeSgpOw0KICAgICAgICB9DQogICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgc2VsZi5Mb2FkTmVhcmVzdFN0b3JlcygpOw0KICAgICAgICB9ICAgICAgICANCiAgICB9DQoNCiAgICBzZWxmLkxvYWROZWFyZXN0U3RvcmVzID0gZnVuY3Rpb24gKCkgew0KICAgICAgICB2YXIgU2VydmljZVJlcXVlc3QgPSBuZXcgT2JqZWN0KCk7ICAgICAgICANCiAgICAgICAgU2VydmljZVJlcXVlc3QuUHJvZHVjdElkID0gc2VsZi5Qcm9kdWN0SWQ7DQogICAgICAgIFNlcnZpY2VSZXF1ZXN0LlZhcmlhbnRJZCA9IHNlbGYuVmFyaWFudElkOw0KICAgICAgICB2YXIgcHJvbWlzZSA9IEdldE5lYXJlc3RTdG9yZXMoU2VydmljZVJlcXVlc3QpLmRvbmUoZnVuY3Rpb24gKHJlc3VsdCkgew0KICAgICAgICAgICAgaWYgKHJlc3VsdC5FcnJvcnMgIT0gbnVsbCAmIHJlc3VsdC5FcnJvcnMgIT0gInVuZGVmaW5lZCIpIHsNCiAgICAgICAgICAgICAgICBzZWxmLkVycm9yTWVzc2FnZShkYXRhLkVycm9yc1swXSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIHsNCg0KICAgICAgICAgICAgICAgIHZhciBzdG9yZXNMaXN0ID0gW107DQogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5EYXRhLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHJlc3VsdC5EYXRhLCBmdW5jdGlvbiAoaW5kZXgsIHZhbHVlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3U3RvcmUgPSBuZXcgTmV3U3RvcmUodmFsdWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVzTGlzdC5wdXNoKG5ld1N0b3JlKTsNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIHNlbGYuTmVhcmVzdFN0b3Jlc0xpc3Qoc3RvcmVzTGlzdCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9ICAgIA0KDQogICAgc2VsZi5HZXRJbnZlbnRvcnkgPSBmdW5jdGlvbiAoKSB7DQogICAgICAgIHZhciBTZXJ2aWNlUmVxdWVzdCA9IG5ldyBPYmplY3QoKTsgICAgICAgIA0KICAgICAgICBTZXJ2aWNlUmVxdWVzdC5Qcm9kdWN0SWQgPSBzZWxmLlByb2R1Y3RJZDsNCiAgICAgICAgU2VydmljZVJlcXVlc3QuVmFyaWFudElkID0gc2VsZi5WYXJpYW50SWQ7DQogICAgICAgIHZhciBwcm9taXNlID0gR2V0SW52ZW50b3J5KFNlcnZpY2VSZXF1ZXN0KS5kb25lKGZ1bmN0aW9uIChyZXN1bHQpIHsNCiAgICAgICAgICAgIGlmIChyZXN1bHQuRXJyb3JzICE9IG51bGwgJiByZXN1bHQuRXJyb3JzICE9ICJ1bmRlZmluZWQiKSB7DQogICAgICAgICAgICAgICAgc2VsZi5FcnJvck1lc3NhZ2UoZGF0YS5FcnJvcnNbMF0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgdmFyIHN0b3Jlc0RhdGEgPSByZXN1bHQuRGF0YTsNCiAgICAgICAgICAgICAgICB2YXIgc3RvcmVzTGlzdCA9IFtdOw0KICAgICAgICAgICAgICAgIC8vc2VsZi5OZWFyZXN0U3RvcmVzTGlzdChzdG9yZXNEYXRhKTsNCiAgICAgICAgICAgICAgICAkLmVhY2gocmVzdWx0LkRhdGEsIGZ1bmN0aW9uIChpbmRleCwgdmFsdWUpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1N0b3JlID0gbmV3IE5ld1N0b3JlKHZhbHVlKTsNCiAgICAgICAgICAgICAgICAgICAgc3RvcmVzTGlzdC5wdXNoKG5ld1N0b3JlKTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICBzZWxmLk5lYXJlc3RTdG9yZXNMaXN0KHN0b3Jlc0xpc3QpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgIH0NCg0KICAgIHNlbGYuVXBkYXRlVmFyaWFudCA9IGZ1bmN0aW9uICh2YXJpYW50SWQpIHsNCiAgICAgICAgc2VsZi5WYXJpYW50SWQgPSB2YXJpYW50SWQ7DQogICAgICAgIHZhciBTZXJ2aWNlUmVxdWVzdCA9IG5ldyBPYmplY3QoKTsNCiAgICAgICAgU2VydmljZVJlcXVlc3QuUHJvZHVjdElkID0gc2VsZi5Qcm9kdWN0SWQ7DQogICAgICAgIFNlcnZpY2VSZXF1ZXN0LlZhcmlhbnRJZCA9IHNlbGYuVmFyaWFudElkOw0KICAgICAgICB2YXIgcHJvbWlzZSA9IEdldEludmVudG9yeShTZXJ2aWNlUmVxdWVzdCkuZG9uZShmdW5jdGlvbiAocmVzdWx0KSB7DQogICAgICAgICAgICBpZiAocmVzdWx0LkVycm9ycyAhPSBudWxsICYgcmVzdWx0LkVycm9ycyAhPSAidW5kZWZpbmVkIikgew0KICAgICAgICAgICAgICAgIHNlbGYuRXJyb3JNZXNzYWdlKGRhdGEuRXJyb3JzWzBdKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgIHZhciBzdG9yZXNEYXRhID0gcmVzdWx0LkRhdGE7DQogICAgICAgICAgICAgICAgdmFyIHN0b3Jlc0xpc3QgPSBbXTsNCiAgICAgICAgICAgICAgICAvL3NlbGYuTmVhcmVzdFN0b3Jlc0xpc3Qoc3RvcmVzRGF0YSk7DQogICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5EYXRhLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHJlc3VsdC5EYXRhLCBmdW5jdGlvbiAoaW5kZXgsIHZhbHVlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3U3RvcmUgPSBuZXcgTmV3U3RvcmUodmFsdWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmVzTGlzdC5wdXNoKG5ld1N0b3JlKTsNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIHNlbGYuTmVhcmVzdFN0b3Jlc0xpc3Qoc3RvcmVzTGlzdCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgIH0NCn0NCg0KZnVuY3Rpb24gTmV3U3RvcmUoZGF0YSkgew0KICAgIHNlbGYgPSB0aGlzOw0KICAgICQoZGF0YSkubWFwKGZ1bmN0aW9uIChpLCBiKSB7DQogICAgICAgIGlmICgoYlsnS2V5J10gPT0gJ0lkJykpDQogICAgICAgICAgICBzZWxmLklkID0gYlsnVmFsdWUnXTsNCiAgICAgICAgaWYgKChiWydLZXknXSA9PSAnRGlzdGFuY2UnKSkNCiAgICAgICAgICAgIHNlbGYuRGlzdGFuY2UgPSBiWydWYWx1ZSddOw0KICAgICAgICBpZiAoKGJbJ0tleSddID09ICdaZXJvSW52ZW50b3J5JykpDQogICAgICAgICAgICBzZWxmLlplcm9JbnZlbnRvcnkgPSBiWydWYWx1ZSddOw0KICAgICAgICBpZiAoKGJbJ0tleSddID09ICdEaXNwbGF5TmFtZScpKQ0KICAgICAgICAgICAgc2VsZi5EaXNwbGF5TmFtZSA9IGJbJ1ZhbHVlJ107DQogICAgICAgIGlmICgoYlsnS2V5J10gPT0gJ0xpbWl0ZWQnKSkNCiAgICAgICAgICAgIHNlbGYuTGltaXRlZCA9IGJbJ1ZhbHVlJ107DQogICAgICAgIGlmICgoYlsnS2V5J10gPT0gJ1F1YW50aXR5JykpDQogICAgICAgICAgICBzZWxmLlF1YW50aXR5ID0gYlsnVmFsdWUnXTsNCiAgICAgICAgaWYgKChiWydLZXknXSA9PSAnSW52ZW50b3J5QW1vdW50JykpDQogICAgICAgICAgICBzZWxmLkludmVudG9yeUFtb3VudCA9IGJbJ1ZhbHVlJ107DQogICAgfSkNCn0NCi8vUHJvbWlzZSBGdW5jdGlvbnMNCmZ1bmN0aW9uIEdldE5lYXJlc3RTdG9yZXMoU2VydmljZVJlcXVlc3QpIHsNCg0KICAgIHZhciB1cmwgPSAiL2FwaS9jeGEvTmVhcmVzdFN0b3JlL0dldFN0b3Jlcz9waWQ9IiArIFNlcnZpY2VSZXF1ZXN0LlByb2R1Y3RJZCArICItIiArIFNlcnZpY2VSZXF1ZXN0LlZhcmlhbnRJZDsNCiAgICB2YXIgcmVxdWVzdERhdGEgPSBKU09OLnN0cmluZ2lmeShTZXJ2aWNlUmVxdWVzdCk7DQogICAgJCgnLmxvYWRlcicpLnNob3coKTsNCiAgICB2YXIgYWpheFJlcXVlc3QgPSAkLmFqYXgoew0KICAgICAgICB0eXBlOiAnUE9TVCcsDQogICAgICAgIGNvbnRlbnRUeXBlOiAiYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04IiwNCiAgICAgICAgdXJsOiB1cmwsDQogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7DQogICAgICAgICAgICAkKCcubG9hZGVyJykuaGlkZSgpOw0KICAgICAgICB9LA0KICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHgsIHksIHopIHsNCiAgICAgICAgfQ0KICAgIH0pOw0KICAgIHJldHVybiBhamF4UmVxdWVzdDsNCn0NCg0KZnVuY3Rpb24gR2V0SW52ZW50b3J5KFNlcnZpY2VSZXF1ZXN0KSB7DQoNCiAgICB2YXIgdXJsID0gIi9hcGkvY3hhL05lYXJlc3RTdG9yZS9HZXRJbnZlbnRvcnk/cGlkPSIgKyBTZXJ2aWNlUmVxdWVzdC5Qcm9kdWN0SWQgKyAiLSIgKyBTZXJ2aWNlUmVxdWVzdC5WYXJpYW50SWQ7DQogICAgdmFyIHJlcXVlc3REYXRhID0gSlNPTi5zdHJpbmdpZnkoU2VydmljZVJlcXVlc3QpOw0KICAgICQoJy5sb2FkZXInKS5zaG93KCk7DQogICAgdmFyIGFqYXhSZXF1ZXN0ID0gJC5hamF4KHsNCiAgICAgICAgdHlwZTogJ1BPU1QnLA0KICAgICAgICBjb250ZW50VHlwZTogImFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOCIsDQogICAgICAgIHVybDogdXJsLA0KICAgICAgICAvL2RhdGE6IHsgJ3VzZXJMYXRpdHVkZSc6IFNlcnZpY2VSZXF1ZXN0LkxhdGl0dWRlLCAndXNlckxvbmdpdHVkZSc6IFNlcnZpY2VSZXF1ZXN0LkxvbmdpdHVkZSB9LA0KICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkgew0KICAgICAgICAgICAgJCgnLmxvYWRlcicpLmhpZGUoKTsNCiAgICAgICAgfSwNCiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4LCB5LCB6KSB7DQogICAgICAgIH0NCiAgICB9KTsNCiAgICByZXR1cm4gYWpheFJlcXVlc3Q7DQp9DQoNCi8vR2VuZXJhbCBGdW5jdGlvbnMNCmZ1bmN0aW9uIGdldENvb2tpZShjbmFtZSkgew0KICAgIHZhciBuYW1lID0gY25hbWUgKyAiPSI7DQogICAgdmFyIGRlY29kZWRDb29raWUgPSBkZWNvZGVVUklDb21wb25lbnQoZG9jdW1lbnQuY29va2llKTsNCiAgICB2YXIgY2EgPSBkZWNvZGVkQ29va2llLnNwbGl0KCc7Jyk7DQogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYS5sZW5ndGg7IGkrKykgew0KICAgICAgICB2YXIgYyA9IGNhW2ldOw0KICAgICAgICB3aGlsZSAoYy5jaGFyQXQoMCkgPT0gJyAnKSB7DQogICAgICAgICAgICBjID0gYy5zdWJzdHJpbmcoMSk7DQogICAgICAgIH0NCiAgICAgICAgaWYgKGMuaW5kZXhPZihuYW1lKSA9PSAwKSB7DQogICAgICAgICAgICByZXR1cm4gYy5zdWJzdHJpbmcobmFtZS5sZW5ndGgsIGMubGVuZ3RoKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICByZXR1cm4gIiI7DQp9DQoNCmZ1bmN0aW9uIEluaXRpYWxpemVOZWFyZXN0U3RvcmVXaWRnZXQoKSB7DQogICAgDQogICAgTmVhcmVzdFN0b3JlVk1Db250cm9sbGVyID0gbmV3IE5lYXJlc3RTdG9yZVZpZXdNb2RlbCgpOw0KICAgIGlmICgkKCIjZGl2TmVhcmVzdFN0b3JlcyIpLmxlbmd0aCA+IDApIHsNCg0KICAgICAgICBrby5hcHBseUJpbmRpbmdzKE5lYXJlc3RTdG9yZVZNQ29udHJvbGxlciwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRpdk5lYXJlc3RTdG9yZXMiKSk7ICAgICAgICANCiAgICAgICAgdmFyIHByb2R1Y3RJRCA9ICQoIiNhZGR0b2NhcnRfcHJvZHVjdGlkIikudmFsKCk7DQogICAgICAgIHZhciB2YXJpYW50SUQgPSAoJCgiI2FkZHRvY2FydF92YXJpYW50aWQiKS52YWwoKSAhPSAiIiA/ICQoIiNhZGR0b2NhcnRfdmFyaWFudGlkIikudmFsKCkgOiAkKCIudmFsaWQtdmFyaWFudC1jb21ibyIpLmNoaWxkcmVuKCI6Zmlyc3QiKS5hdHRyKCJpZCIpKTsNCg0KICAgICAgICBOZWFyZXN0U3RvcmVWTUNvbnRyb2xsZXIuSW5pdGlhbGl6ZVZpZXdNb2RlbChwcm9kdWN0SUQsIHZhcmlhbnRJRCk7DQogICAgICAgICQoIiN2YXJpYW50Q29sb3IiKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgTmVhcmVzdFN0b3JlVk1Db250cm9sbGVyLlVwZGF0ZVZhcmlhbnQoJCgiI2FkZHRvY2FydF92YXJpYW50aWQiKS52YWwoKSk7ICAgICAgICAgICANCiAgICAgICAgfSk7DQogICAgfSAgICANCn0NCiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHsgICAgDQogICAgSW5pdGlhbGl6ZU5lYXJlc3RTdG9yZVdpZGdldCgpOw0KfSk7
- ID: "6954b7c7-2487-423f-8600-436cb3b6dc0e"
  Hint: Size
  Value: 6492
- ID: "6f47a0a5-9c94-4b48-abeb-42d38def6054"
  Hint: Mime Type
  Value: "application/x-javascript"
- ID: "c06867fe-9a43-4c7d-b739-48780492d06f"
  Hint: Extension
  Value: js
Languages:
- Language: en
  Versions:
  - Version: 1
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20190311T184220Z
- Language: "fr-CA"
  Versions:
  - Version: 1
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20190311T184221Z
    - ID: "5dd74568-4d4b-44c1-b513-0af5f4cda34f"
      Hint: __Created by
      Value: |
        sitecore\admin
- Language: "ja-JP"
  Versions:
  - Version: 1
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20190311T184221Z
    - ID: "5dd74568-4d4b-44c1-b513-0af5f4cda34f"
      Hint: __Created by
      Value: |
        sitecore\admin
