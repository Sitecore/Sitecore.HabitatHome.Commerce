---
ID: "83687e9e-e76f-404f-9868-61172eed9ff7"
Parent: "28d0286e-5ee1-4be0-9aee-41d76fa2f651"
Template: "962b53c4-f93b-4df9-9821-415c867b8903"
Path: "/sitecore/media library/Themes/Habitat Sites/Habitat Home Store/scripts/components/Cart/habitathome-feature-cart-billing-model"
DB: master
SharedFields:
- ID: "06d5295c-ed2f-4a54-9bf2-26228d113318"
  Hint: __Icon
  Value: "-/media/83687E9EE76F404F986861172EED9FF7.ashx?h=16&thn=1&w=16"
- ID: "40e50ed9-ba07-4702-992e-a912738d32dc"
  Hint: Blob
  BlobID: "7e579c73-2e2f-4054-ac9f-fa590a14eb9e"
  Value: 77u/Ly8gdmFyIG11c3RFcXVhbCA9IGZ1bmN0aW9uICh2YWwsIG90aGVyKSB7DQoNCi8vICAgICBpZiAodmFsKSB7DQovLyAgICAgICAgIHJldHVybiB2YWwgPT09IG90aGVyOw0KLy8gICAgIH0NCg0KLy8gICAgIHJldHVybiB0cnVlOw0KLy8gfTsNCg0KLy8gLy8gLS0tLS1bR0lGVCBDQVJEIFBBWU1FTlQgTU9ERUxdLS0tLS0NCi8vIGZ1bmN0aW9uIEdpZnRDYXJkUGF5bWVudFZpZXdNb2RlbChiaWxsaW5nVmlld01vZGVsLCBjYXJkKSB7DQovLyAgICAgdmFyIHNlbGYgPSB0aGlzOw0KLy8gICAgIHZhciBwb3B1bGF0ZSA9IGNhcmQgIT0gbnVsbDsNCg0KLy8gICAgIHNlbGYuYmlsbGluZ1ZpZXdNb2RlbCA9IGJpbGxpbmdWaWV3TW9kZWw7DQoNCi8vICAgICBzZWxmLmlzQWRkZWQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTsNCi8vICAgICBzZWxmLmJhbGFuY2UgPSBrby5vYnNlcnZhYmxlKDApOw0KLy8gICAgIHNlbGYuZm9ybWF0dGVkQmFsYW5jZSA9IGtvLm9ic2VydmFibGUoIiIpOw0KLy8gICAgIHNlbGYuZW5hYmxlQWRkQ2FyZCA9IGtvLm9ic2VydmFibGUoZmFsc2UpOw0KDQovLyAgICAgc2VsZi5naWZ0Q2FyZE51bWJlciA9IHBvcHVsYXRlID8ga28udmFsaWRhdGVkT2JzZXJ2YWJsZShjYXJkLlBheW1lbnRNZXRob2RJRCkuZXh0ZW5kKHsgcmVxdWlyZWQ6IHRydWUgfSkgOiBrby52YWxpZGF0ZWRPYnNlcnZhYmxlKCIiKS5leHRlbmQoeyByZXF1aXJlZDogdHJ1ZSB9KTsNCi8vICAgICBzZWxmLmdpZnRDYXJkTnVtYmVyLnN1YnNjcmliZShmdW5jdGlvbiAoY24pIHsNCi8vICAgICAgICAgc2VsZi5iYWxhbmNlKDApOw0KLy8gICAgICAgICBzZWxmLmZvcm1hdHRlZEJhbGFuY2UoIiIpOw0KDQovLyAgICAgICAgIHNlbGYucmVFbmFibGVBZGRDYXJkKCk7DQovLyAgICAgICAgIC8vc2VsZi5lbmFibGVBZGRDYXJkKGNuLmxlbmd0aCA+IDAgJiYgc2VsZi5naWZ0Q2FyZEFtb3VudCgpLmxlbmd0aCA+IDAgJiYgc2VsZi5pc0FkZGVkKCkgPT09IGZhbHNlKTsNCi8vICAgICB9LmJpbmQodGhpcykpOw0KDQovLyAgICAgc2VsZi5yZWxvYWQgPSBmdW5jdGlvbiAoZGF0YSkgew0KLy8gICAgICAgICBzZWxmLmdpZnRDYXJkTnVtYmVyKGRhdGEuRXh0ZXJuYWxJZCk7DQovLyAgICAgICAgIHNlbGYuZm9ybWF0dGVkQmFsYW5jZShkYXRhLkZvcm1hdHRlZEJhbGFuY2UpOw0KLy8gICAgICAgICBzZWxmLmJhbGFuY2UoZGF0YS5CYWxhbmNlKTsNCi8vICAgICAgICAgLy9zZWxmLmVuYWJsZUFkZENhcmQoZmFsc2UpOw0KLy8gICAgICAgICBzZWxmLnJlRW5hYmxlQWRkQ2FyZCgpOw0KLy8gICAgIH0NCg0KLy8gICAgIHNlbGYucmVFbmFibGVBZGRDYXJkID0gZnVuY3Rpb24gKGNhKSB7DQovLyAgICAgICAgIGlmICghY2EpIHsNCi8vICAgICAgICAgICAgIGNhID0gc2VsZi5naWZ0Q2FyZEFtb3VudCgpOw0KLy8gICAgICAgICB9DQoNCi8vICAgICAgICAgc2VsZi5lbmFibGVBZGRDYXJkKGNhLmxlbmd0aCA+IDAgJiYgc2VsZi5naWZ0Q2FyZE51bWJlcigpLmxlbmd0aCA+IDAgJiYgc2VsZi5pc0FkZGVkKCkgPT09IGZhbHNlICYmIHNlbGYuZ2lmdENhcmRBbW91bnQuaXNWYWxpZCgpICYmIHNlbGYuYmFsYW5jZSgpID4gMCk7DQovLyAgICAgfQ0KDQovLyAgICAgc2VsZi5nZXRCYWxhbmNlID0gZnVuY3Rpb24gKCkgew0KLy8gICAgICAgICBNZXNzYWdlQ29udGV4dC5DbGVhckFsbE1lc3NhZ2VzKCk7DQovLyAgICAgICAgIHZhciAkYnRuID0gJCgnLmdpdC1jYXJkLXBheW1lbnQtZ2V0LWJhbGFuY2UtYnRuJykuYnV0dG9uKCdsb2FkaW5nJyk7DQovLyAgICAgICAgIHZhciBkYXRhID0ge307DQovLyAgICAgICAgIGRhdGEuR2lmdENhcmRJZCA9IHNlbGYuZ2lmdENhcmROdW1iZXIoKTsNCi8vICAgICAgICAgQWpheFNlcnZpY2UuUG9zdCgnL2FwaS9jeGEvY2hlY2tvdXQvZ2V0Z2lmdGNhcmRiYWxhbmNlJywgZGF0YSwgZnVuY3Rpb24gKGRhdGEsIHN1Y2Nlc3MsIHNlbmRlcikgew0KLy8gICAgICAgICAgICAgaWYgKHN1Y2Nlc3MgJiYgZGF0YS5TdWNjZXNzKSB7DQovLyAgICAgICAgICAgICAgICAgc2VsZi5yZWxvYWQoZGF0YSk7DQovLyAgICAgICAgICAgICB9DQoNCi8vICAgICAgICAgICAgICQoJy5naXQtY2FyZC1wYXltZW50LWdldC1iYWxhbmNlLWJ0bicpLmJ1dHRvbigncmVzZXQnKTsNCi8vICAgICAgICAgfSwgdGhpcyk7DQovLyAgICAgfTsNCg0KLy8gICAgIHNlbGYuYXBwbHlCYWxhbmNlID0gZnVuY3Rpb24gKCkgew0KLy8gICAgICAgICBNZXNzYWdlQ29udGV4dC5DbGVhckFsbE1lc3NhZ2VzKCk7DQovLyAgICAgICAgIHZhciBiYWxhbmNlID0gc2VsZi5iYWxhbmNlKCk7DQovLyAgICAgICAgIGlmIChiYWxhbmNlIDw9IDApIHsNCi8vICAgICAgICAgICAgIHJldHVybjsNCi8vICAgICAgICAgfQ0KDQovLyAgICAgICAgIHZhciBvcmRlclRvdGFsID0gc2VsZi5iaWxsaW5nVmlld01vZGVsLmNhcnQoKS50b3RhbEFtb3VudCgpOw0KLy8gICAgICAgICBpZiAoYmFsYW5jZSA+IG9yZGVyVG90YWwpIHsNCi8vICAgICAgICAgICAgIHNlbGYuZ2lmdENhcmRBbW91bnRSYXdWYWx1ZShvcmRlclRvdGFsKTsNCi8vICAgICAgICAgfQ0KLy8gICAgICAgICBlbHNlIGlmIChiYWxhbmNlIDw9IG9yZGVyVG90YWwpIHsNCi8vICAgICAgICAgICAgIHNlbGYuZ2lmdENhcmRBbW91bnRSYXdWYWx1ZShiYWxhbmNlKTsNCi8vICAgICAgICAgfQ0KDQovLyAgICAgICAgIHNlbGYuZW5hYmxlQWRkQ2FyZCh0cnVlKTsNCi8vICAgICB9Ow0KDQovLyAgICAgc2VsZi5hZGRDYXJkID0gZnVuY3Rpb24gKCkgew0KLy8gICAgICAgICBNZXNzYWdlQ29udGV4dC5DbGVhckFsbE1lc3NhZ2VzKCk7DQovLyAgICAgICAgIHNlbGYuaXNBZGRlZCh0cnVlKTsNCi8vICAgICAgICAgc2VsZi5lbmFibGVBZGRDYXJkKGZhbHNlKTsNCi8vICAgICAgICAgc2VsZi5yZXZhbHVlQW1vdW50cygpOw0KLy8gICAgIH07DQoNCi8vICAgICBzZWxmLnJlbW92ZUNhcmQgPSBmdW5jdGlvbiAoKSB7DQovLyAgICAgICAgIE1lc3NhZ2VDb250ZXh0LkNsZWFyQWxsTWVzc2FnZXMoKTsNCi8vICAgICAgICAgc2VsZi5pc0FkZGVkKGZhbHNlKTsNCi8vICAgICAgICAgc2VsZi5naWZ0Q2FyZE51bWJlcigiIik7DQovLyAgICAgICAgIHNlbGYuZm9ybWF0dGVkQmFsYW5jZSgiIik7DQovLyAgICAgICAgIHNlbGYuZ2lmdENhcmRBbW91bnRSYXdWYWx1ZSgwLjAwKTsNCi8vICAgICAgICAgc2VsZi5iYWxhbmNlKDAuMDApOw0KLy8gICAgIH07DQoNCi8vICAgICBzZWxmLnJldmFsdWVBbW91bnRzID0gZnVuY3Rpb24gKCkgew0KLy8gICAgICAgICBpZiAoIXNlbGYuaXNBZGRlZCgpKSB7DQovLyAgICAgICAgICAgICByZXR1cm47DQovLyAgICAgICAgIH0NCg0KLy8gICAgICAgICB2YXIgY2NJc0FkZGVkID0gc2VsZi5iaWxsaW5nVmlld01vZGVsLmNyZWRpdENhcmRQYXltZW50KCkuaXNBZGRlZCgpOw0KLy8gICAgICAgICBpZiAoIWNjSXNBZGRlZCkgew0KLy8gICAgICAgICAgICAgcmV0dXJuOw0KLy8gICAgICAgICB9DQoNCi8vICAgICAgICAgdmFyIGNjQW1vdW50ID0gcGFyc2VGbG9hdChzZWxmLmJpbGxpbmdWaWV3TW9kZWwuY3JlZGl0Q2FyZFBheW1lbnQoKS5jcmVkaXRDYXJkQW1vdW50KCkpOw0KLy8gICAgICAgICB2YXIgdG90YWwgPSBwYXJzZUZsb2F0KHNlbGYuYmlsbGluZ1ZpZXdNb2RlbC5jYXJ0KCkudG90YWxBbW91bnQoKSk7DQovLyAgICAgICAgIHZhciBhVG90YWwgPSBwYXJzZUZsb2F0KHBhcnNlRmxvYXQoc2VsZi5naWZ0Q2FyZEFtb3VudFJhd1ZhbHVlKCkpICsgY2NBbW91bnQpOw0KDQovLyAgICAgICAgIGlmIChhVG90YWwgPiB0b3RhbCkgew0KLy8gICAgICAgICAgICAgdmFyIGNvdW50ID0gMTsNCi8vICAgICAgICAgICAgIHZhciBkaWZmID0gKGFUb3RhbCAtIHRvdGFsKSAvIGNvdW50Ow0KLy8gICAgICAgICAgICAgY2NBbW91bnQgPSBjY0lzQWRkZWQgPyBjY0Ftb3VudCAtIGRpZmYgOiAwOw0KLy8gICAgICAgICAgICAgc2VsZi5iaWxsaW5nVmlld01vZGVsLmNyZWRpdENhcmRQYXltZW50KCkuY3JlZGl0Q2FyZEFtb3VudCgoY2NBbW91bnQpLnRvRml4ZWQoMikpOw0KLy8gICAgICAgICB9DQovLyAgICAgfTsNCg0KLy8gICAgIHNlbGYuZ2lmdENhcmRBbW91bnQgPSBrby52YWxpZGF0ZWRPYnNlcnZhYmxlKDAuMDApLmV4dGVuZCh7IHJlcXVpcmVkOiB0cnVlLCBudW1iZXI6IHRydWUgfSk7DQoNCi8vICAgICBzZWxmLmdpZnRDYXJkQW1vdW50UmF3VmFsdWUgPSBrby5jb21wdXRlZCh7DQovLyAgICAgICAgIHJlYWQ6IGZ1bmN0aW9uICgpIHsNCi8vICAgICAgICAgICAgIHZhbHVlID0gc2VsZi5naWZ0Q2FyZEFtb3VudCgpOw0KDQovLyAgICAgICAgICAgICBpZiAoc2VsZi5iaWxsaW5nVmlld01vZGVsKSB7DQovLyAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpOw0KLy8gICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZShzZWxmLmJpbGxpbmdWaWV3TW9kZWwuY3VycmVuY3lEZWNpbWFsU2VwYXJhdG9yKCksICIuIik7DQovLyAgICAgICAgICAgICB9DQoNCi8vICAgICAgICAgICAgIHJldHVybiB2YWx1ZTsNCi8vICAgICAgICAgfSwNCi8vICAgICAgICAgd3JpdGU6IGZ1bmN0aW9uICh2YWx1ZSkgew0KLy8gICAgICAgICAgICAgaWYgKHNlbGYuYmlsbGluZ1ZpZXdNb2RlbCkgew0KLy8gICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTsNCi8vICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoIi4iLCBzZWxmLmJpbGxpbmdWaWV3TW9kZWwuY3VycmVuY3lEZWNpbWFsU2VwYXJhdG9yKCkpOw0KLy8gICAgICAgICAgICAgfQ0KDQovLyAgICAgICAgICAgICBzZWxmLmdpZnRDYXJkQW1vdW50KHZhbHVlKTsNCi8vICAgICAgICAgfQ0KLy8gICAgIH0pOw0KDQovLyAgICAgc2VsZi5naWZ0Q2FyZEFtb3VudC5zdWJzY3JpYmUoZnVuY3Rpb24gKGNhKSB7DQovLyAgICAgICAgIHNlbGYucmVFbmFibGVBZGRDYXJkKGNhKTsNCi8vICAgICAgICAgc2VsZi5yZXZhbHVlQW1vdW50cygpOw0KLy8gICAgIH0uYmluZCh0aGlzKSk7DQoNCi8vICAgICBzZWxmLmFkZEdpZnRDYXJkID0gZnVuY3Rpb24gKGNhcmREYXRhKSB7DQovLyAgICAgICAgIHNlbGYuZ2lmdENhcmROdW1iZXIoY2FyZERhdGEuR2lmdENhcmROdW1iZXIgIT0gbnVsbCA/IGNhcmREYXRhLkdpZnRDYXJkTnVtYmVyIDogIiIpOw0KLy8gICAgICAgICBzZWxmLmdpZnRDYXJkQW1vdW50UmF3VmFsdWUoY2FyZERhdGEuQW1vdW50KTsNCi8vICAgICAgICAgc2VsZi5pc0FkZGVkKHRydWUpOw0KLy8gICAgIH0NCi8vIH0NCg0KLy8gLy8gLS0tLS1bQ1JFRElUQ0FSRCBQQVlNRU5UIE1PREVMXS0tLS0tDQovLyBmdW5jdGlvbiBDcmVkaXRDYXJkUGF5bWVudFZpZXdNb2RlbChjYXJkLCBjaGVja291dFZpZXdNb2RlbCkgew0KLy8gICAgIHZhciBzZWxmID0gdGhpczsNCi8vICAgICB2YXIgcG9wdWxhdGUgPSBjYXJkICE9IG51bGw7DQoNCi8vICAgICBzZWxmLmNoZWNrb3V0Vmlld01vZGVsID0gY2hlY2tvdXRWaWV3TW9kZWw7DQoNCi8vICAgICBzZWxmLmlzQWRkZWQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTsNCi8vICAgICBzZWxmLmNyZWRpdENhcmROdW1iZXIgPSBrby52YWxpZGF0ZWRPYnNlcnZhYmxlKCkuZXh0ZW5kKHsgcmVxdWlyZWQ6IHRydWUsIG51bWJlcjogdHJ1ZSB9KTsNCi8vICAgICBzZWxmLmNyZWRpdENhcmROdW1iZXJNYXNrZWQgPSBrby5vYnNlcnZhYmxlKCk7DQovLyAgICAgc2VsZi5jcmVkaXRDYXJkTnVtYmVyLnN1YnNjcmliZShmdW5jdGlvbiAobnVtYmVyKSB7DQovLyAgICAgICAgIHNlbGYuY3JlZGl0Q2FyZE51bWJlck1hc2tlZCgiWFhYWCBYWFhYIFhYWFggIiArIG51bWJlci5zdWJzdHIobnVtYmVyLmxlbmd0aCAtIDQpKTsNCi8vICAgICB9KTsNCg0KLy8gICAgIHNlbGYuZGVzY3JpcHRpb24gPSBrby5vYnNlcnZhYmxlKCk7DQoNCi8vICAgICBzZWxmLmV4aXN0aW5nUGF5bWVudEFtb3VudCA9IGtvLm9ic2VydmFibGUocG9wdWxhdGUgPyBjYXJkLkFtb3VudCA6IDApOw0KDQovLyAgICAgc2VsZi5wYXltZW50TWV0aG9kSUQgPSBwb3B1bGF0ZSA/IGtvLnZhbGlkYXRlZE9ic2VydmFibGUoY2FyZC5QYXltZW50TWV0aG9kSUQpLmV4dGVuZCh7IHJlcXVpcmVkOiB0cnVlIH0pIDoga28udmFsaWRhdGVkT2JzZXJ2YWJsZSgpLmV4dGVuZCh7IHJlcXVpcmVkOiB0cnVlIH0pOw0KLy8gICAgIHNlbGYucGF5bWVudE1ldGhvZElELnN1YnNjcmliZShmdW5jdGlvbiAobWV0aG9kSWQpIHsNCi8vICAgICAgICAgaWYgKG1ldGhvZElkICE9PSAiMCIpIHsNCi8vICAgICAgICAgICAgIHNlbGYuaXNBZGRlZCh0cnVlKTsNCg0KLy8gICAgICAgICAgICAgdmFyIHBheW1lbnRNZXRob2QgPSBrby51dGlscy5hcnJheUZpcnN0KHNlbGYuY2hlY2tvdXRWaWV3TW9kZWwucGF5bWVudE1ldGhvZHMoKSwgZnVuY3Rpb24gKGEpIHsNCi8vICAgICAgICAgICAgICAgICBpZiAoYS5FeHRlcm5hbElkID09PSBtZXRob2RJZCkgew0KLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm4gYTsNCi8vICAgICAgICAgICAgICAgICB9DQoNCi8vICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsNCi8vICAgICAgICAgICAgIH0pOw0KDQovLyAgICAgICAgICAgICBzZWxmLmRlc2NyaXB0aW9uKHBheW1lbnRNZXRob2QgPyBwYXltZW50TWV0aG9kLkRlc2NyaXB0aW9uIDogIiIpOw0KLy8gICAgICAgICAgICAgc2VsZi5jaGVja291dFZpZXdNb2RlbC5jcmVkaXRDYXJkRW5hYmxlKHRydWUpOw0KLy8gICAgICAgICAgICAgc2VsZi5jaGVja291dFZpZXdNb2RlbC5iaWxsaW5nQWRkcmVzc0VuYWJsZSh0cnVlKTsNCi8vICAgICAgICAgfSBlbHNlIHsNCi8vICAgICAgICAgICAgIHNlbGYuaXNBZGRlZChmYWxzZSk7DQovLyAgICAgICAgICAgICBzZWxmLmNoZWNrb3V0Vmlld01vZGVsLmNyZWRpdENhcmRFbmFibGUoZmFsc2UpOw0KLy8gICAgICAgICAgICAgc2VsZi5jaGVja291dFZpZXdNb2RlbC5iaWxsaW5nQWRkcmVzc0VuYWJsZShmYWxzZSk7DQovLyAgICAgICAgIH0NCi8vICAgICB9KTsNCg0KLy8gICAgIHNlbGYuY2hhbmdlUGF5bWVudCA9IGtvLm9ic2VydmFibGUoZmFsc2UpOw0KLy8gICAgIHNlbGYuZGlzcGxheUV4aXN0aW5nUGF5bWVudE1lc3NhZ2UgPSBrby5jb21wdXRlZCh7DQovLyAgICAgICAgIHJlYWQ6IGZ1bmN0aW9uICgpIHsNCi8vICAgICAgICAgICAgIGlmIChzZWxmLmNoZWNrb3V0Vmlld01vZGVsLmVkaXRNb2RlKCkgJiYgc2VsZi5leGlzdGluZ1BheW1lbnRBbW91bnQoKSA9PSBzZWxmLmNyZWRpdENhcmRBbW91bnQoKSAmJiAhc2VsZi5jaGFuZ2VQYXltZW50KCkpIHsNCi8vICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCi8vICAgICAgICAgICAgIH0NCi8vICAgICAgICAgICAgIGVsc2Ugew0KLy8gICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCi8vICAgICAgICAgICAgIH0NCi8vICAgICAgICAgfSwNCi8vICAgICAgICAgd3JpdGU6IGZ1bmN0aW9uICgpIHsgfQ0KLy8gICAgIH0pOw0KDQovLyAgICAgc2VsZi5tdXN0UmV2YWxpZGF0ZVBheW1lbnRNZXNzYWdlID0ga28ub2JzZXJ2YWJsZShwb3B1bGF0ZSA/IGNhcmQuQ2FydEFtb3VudERpZmZlcmVudFRoYW5QYXltZW50TWVzc2FnZSA6ICIiKTsNCi8vICAgICBzZWxmLm11c3RSZXZhbGlkYXRlUGF5bWVudCA9IGtvLmNvbXB1dGVkKHsNCi8vICAgICAgICAgcmVhZDogZnVuY3Rpb24gKCkgew0KLy8gICAgICAgICAgICAgaWYgKHNlbGYuY2hlY2tvdXRWaWV3TW9kZWwuZWRpdE1vZGUoKSAmJiBzZWxmLmV4aXN0aW5nUGF5bWVudEFtb3VudCgpICE9IHNlbGYuY3JlZGl0Q2FyZEFtb3VudCgpKSB7DQovLyAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7DQovLyAgICAgICAgICAgICB9DQovLyAgICAgICAgICAgICBlbHNlIHsNCi8vICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQovLyAgICAgICAgICAgICB9DQovLyAgICAgICAgIH0sDQovLyAgICAgICAgIHdyaXRlOiBmdW5jdGlvbiAoKSB7IH0NCi8vICAgICB9KTsNCg0KLy8gICAgIHNlbGYuY3JlZGl0Q2FyZEFtb3VudCA9IGtvLmNvbXB1dGVkKHsNCi8vICAgICAgICAgcmVhZDogZnVuY3Rpb24gKCkgew0KLy8gICAgICAgICAgICAgaWYgKCFzZWxmLmlzQWRkZWQoKSkgew0KLy8gICAgICAgICAgICAgICAgIHJldHVybiAwOw0KLy8gICAgICAgICAgICAgfQ0KDQovLyAgICAgICAgICAgICB2YXIgdG90YWwgPSBzZWxmLmNoZWNrb3V0Vmlld01vZGVsLmNhcnQoKSA/IHNlbGYuY2hlY2tvdXRWaWV3TW9kZWwuY2FydCgpLnRvdGFsQW1vdW50KCkgOiAwOw0KLy8gICAgICAgICAgICAgdmFyIGdjQW1vdW50ID0gc2VsZi5jaGVja291dFZpZXdNb2RlbC5naWZ0Q2FyZFBheW1lbnQoKSA/IHNlbGYuY2hlY2tvdXRWaWV3TW9kZWwuZ2lmdENhcmRQYXltZW50KCkuZ2lmdENhcmRBbW91bnRSYXdWYWx1ZSgpIDogMDsNCi8vICAgICAgICAgICAgIHZhciBjY0Ftb3VudCA9IChwYXJzZUZsb2F0KHRvdGFsKSAtIHBhcnNlRmxvYXQoZ2NBbW91bnQpKS50b0ZpeGVkKDIpOw0KDQovLyAgICAgICAgICAgICBpZiAoY2NBbW91bnQgPD0gMCkgew0KLy8gICAgICAgICAgICAgICAgIHNlbGYuaXNBZGRlZChmYWxzZSk7DQovLyAgICAgICAgICAgICB9DQoNCi8vICAgICAgICAgICAgIHJldHVybiBjY0Ftb3VudDsNCi8vICAgICAgICAgfSwNCi8vICAgICAgICAgd3JpdGU6IGZ1bmN0aW9uICgpIHsgfQ0KLy8gICAgIH0pOw0KDQovLyAgICAgc2VsZi5vcmlnaW5hbEV4aXN0aW5nUGF5bWVudE1lc3NhZ2UgPSBrby5vYnNlcnZhYmxlKHBvcHVsYXRlID8gY2FyZC5FeGlzdGluZ1BheW1lbnRNZXNzYWdlIDogIiIpOw0KLy8gICAgIHNlbGYuZXhpc3RpbmdQYXltZW50TWVzc2FnZSA9IGtvLmNvbXB1dGVkKHsNCi8vICAgICAgICAgcmVhZDogZnVuY3Rpb24gKCkgew0KLy8gICAgICAgICAgICAgaWYgKHNlbGYuY3JlZGl0Q2FyZEFtb3VudCgpICE9IG51bGwpIHsNCi8vICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5vcmlnaW5hbEV4aXN0aW5nUGF5bWVudE1lc3NhZ2UoKS5mb3JtYXQoc2VsZi5jcmVkaXRDYXJkQW1vdW50KCkpOw0KLy8gICAgICAgICAgICAgfQ0KLy8gICAgICAgICAgICAgZWxzZSB7DQovLyAgICAgICAgICAgICAgICAgcmV0dXJuICIiOw0KLy8gICAgICAgICAgICAgfQ0KLy8gICAgICAgICB9LA0KLy8gICAgICAgICB3cml0ZTogZnVuY3Rpb24gKCkgeyB9DQovLyAgICAgfSk7DQoNCi8vICAgICBzZWxmLnBhcnR5SUQgPSBwb3B1bGF0ZSA/IGtvLm9ic2VydmFibGUoY2FyZC5QYXJ0eUlEKSA6IGtvLm9ic2VydmFibGUoKTsNCi8vIH0NCg0KLy8gLy8gLS0tLS1bQklMTElORyBEQVRBIE1PREVMXS0tLS0tDQovLyBmdW5jdGlvbiBCaWxsaW5nRGF0YVZpZXdNb2RlbCgpIHsNCi8vICAgICB2YXIgc2VsZiA9IHRoaXM7DQoNCi8vICAgICB2YXIgUGF5bWVudFR5cGVzID0gew0KLy8gICAgICAgICBHaWZ0Q2FyZDogMywNCi8vICAgICAgICAgRmVkZXJhdGVkUGF5bWVudDogNCwNCi8vICAgICB9Ow0KDQovLyAgICAgc2VsZi5jYXJ0ID0ga28ub2JzZXJ2YWJsZSgiIik7DQoNCi8vICAgICBzZWxmLmVkaXRNb2RlID0ga28ub2JzZXJ2YWJsZShmYWxzZSk7DQoNCi8vICAgICB2YXIgQ291bnRyeSA9IGZ1bmN0aW9uIChuYW1lLCBjb2RlKSB7DQovLyAgICAgICAgIHRoaXMuY291bnRyeSA9IG5hbWU7DQovLyAgICAgICAgIHRoaXMuY29kZSA9IGNvZGU7DQovLyAgICAgfTsNCi8vICAgICBzZWxmLmNvdW50cmllcyA9IGtvLm9ic2VydmFibGVBcnJheSgpOw0KDQovLyAgICAgc2VsZi5pc0F1dGhlbnRpY2F0ZWQgPSBmYWxzZTsNCi8vICAgICBzZWxmLnVzZXJFbWFpbCA9ICIiOw0KDQovLyAgICAgc2VsZi5pc1NoaXBBbGwgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTsNCg0KLy8gICAgIHNlbGYuY3VycmVuY3lEZWNpbWFsU2VwYXJhdG9yID0ga28ub2JzZXJ2YWJsZSgpOw0KLy8gICAgIHNlbGYuY3VycmVuY3lHcm91cFNlcGFyYXRvciA9IGtvLm9ic2VydmFibGUoKTsNCg0KLy8gICAgIHNlbGYudXNlckFkZHJlc3NlcyA9IGtvLm9ic2VydmFibGVBcnJheSgpOw0KLy8gICAgIHNlbGYuaGFzRGlnaXRhbFByb2R1Y3RzSW5DYXJ0ID0gZmFsc2U7DQovLyAgICAgc2VsZi51c2VyQWRkcmVzc2VzLnB1c2gobmV3IEFkZHJlc3NWaWV3TW9kZWwoeyAiRXh0ZXJuYWxJZCI6ICJVc2VPdGhlciIsICJGdWxsQWRkcmVzcyI6ICQoIiNPdGhlckFkZHJlc3NMYWJlbCIpLnZhbCgpIH0pKTsNCg0KLy8gICAgIHNlbGYuYmlsbGluZ0VtYWlsID0ga28udmFsaWRhdGVkT2JzZXJ2YWJsZShzZWxmLnVzZXJFbWFpbCkuZXh0ZW5kKHsgcmVxdWlyZWQ6IHRydWUsIGVtYWlsOiB0cnVlIH0pOw0KLy8gICAgIHNlbGYuYmlsbGluZ0NvbmZpcm1FbWFpbCA9IGtvLnZhbGlkYXRlZE9ic2VydmFibGUoc2VsZi51c2VyRW1haWwpLmV4dGVuZCh7IHJlcXVpcmVkOiB0cnVlLCB2YWxpZGF0aW9uOiB7IHZhbGlkYXRvcjogbXVzdEVxdWFsLCBtZXNzYWdlOiAkKCIjRW1haWxzTXVzdE1hdGNoTWVzc2FnZSIpLnZhbCgpLCBwYXJhbXM6IHNlbGYuYmlsbGluZ0VtYWlsIH0gfSk7DQoNCi8vICAgICBzZWxmLnBheUZlZGVyYXRlZFBheW1lbnQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTsNCi8vICAgICBzZWxmLnBheUdpZnRDYXJkID0ga28ub2JzZXJ2YWJsZShmYWxzZSk7DQovLyAgICAgc2VsZi5jYXJkUGF5bWVudEFjY2VwdFBhZ2VVcmwgPSBrby5vYnNlcnZhYmxlKCcnKTsNCi8vICAgICBzZWxmLmNhcmRQYXltZW50UmVzdWx0QWNjZXNzQ29kZSA9ICIiOw0KLy8gICAgIHNlbGYuY2FyZFBheW1lbnRBY2NlcHRDYXJkUHJlZml4ID0gIiI7DQovLyAgICAgc2VsZi5DQVJEUEFZTUVOVEFDQ0VQVFBBR0VIRUlHSFQgPSAibXNheC1jYy1oZWlnaHQiOw0KLy8gICAgIHNlbGYuQ0FSRFBBWU1FTlRBQ0NFUFRQQUdFRVJST1IgPSAibXNheC1jYy1lcnJvciI7DQovLyAgICAgc2VsZi5DQVJEUEFZTUVOVEFDQ0VQVFBBR0VSRVNVTFQgPSAibXNheC1jYy1yZXN1bHQiOw0KLy8gICAgIHNlbGYuQ0FSRFBBWU1FTlRBQ0NFUFRQQUdFU1VCTUlUID0gIm1zYXgtY2Mtc3VibWl0IjsNCi8vICAgICBzZWxmLkNBUkRQQVlNRU5UQUNDRVBUQ0FSRFBSRUZJWCA9ICJtc2F4LWNjLWNhcmRwcmVmaXgiOw0KDQovLyAgICAgdmFyIFBheW1lbnRNZXRob2QgPSBmdW5jdGlvbiAoZXh0ZXJuYWxJZCwgZGVzY3JpcHRpb24pIHsNCi8vICAgICAgICAgdGhpcy5FeHRlcm5hbElkID0gZXh0ZXJuYWxJZDsNCi8vICAgICAgICAgdGhpcy5EZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uOw0KLy8gICAgIH07DQoNCi8vICAgICBzZWxmLnBheW1lbnRNZXRob2RzID0ga28ub2JzZXJ2YWJsZUFycmF5KCk7DQovLyAgICAgc2VsZi5wYXltZW50Q2xpZW50VG9rZW4gPSBrby5vYnNlcnZhYmxlKCIiKTsNCg0KLy8gICAgIHNlbGYuZ2lmdENhcmRQYXltZW50ID0ga28udmFsaWRhdGVkT2JzZXJ2YWJsZShuZXcgR2lmdENhcmRQYXltZW50Vmlld01vZGVsKHNlbGYpKTsNCi8vICAgICBzZWxmLmNyZWRpdENhcmRQYXltZW50ID0ga28udmFsaWRhdGVkT2JzZXJ2YWJsZShuZXcgQ3JlZGl0Q2FyZFBheW1lbnRWaWV3TW9kZWwobnVsbCwgc2VsZikpOw0KLy8gICAgIHNlbGYuY3JlZGl0Q2FyZEVuYWJsZSA9IGtvLm9ic2VydmFibGUoZmFsc2UpOw0KLy8gICAgIHNlbGYuYmlsbGluZ0FkZHJlc3MgPSBrby52YWxpZGF0ZWRPYnNlcnZhYmxlKG5ldyBBZGRyZXNzVmlld01vZGVsKHsgIkV4dGVybmFsSWQiOiAiMSIgfSkpOw0KLy8gICAgIHNlbGYuYmlsbGluZ0FkZHJlc3NFbmFibGUgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTsNCi8vICAgICBzZWxmLnNoaXBwaW5nQWRkcmVzcyA9IGtvLm9ic2VydmFibGUoKTsNCi8vICAgICBzZWxmLnNlbGVjdGVkQmlsbGluZ0FkZHJlc3MgPSBrby5vYnNlcnZhYmxlKCJVc2VPdGhlciIpOw0KLy8gICAgIHNlbGYuc2VsZWN0ZWRCaWxsaW5nQWRkcmVzcy5zdWJzY3JpYmUoZnVuY3Rpb24gKGlkKSB7DQovLyAgICAgICAgIGlmIChpZCA9PT0gIlVzZVNoaXBwaW5nIikgew0KLy8gICAgICAgICAgICAgc2VsZi5iaWxsaW5nQWRkcmVzc0VuYWJsZShmYWxzZSk7DQovLyAgICAgICAgICAgICBzZWxmLmJpbGxpbmdBZGRyZXNzKHNlbGYuc2hpcHBpbmdBZGRyZXNzKCkpOw0KLy8gICAgICAgICB9IGVsc2Ugew0KLy8gICAgICAgICAgICAgdmFyIG1hdGNoID0gc2VsZi5nZXRBZGRyZXNzKGlkKTsNCi8vICAgICAgICAgICAgIGlmIChtYXRjaCAhPSBudWxsKSB7DQovLyAgICAgICAgICAgICAgICAgc2VsZi5iaWxsaW5nQWRkcmVzc0VuYWJsZShmYWxzZSk7DQovLyAgICAgICAgICAgICAgICAgc2VsZi5iaWxsaW5nQWRkcmVzcyhtYXRjaCk7DQovLyAgICAgICAgICAgICB9IGVsc2Ugew0KLy8gICAgICAgICAgICAgICAgIHNlbGYuYmlsbGluZ0FkZHJlc3NFbmFibGUodHJ1ZSk7DQovLyAgICAgICAgICAgICAgICAgc2VsZi5iaWxsaW5nQWRkcmVzcyhuZXcgQWRkcmVzc1ZpZXdNb2RlbCh7ICJFeHRlcm5hbElkIjogIjEiIH0pKTsNCi8vICAgICAgICAgICAgIH0NCi8vICAgICAgICAgfQ0KDQovLyAgICAgICAgICQoIi5zZWxlY3QtYmlsbGluZy1hZGRyZXNzIikucHJvcCgiZGlzYWJsZWQiLCBmYWxzZSk7DQovLyAgICAgfSk7DQoNCi8vICAgICBzZWxmLnBheW1lbnRUb3RhbCA9IGtvLmNvbXB1dGVkKHsNCi8vICAgICAgICAgcmVhZDogZnVuY3Rpb24gKCkgew0KLy8gICAgICAgICAgICAgdmFyIGNjSXNBZGRlZCA9IHNlbGYuY3JlZGl0Q2FyZFBheW1lbnQoKS5pc0FkZGVkKCk7DQovLyAgICAgICAgICAgICB2YXIgZ2NJc0FkZGVkID0gc2VsZi5naWZ0Q2FyZFBheW1lbnQoKS5pc0FkZGVkKCk7DQovLyAgICAgICAgICAgICBpZiAoIWNjSXNBZGRlZCAmJiAhZ2NJc0FkZGVkKSB7DQovLyAgICAgICAgICAgICAgICAgcmV0dXJuIDA7DQovLyAgICAgICAgICAgICB9DQoNCi8vICAgICAgICAgICAgIHZhciBjY0Ftb3VudCA9IGNjSXNBZGRlZCA/IHNlbGYuY3JlZGl0Q2FyZFBheW1lbnQoKS5jcmVkaXRDYXJkQW1vdW50KCkgOiAwOw0KLy8gICAgICAgICAgICAgdmFyIGdjQW1vdW50ID0gZ2NJc0FkZGVkID8gc2VsZi5naWZ0Q2FyZFBheW1lbnQoKS5naWZ0Q2FyZEFtb3VudFJhd1ZhbHVlKCkgOiAwOw0KLy8gICAgICAgICAgICAgcmV0dXJuIChwYXJzZUZsb2F0KGNjQW1vdW50KSArIHBhcnNlRmxvYXQoZ2NBbW91bnQpKS50b0ZpeGVkKDIpOw0KLy8gICAgICAgICB9LA0KLy8gICAgICAgICB3cml0ZTogZnVuY3Rpb24gKCkgeyB9DQovLyAgICAgfSk7DQoNCi8vICAgICBzZWxmLmVuYWJsZVRvQ29uZmlybSA9IGtvLmNvbXB1dGVkKHsNCi8vICAgICAgICAgcmVhZDogZnVuY3Rpb24gKCkgew0KLy8gICAgICAgICAgICAgaWYgKHNlbGYuY2FydCgpLmxlbmd0aCA9PSAwKSB7DQovLyAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KLy8gICAgICAgICAgICAgfQ0KDQovLyAgICAgICAgICAgICB2YXIgcGF5bWVudFRvdGFsSXNWYWxpZCA9IHBhcnNlRmxvYXQoc2VsZi5wYXltZW50VG90YWwoKSkgPT09IHBhcnNlRmxvYXQoc2VsZi5jYXJ0KCkudG90YWxBbW91bnQoKSk7DQovLyAgICAgICAgICAgICBpZiAoIXBheW1lbnRUb3RhbElzVmFsaWQpIHsNCi8vICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQovLyAgICAgICAgICAgICB9DQoNCi8vICAgICAgICAgICAgIHZhciBwYXltZW50c0FyZVZhbGlkID0gZmFsc2U7DQovLyAgICAgICAgICAgICBpZiAoc2VsZi5naWZ0Q2FyZFBheW1lbnQoKS5pc0FkZGVkKCkpIHsNCi8vICAgICAgICAgICAgICAgICBwYXltZW50c0FyZVZhbGlkID0gc2VsZi5naWZ0Q2FyZFBheW1lbnQuaXNWYWxpZCgpOw0KLy8gICAgICAgICAgICAgfQ0KDQovLyAgICAgICAgICAgICBpZiAoc2VsZi5jcmVkaXRDYXJkUGF5bWVudCgpLmlzQWRkZWQoKSkgew0KLy8gICAgICAgICAgICAgICAgIGlmICghc2VsZi5wYXlGZWRlcmF0ZWRQYXltZW50KCkpIHsNCi8vICAgICAgICAgICAgICAgICAgICAgcGF5bWVudHNBcmVWYWxpZCA9IHNlbGYuY3JlZGl0Q2FyZFBheW1lbnQuaXNWYWxpZCgpICYmIHNlbGYuYmlsbGluZ0FkZHJlc3MuaXNWYWxpZCgpOw0KLy8gICAgICAgICAgICAgICAgIH0NCi8vICAgICAgICAgICAgICAgICBlbHNlIHsNCi8vICAgICAgICAgICAgICAgICAgICAgcGF5bWVudHNBcmVWYWxpZCA9ICFzZWxmLmNyZWRpdENhcmRQYXltZW50KCkubXVzdFJldmFsaWRhdGVQYXltZW50KCkgJiYgc2VsZi5iaWxsaW5nQWRkcmVzcy5pc1ZhbGlkKCk7DQovLyAgICAgICAgICAgICAgICAgfQ0KLy8gICAgICAgICAgICAgfQ0KDQovLyAgICAgICAgICAgICBpZiAocGF5bWVudHNBcmVWYWxpZCkgew0KLy8gICAgICAgICAgICAgICAgIGtvLnZhbGlkYXRpb24uZ3JvdXAoc2VsZikuc2hvd0FsbE1lc3NhZ2VzKHRydWUpOw0KLy8gICAgICAgICAgICAgfQ0KDQovLyAgICAgICAgICAgICByZXR1cm4gcGF5bWVudHNBcmVWYWxpZCAmJiBzZWxmLmJpbGxpbmdFbWFpbC5pc1ZhbGlkKCkgJiYgc2VsZi5iaWxsaW5nQ29uZmlybUVtYWlsLmlzVmFsaWQoKTsNCi8vICAgICAgICAgfSwNCi8vICAgICAgICAgd3JpdGU6IGZ1bmN0aW9uICh2YWx1ZSkgew0KLy8gICAgICAgICAgICAgcmV0dXJuIEJvb2xlYW4odmFsdWUpOw0KLy8gICAgICAgICB9DQovLyAgICAgfSk7DQoNCi8vICAgICBzZWxmLnNldFBheW1lbnRNZXRob2RzID0gZnVuY3Rpb24gKCkgew0KLy8gICAgICAgICB2YXIgZGF0YSA9ICJ7IjsNCg0KLy8gICAgICAgICBkYXRhID0gZGF0YSArICciQmlsbGluZ0l0ZW1QYXRoIjoiJyArICQoIiNCaWxsaW5nSXRlbVBhdGgiKS52YWwoKSArICciLCcNCi8vICAgICAgICAgZGF0YSA9IGRhdGEgKyAnIlVzZXJFbWFpbCI6JyArICciJyArIHNlbGYuYmlsbGluZ0VtYWlsKCkgKyAnIic7DQoNCi8vICAgICAgICAgaWYgKHNlbGYuY3JlZGl0Q2FyZFBheW1lbnQoKS5pc0FkZGVkKCkpIHsNCi8vICAgICAgICAgICAgIHZhciBjYyA9IHNlbGYuY3JlZGl0Q2FyZFBheW1lbnQoKTsNCi8vICAgICAgICAgICAgIGlmIChzZWxmLnBheUZlZGVyYXRlZFBheW1lbnQpIHsNCi8vICAgICAgICAgICAgICAgICB2YXIgY3JlZGl0Q2FyZCA9IHsNCi8vICAgICAgICAgICAgICAgICAgICAgIkNhcmRUb2tlbiI6IHNlbGYuY2FyZFBheW1lbnRSZXN1bHRBY2Nlc3NDb2RlLA0KLy8gICAgICAgICAgICAgICAgICAgICAiQW1vdW50IjogY2MuY3JlZGl0Q2FyZEFtb3VudCgpLA0KLy8gICAgICAgICAgICAgICAgICAgICAiQ2FyZFBheW1lbnRBY2NlcHRDYXJkUHJlZml4Ijogc2VsZi5jYXJkUGF5bWVudEFjY2VwdENhcmRQcmVmaXgNCi8vICAgICAgICAgICAgICAgICB9Ow0KDQovLyAgICAgICAgICAgICAgICAgaWYgKGRhdGEubGVuZ3RoID4gMSkgew0KLy8gICAgICAgICAgICAgICAgICAgICBkYXRhICs9ICIsIjsNCi8vICAgICAgICAgICAgICAgICB9DQoNCi8vICAgICAgICAgICAgICAgICBkYXRhICs9ICciRmVkZXJhdGVkUGF5bWVudCI6JyArIEpTT04uc3RyaW5naWZ5KGNyZWRpdENhcmQpOw0KLy8gICAgICAgICAgICAgICAgIGlmIChzZWxmLmNhcmRQYXltZW50QWNjZXB0Q2FyZFByZWZpeCA9PT0gInBheXBhbCIpIHsNCi8vICAgICAgICAgICAgICAgICAgICAgdmFyIGJhID0gc2VsZi5iaWxsaW5nQWRkcmVzcygpOw0KLy8gICAgICAgICAgICAgICAgICAgICB2YXIgYmlsbGluZ0FkZHJlc3MgPQ0KLy8gICAgICAgICAgICAgICAgICAgICB7DQovLyAgICAgICAgICAgICAgICAgICAgICAgICAiTmFtZSI6IGJhLm5hbWUoKSwNCi8vICAgICAgICAgICAgICAgICAgICAgICAgICJBZGRyZXNzMSI6IGJhLmFkZHJlc3MxKCksDQovLyAgICAgICAgICAgICAgICAgICAgICAgICAiQ291bnRyeSI6IGJhLmNvdW50cnkoKSwNCi8vICAgICAgICAgICAgICAgICAgICAgICAgICJDaXR5IjogYmEuY2l0eSgpLA0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgIlN0YXRlIjogYmEuc3RhdGUoKSwNCi8vICAgICAgICAgICAgICAgICAgICAgICAgICJaaXBQb3N0YWxDb2RlIjogYmEuemlwUG9zdGFsQ29kZSgpLA0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgIkV4dGVybmFsSWQiOiBiYS5leHRlcm5hbElkKCksDQovLyAgICAgICAgICAgICAgICAgICAgICAgICAiUGFydHlJZCI6IGJhLmV4dGVybmFsSWQoKQ0KLy8gICAgICAgICAgICAgICAgICAgICB9Ow0KDQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCA+IDEpIHsNCi8vICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgKz0gIiwiOw0KLy8gICAgICAgICAgICAgICAgICAgICB9DQoNCi8vICAgICAgICAgICAgICAgICAgICAgZGF0YSArPSAnIkJpbGxpbmdBZGRyZXNzIjonICsgSlNPTi5zdHJpbmdpZnkoYmlsbGluZ0FkZHJlc3MpOw0KLy8gICAgICAgICAgICAgICAgIH0NCi8vICAgICAgICAgICAgIH0NCi8vICAgICAgICAgfQ0KDQovLyAgICAgICAgIGlmIChzZWxmLmdpZnRDYXJkUGF5bWVudCgpLmlzQWRkZWQoKSkgew0KLy8gICAgICAgICAgICAgdmFyIGdpZnRDYXJkID0gew0KLy8gICAgICAgICAgICAgICAgICJQYXltZW50TWV0aG9kSUQiOiBzZWxmLmdpZnRDYXJkUGF5bWVudCgpLmdpZnRDYXJkTnVtYmVyKCksDQovLyAgICAgICAgICAgICAgICAgIkFtb3VudCI6IHNlbGYuZ2lmdENhcmRQYXltZW50KCkuZ2lmdENhcmRBbW91bnRSYXdWYWx1ZSgpDQovLyAgICAgICAgICAgICB9Ow0KDQovLyAgICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggPiAxKSB7DQovLyAgICAgICAgICAgICAgICAgZGF0YSArPSAiLCI7DQovLyAgICAgICAgICAgICB9DQoNCi8vICAgICAgICAgICAgIGRhdGEgKz0gJyJHaWZ0Q2FyZFBheW1lbnQiOicgKyBKU09OLnN0cmluZ2lmeShnaWZ0Q2FyZCk7DQovLyAgICAgICAgIH0NCg0KLy8gICAgICAgICBkYXRhICs9ICJ9IjsNCg0KLy8gICAgICAgICAkKCIudG8tY29uZmlybS1idXR0b24iKS5idXR0b24oJ2xvYWRpbmcnKTsNCi8vICAgICAgICAgTWVzc2FnZUNvbnRleHQuQ2xlYXJBbGxNZXNzYWdlcygpOw0KDQovLyAgICAgICAgIEFqYXhTZXJ2aWNlLlBvc3QoIi9hcGkvY3hhL2NoZWNrb3V0L1NldFBheW1lbnRNZXRob2RzIiwgSlNPTi5wYXJzZShkYXRhKSwgZnVuY3Rpb24gKGRhdGEsIHN1Y2Nlc3MsIHNlbmRlcikgew0KLy8gICAgICAgICAgICAgaWYgKGRhdGEuU3VjY2VzcyAmJiBzdWNjZXNzKSB7DQovLyAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBkYXRhLk5leHRQYWdlTGluaw0KLy8gICAgICAgICAgICAgfQ0KLy8gICAgICAgICAgICAgJCgiLnRvLWNvbmZpcm0tYnV0dG9uIikuYnV0dG9uKCdyZXNldCcpOw0KLy8gICAgICAgICB9LCAkKHRoaXMpKTsNCi8vICAgICB9DQoNCi8vICAgICBzZWxmLnNldHVwUGFnZSA9IGZ1bmN0aW9uICgpIHsNCi8vICAgICAgICAgJCgnLmV4aXN0aW5nLXBheW1lbnQtcmVzZXQtbGluaycpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkgew0KLy8gICAgICAgICAgICAgc2VsZi5jcmVkaXRDYXJkUGF5bWVudCgpLmNoYW5nZVBheW1lbnQodHJ1ZSk7DQovLyAgICAgICAgIH0pOw0KLy8gICAgIH0NCg0KLy8gICAgIHNlbGYuZ29Ub05leHRQYWdlQ2xpY2sgPSBmdW5jdGlvbiAoKSB7DQovLyAgICAgICAgIHNlbGYuc2V0UGF5bWVudE1ldGhvZHMoKTsNCi8vICAgICB9DQoNCi8vICAgICBzZWxmLmdldEFkZHJlc3MgPSBmdW5jdGlvbiAoaWQpIHsNCi8vICAgICAgICAgdmFyIG1hdGNoID0ga28udXRpbHMuYXJyYXlGaXJzdChzZWxmLnVzZXJBZGRyZXNzZXMoKSwgZnVuY3Rpb24gKGEpIHsNCi8vICAgICAgICAgICAgIGlmIChhLmV4dGVybmFsSWQoKSA9PT0gaWQgJiYgaWQgIT09ICJVc2VPdGhlciIpIHsNCi8vICAgICAgICAgICAgICAgICByZXR1cm4gYTsNCi8vICAgICAgICAgICAgIH0NCg0KLy8gICAgICAgICAgICAgcmV0dXJuIG51bGw7DQovLyAgICAgICAgIH0pOw0KDQovLyAgICAgICAgIHJldHVybiBtYXRjaDsNCi8vICAgICB9Ow0KDQovLyAgICAgc2VsZi5sb2FkID0gZnVuY3Rpb24gKCkgew0KLy8gICAgICAgICBBamF4U2VydmljZS5Qb3N0KCIvYXBpL2N4YS9jaGVja291dC9HZXRCaWxsaW5nRGF0YSIsIG51bGwsIGZ1bmN0aW9uIChkYXRhLCBzdWNjZXNzLCBzZW5kZXIpIHsNCi8vICAgICAgICAgICAgIGlmIChzdWNjZXNzICYmIGRhdGEuU3VjY2Vzcykgew0KLy8gICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOw0KLy8gICAgICAgICAgICAgICAgIGlmIChkYXRhLkNvdW50cmllcyAhPSBudWxsKSB7DQovLyAgICAgICAgICAgICAgICAgICAgICQuZWFjaChkYXRhLkNvdW50cmllcywgZnVuY3Rpb24gKGluZGV4LCB2YWx1ZSkgew0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jb3VudHJpZXMucHVzaChuZXcgQ291bnRyeSh2YWx1ZSwgaW5kZXgpKTsNCi8vICAgICAgICAgICAgICAgICAgICAgfSk7DQovLyAgICAgICAgICAgICAgICAgfQ0KDQovLyAgICAgICAgICAgICAgICAgc2VsZi5jYXJ0KG5ldyBDYXJ0Vmlld01vZGVsKGRhdGEuQ2FydCkpOw0KDQovLyAgICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBzaGlwcGluZyBhZGRyZXNzLiBOZWVkZWQgZm9yIHNhbWUgYXMgc2hpcHBpbmcuDQovLyAgICAgICAgICAgICAgICAgaWYgKHNlbGYuY2FydCgpLnNoaXBtZW50cy5sZW5ndGggPT0gMSkgew0KLy8gICAgICAgICAgICAgICAgICAgICB2YXIgcGFydHlJZCA9IHNlbGYuY2FydCgpLnNoaXBtZW50c1swXS5wYXJ0eUlkOw0KLy8gICAgICAgICAgICAgICAgICAgICB2YXIgcGFydHkgPSBrby51dGlscy5hcnJheUZpcnN0KHNlbGYuY2FydCgpLnBhcnRpZXMsIGZ1bmN0aW9uIChhKSB7DQovLyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYS5leHRlcm5hbElkKCkgPT09IHBhcnR5SWQpIHsNCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYTsNCi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7DQovLyAgICAgICAgICAgICAgICAgICAgIH0pOw0KDQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0eSAhPSBudWxsKSB7DQovLyAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNoaXBwaW5nQWRkcmVzcyhwYXJ0eSk7DQovLyAgICAgICAgICAgICAgICAgICAgIH0NCi8vICAgICAgICAgICAgICAgICB9DQoNCi8vICAgICAgICAgICAgICAgICBzZWxmLnBheW1lbnRDbGllbnRUb2tlbihkYXRhLlBheW1lbnRDbGllbnRUb2tlbik7DQoNCi8vICAgICAgICAgICAgICAgICBpZiAoZGF0YS5Jc1VzZXJBdXRoZW50aWNhdGVkID09PSB0cnVlICYmIGRhdGEuVXNlckFkZHJlc3Nlcy5BZGRyZXNzZXMgIT0gbnVsbCkgew0KLy8gICAgICAgICAgICAgICAgICAgICAkLmVhY2goZGF0YS5Vc2VyQWRkcmVzc2VzLkFkZHJlc3NlcywgZnVuY3Rpb24gKCkgew0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi51c2VyQWRkcmVzc2VzLnB1c2gobmV3IEFkZHJlc3NWaWV3TW9kZWwodGhpcykpOw0KLy8gICAgICAgICAgICAgICAgICAgICB9KTsNCg0KLy8gICAgICAgICAgICAgICAgICAgICBzZWxmLmlzQXV0aGVudGljYXRlZCA9IHRydWU7DQovLyAgICAgICAgICAgICAgICAgfQ0KDQovLyAgICAgICAgICAgICAgICAgLy8gQ2hlY2tpbmcgaWYgdGhlIGNhcnQgY29udGFpbnMgYSBkaWdpdGFsIHByb2R1Y3QgIkhhc0RpZ2l0YWxQcm9kdWN0Ig0KLy8gICAgICAgICAgICAgICAgIC8vIGlmIHRydWUgdGhlbiB0aGUgIlNhbWUgYXMgc2hpcHBpbmcgYWRkcmVzcyIgd2lsbCBub3QgYmUgYXZhaWxhYmxlIA0KLy8gICAgICAgICAgICAgICAgIC8vIGVsc2UgaXQgd2lsbCBiZSBhZGRlZCB0byBuaWxsaW5nIGFkZHJlc3MgbGlzdA0KLy8gICAgICAgICAgICAgICAgIHNlbGYuaGFzRGlnaXRhbFByb2R1Y3RzSW5DYXJ0ID0gZGF0YS5IYXNEaWdpdGFsUHJvZHVjdDsNCi8vICAgICAgICAgICAgICAgICBpZiAoIXNlbGYuaGFzRGlnaXRhbFByb2R1Y3RzSW5DYXJ0KSB7DQovLyAgICAgICAgICAgICAgICAgICAgIHNlbGYudXNlckFkZHJlc3Nlcy5wdXNoKG5ldyBBZGRyZXNzVmlld01vZGVsKHsgIkV4dGVybmFsSWQiOiAiVXNlU2hpcHBpbmciLCAiRnVsbEFkZHJlc3MiOiAkKCIuc2VsZWN0LWJpbGxpbmctYWRkcmVzcyIpLmF0dHIoInRpdGxlIikgfSkpOw0KLy8gICAgICAgICAgICAgICAgIH0NCg0KLy8gICAgICAgICAgICAgICAgIHNlbGYudXNlckVtYWlsID0gZGF0YS5Vc2VyRW1haWw7DQovLyAgICAgICAgICAgICAgICAgc2VsZi5iaWxsaW5nRW1haWwoZGF0YS5Vc2VyRW1haWwpOw0KLy8gICAgICAgICAgICAgICAgIHNlbGYuYmlsbGluZ0NvbmZpcm1FbWFpbChkYXRhLlVzZXJFbWFpbCk7DQoNCi8vICAgICAgICAgICAgICAgICBzZWxmLmN1cnJlbmN5RGVjaW1hbFNlcGFyYXRvcihkYXRhLkN1cnJlbmN5RGVjaW1hbFNlcGFyYXRvcik7DQovLyAgICAgICAgICAgICAgICAgc2VsZi5jdXJyZW5jeUdyb3VwU2VwYXJhdG9yKGRhdGEuQ3VycmVuY3lHcm91cFNlcGFyYXRvcikNCg0KLy8gICAgICAgICAgICAgICAgIC8vaWYgKHNlbGYuY3VycmVuY3lEZWNpbWFsU2VwYXJhdG9yKCkgIT0gIi4iKSB7DQovLyAgICAgICAgICAgICAgICAgLy99DQoNCi8vICAgICAgICAgICAgICAgICBjdXJyZW50TnVtYmVyVmFsaWRhdG9yID0ga28udmFsaWRhdGlvbi5ydWxlcy5udW1iZXIudmFsaWRhdG9yOw0KLy8gICAgICAgICAgICAgICAgIGtvLnZhbGlkYXRpb24ucnVsZXMubnVtYmVyLnZhbGlkYXRvciA9IGZ1bmN0aW9uIChuLCB0KSB7DQovLyAgICAgICAgICAgICAgICAgICAgIG4gPSBuLnJlcGxhY2Uoc2VsZi5jdXJyZW5jeURlY2ltYWxTZXBhcmF0b3IoKSwgIi4iKTsNCg0KLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudE51bWJlclZhbGlkYXRvcihuLCB0KSAmJiAkLmlzTnVtZXJpYyhuKTsNCi8vICAgICAgICAgICAgICAgICB9DQoNCi8vICAgICAgICAgICAgICAgICBpZiAoZGF0YS5QYXltZW50T3B0aW9ucyAhPSBudWxsKSB7DQovLyAgICAgICAgICAgICAgICAgICAgICQuZWFjaChkYXRhLlBheW1lbnRPcHRpb25zLCBmdW5jdGlvbiAoaW5kZXgsIHZhbHVlKSB7DQovLyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuUGF5bWVudE9wdGlvblR5cGVOYW1lID09PSAiUGF5RmVkZXJhdGVkUGF5bWVudCIpIHsNCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnBheUZlZGVyYXRlZFBheW1lbnQodHJ1ZSk7DQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9DQovLyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuUGF5bWVudE9wdGlvblR5cGVOYW1lID09PSAiUGF5R2lmdENhcmQiKSB7DQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wYXlHaWZ0Q2FyZCh0cnVlKTsNCi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0NCi8vICAgICAgICAgICAgICAgICAgICAgfSk7DQovLyAgICAgICAgICAgICAgICAgfQ0KDQovLyAgICAgICAgICAgICAgICAgaWYgKGRhdGEuUGF5bWVudE1ldGhvZHMgIT0gbnVsbCkgew0KLy8gICAgICAgICAgICAgICAgICAgICBzZWxmLnBheW1lbnRNZXRob2RzLnB1c2gobmV3IFBheW1lbnRNZXRob2QoIjAiLCAkKCIjUGF5bWVudE1ldGhvZHMiKS5hdHRyKCJ0aXRsZSIpKSk7DQovLyAgICAgICAgICAgICAgICAgICAgICQuZWFjaChkYXRhLlBheW1lbnRNZXRob2RzLCBmdW5jdGlvbiAoaW5kZXgsIHZhbHVlKSB7DQovLyAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnBheW1lbnRNZXRob2RzLnB1c2gobmV3IFBheW1lbnRNZXRob2QodmFsdWUuRXh0ZXJuYWxJZCwgdmFsdWUuRGVzY3JpcHRpb24pKTsNCi8vICAgICAgICAgICAgICAgICAgICAgfSk7DQovLyAgICAgICAgICAgICAgICAgfQ0KDQovLyAgICAgICAgICAgICAgICAgc2VsZi5pc1NoaXBBbGwoKGRhdGEuQ2FydCAhPSBudWxsICYmIGRhdGEuQ2FydC5TaGlwbWVudHMgIT0gbnVsbCAmJiBkYXRhLkNhcnQuU2hpcG1lbnRzLmxlbmd0aCA9PSAxICYmIGRhdGEuQ2FydC5TaGlwbWVudHNbMF0uU2hpcHBpbmdNZXRob2ROYW1lICE9ICJQaWNrdXAgRnJvbSBTdG9yZSIpID8gdHJ1ZSA6IGZhbHNlKTsNCg0KLy8gICAgICAgICAgICAgICAgIGlmIChzZWxmLnBheW1lbnRDbGllbnRUb2tlbigpICE9IG51bGwpIHsNCi8vICAgICAgICAgICAgICAgICAgICAgdmFyIGNsaWVudFRva2VuID0gc2VsZi5wYXltZW50Q2xpZW50VG9rZW4oKTsNCi8vICAgICAgICAgICAgICAgICAgICAgaWYgKGNsaWVudFRva2VuLmxlbmd0aCA+IDApIHsNCi8vICAgICAgICAgICAgICAgICAgICAgICAgIGJyYWludHJlZS5zZXR1cChjbGllbnRUb2tlbiwgJ2Ryb3BpbicsIHsNCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6ICdkcm9waW4tY29udGFpbmVyJywNCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXltZW50TWV0aG9kTm9uY2VSZWNlaXZlZDogZnVuY3Rpb24gKGV2ZW50LCBub25jZSkgew0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9uY2UubGVuZ3RoID4gMCkgew0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jYXJkUGF5bWVudFJlc3VsdEFjY2Vzc0NvZGUgPSBub25jZTsNCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2FyZFBheW1lbnRBY2NlcHRDYXJkUHJlZml4ID0gInBheXBhbCI7DQoNCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLmNyZWRpdENhcmRQYXltZW50KCkgIT0gbnVsbCAmJiBzZWxmLmVkaXRNb2RlKCkpIHsNCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNyZWRpdENhcmRQYXltZW50KCkuZXhpc3RpbmdQYXltZW50QW1vdW50KHNlbGYuY3JlZGl0Q2FyZFBheW1lbnQoKS5jcmVkaXRDYXJkQW1vdW50KCkpOw0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY3JlZGl0Q2FyZFBheW1lbnQoKS5jaGFuZ2VQYXltZW50KGZhbHNlKTsNCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCi8vICAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KLy8gICAgICAgICAgICAgICAgICAgICB9DQovLyAgICAgICAgICAgICAgICAgfQ0KDQovLyAgICAgICAgICAgICAgICAgaWYgKGRhdGEuQ2FydCAhPSBudWxsICYmIGRhdGEuQ2FydC5BY2NvdW50aW5nUGFydHkgIT0gbnVsbCkgew0KLy8gICAgICAgICAgICAgICAgICAgICB2YXIgcGFydHlJZCA9IGRhdGEuQ2FydC5BY2NvdW50aW5nUGFydHkuUGFydHlJRDsNCi8vICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnR5ID0ga28udXRpbHMuYXJyYXlGaXJzdChzZWxmLmNhcnQoKS5wYXJ0aWVzLCBmdW5jdGlvbiAoYSkgew0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGEuZXh0ZXJuYWxJZCgpID09PSBwYXJ0eUlkKSB7DQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGE7DQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9DQoNCi8vICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsOw0KLy8gICAgICAgICAgICAgICAgICAgICB9KTsNCg0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAocGFydHkgIT0gbnVsbCkgew0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5iaWxsaW5nQWRkcmVzcyhwYXJ0eSk7DQovLyAgICAgICAgICAgICAgICAgICAgIH0NCi8vICAgICAgICAgICAgICAgICB9DQoNCi8vICAgICAgICAgICAgICAgICBpZiAoZGF0YS5DYXJ0ICE9IG51bGwgJiYgZGF0YS5DYXJ0LlBheW1lbnRzICE9IG51bGwgJiYgZGF0YS5DYXJ0LlBheW1lbnRzLmxlbmd0aCA+IDApIHsNCi8vICAgICAgICAgICAgICAgICAgICAgdmFyIGdpZnRDYXJkQWRkZWQgPSBmYWxzZTsNCi8vICAgICAgICAgICAgICAgICAgICAgdmFyIGZlZFBheW1lbnRBZGRlZCA9IGZhbHNlOw0KLy8gICAgICAgICAgICAgICAgICAgICAkLmVhY2goZGF0YS5DYXJ0LlBheW1lbnRzLCBmdW5jdGlvbiAoaW5kZXgsIFZhbHVlKSB7DQovLyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoVmFsdWUuUGF5bWVudFR5cGUgPT0gUGF5bWVudFR5cGVzLkZlZGVyYXRlZFBheW1lbnQpIHsNCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNyZWRpdENhcmRQYXltZW50KG5ldyBDcmVkaXRDYXJkUGF5bWVudFZpZXdNb2RlbChWYWx1ZSwgc2VsZikpOw0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucGF5RmVkZXJhdGVkUGF5bWVudCh0cnVlKTsNCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNhcmRQYXltZW50UmVzdWx0QWNjZXNzQ29kZSA9IFZhbHVlLkNhcmRUb2tlbjsNCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNhcmRQYXltZW50QWNjZXB0Q2FyZFByZWZpeCA9ICJwYXlwYWwiOw0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZlZFBheW1lbnRBZGRlZCA9IHRydWU7DQovLyAgICAgICAgICAgICAgICAgICAgICAgICB9DQoNCi8vICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChWYWx1ZS5QYXltZW50VHlwZSA9PSBQYXltZW50VHlwZXMuR2lmdENhcmQpIHsNCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmdpZnRDYXJkUGF5bWVudCgpLmFkZEdpZnRDYXJkKFZhbHVlKTsNCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnBheUdpZnRDYXJkKHRydWUpOw0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdpZnRDYXJkQWRkZWQgPSB0cnVlOw0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSBucA0KLy8gICAgICAgICAgICAgICAgICAgICB9KTsNCg0KLy8gICAgICAgICAgICAgICAgICAgICBzZWxmLmVkaXRNb2RlKGZlZFBheW1lbnRBZGRlZCB8fCBnaWZ0Q2FyZEFkZGVkKTsNCg0KLy8gICAgICAgICAgICAgICAgICAgICBpZiAoZmVkUGF5bWVudEFkZGVkKSB7DQovLyAgICAgICAgICAgICAgICAgICAgICAgICAkKCIuY2NwYXltZW50IikudHJpZ2dlcigiY2xpY2siKTsNCi8vICAgICAgICAgICAgICAgICAgICAgfQ0KDQovLyAgICAgICAgICAgICAgICAgICAgIGlmIChnaWZ0Q2FyZEFkZGVkKSB7DQovLyAgICAgICAgICAgICAgICAgICAgICAgICAkKCIuZ2lmdENhcmRQYXltZW50IikudHJpZ2dlcigiY2xpY2siKTsNCi8vICAgICAgICAgICAgICAgICAgICAgfQ0KLy8gICAgICAgICAgICAgICAgIH0NCg0KLy8gICAgICAgICAgICAgICAgIHNlbGYuc2V0dXBQYWdlKCk7DQoNCi8vICAgICAgICAgICAgIH0NCi8vICAgICAgICAgfQ0KLy8gICAgICAgICApDQovLyAgICAgfTsNCi8vIH0=
- ID: "6954b7c7-2487-423f-8600-436cb3b6dc0e"
  Hint: Size
  Value: 25418
- ID: "6f47a0a5-9c94-4b48-abeb-42d38def6054"
  Hint: Mime Type
  Value: "application/x-javascript"
- ID: "c06867fe-9a43-4c7d-b739-48780492d06f"
  Hint: Extension
  Value: js
Languages:
- Language: da
  Versions:
  - Version: 1
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20190311T144939Z
    - ID: "5dd74568-4d4b-44c1-b513-0af5f4cda34f"
      Hint: __Created by
      Value: |
        sitecore\admin
- Language: en
  Versions:
  - Version: 1
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20190311T144938Z
- Language: "fr-CA"
  Versions:
  - Version: 1
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20190311T144940Z
    - ID: "5dd74568-4d4b-44c1-b513-0af5f4cda34f"
      Hint: __Created by
      Value: |
        sitecore\admin
- Language: "ja-JP"
  Versions:
  - Version: 1
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20190311T144940Z
    - ID: "5dd74568-4d4b-44c1-b513-0af5f4cda34f"
      Hint: __Created by
      Value: |
        sitecore\admin
