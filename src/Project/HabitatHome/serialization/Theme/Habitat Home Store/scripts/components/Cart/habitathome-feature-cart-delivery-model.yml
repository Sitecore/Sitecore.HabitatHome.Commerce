---
ID: "41cc2aec-4b7b-4665-98d4-94c7275d96d2"
Parent: "28d0286e-5ee1-4be0-9aee-41d76fa2f651"
Template: "962b53c4-f93b-4df9-9821-415c867b8903"
Path: "/sitecore/media library/Themes/Habitat SXA Sites/Habitat Home Store/scripts/components/Cart/habitathome-feature-cart-delivery-model"
DB: master
SharedFields:
- ID: "06d5295c-ed2f-4a54-9bf2-26228d113318"
  Hint: __Icon
  Value: "-/media/41CC2AEC4B7B466598D494C7275D96D2.ashx?h=16&thn=1&w=16"
- ID: "40e50ed9-ba07-4702-992e-a912738d32dc"
  Hint: Blob
  BlobID: "da10f3e8-cdd5-4ce4-9ff2-c461da075cb5"
  Value: 77u/Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCi8vIENvcHlyaWdodCAyMDE2IFNpdGVjb3JlIENvcnBvcmF0aW9uIEEvUw0KLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUNCi8vIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdA0KLy8gICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wDQovLw0KLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUNCi8vIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsDQovLyBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMNCi8vIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4NCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCg0KdmFyIHNoaXBwaW5nTWV0aG9kc0FycmF5ID0gW107DQp2YXIgbWV0aG9kc1ZpZXdNb2RlbCA9IG51bGw7DQp2YXIgbWV0aG9kID0gbnVsbDsNCg0KZnVuY3Rpb24gRGVsaXZlcnlEYXRhVmlld01vZGVsKCkgew0KICB2YXIgc2VsZiA9IHRoaXM7DQogIC8vIEhhYml0YXRIb21lIGN1c3RvbWl6YXRpb24NCiAgdmFyIG1vZGVsQ2FydExpbmVzOw0KICAvL3NlbGYuY2FydCA9IGtvLm9ic2VydmFibGUoIiIpOw0KICAvLyBlbmQgSGFiaXRhdEhvbWUgY3VzdG9taXphdGlvbg0KDQogIHZhciBDb3VudHJ5ID0gZnVuY3Rpb24gKG5hbWUsIGNvZGUpIHsNCiAgICB0aGlzLmNvdW50cnkgPSBuYW1lOw0KICAgIHRoaXMuY29kZSA9IGNvZGU7DQogIH07DQoNCiAgZnVuY3Rpb24gaXNJdGVtVmFsaWQoZWxlbWVudCwgaW5kZXgsIGFycmF5KSB7DQogICAgcmV0dXJuIGVsZW1lbnQgPT09IHRydWU7DQogIH0NCg0KICBmdW5jdGlvbiBnZXRTaGlwcGluZ01ldGhvZHNNb2NrRGF0YSgpIHsNCiAgICB2YXIgbW9ja0RhdGEgPSB7DQogICAgICAiU2hpcHBpbmdNZXRob2RzIjogWw0KICAgICAgICB7DQogICAgICAgICAgIkV4dGVybmFsSWQiOiAiNjVhOWFlNjktNzdmOC00NTMwLWI1YmEtYmRlMDYxNWNiYzI4IiwNCiAgICAgICAgICAiRGVzY3JpcHRpb24iOiAiTmV4dCBEYXkgQWlyIiwNCiAgICAgICAgICAiTmFtZSI6ICJOZXh0IERheSBBaXIiLA0KICAgICAgICAgICJTaGlwcGluZ09wdGlvbklkIjogbnVsbCwNCiAgICAgICAgICAiU2hvcE5hbWUiOiBudWxsLA0KICAgICAgICAgICJFcnJvcnMiOiBbXSwNCiAgICAgICAgICAiSW5mbyI6IFtdLA0KICAgICAgICAgICJXYXJuaW5ncyI6IFtdLA0KICAgICAgICAgICJIYXNFcnJvcnMiOiBmYWxzZSwNCiAgICAgICAgICAiSGFzSW5mbyI6IGZhbHNlLA0KICAgICAgICAgICJIYXNXYXJuaW5ncyI6IGZhbHNlLA0KICAgICAgICAgICJTdWNjZXNzIjogdHJ1ZSwNCiAgICAgICAgICAiVXJsIjogbnVsbCwNCiAgICAgICAgICAiQ29udGVudEVuY29kaW5nIjogbnVsbCwNCiAgICAgICAgICAiQ29udGVudFR5cGUiOiBudWxsLA0KICAgICAgICAgICJEYXRhIjogbnVsbCwNCiAgICAgICAgICAiSnNvblJlcXVlc3RCZWhhdmlvciI6IDEsDQogICAgICAgICAgIk1heEpzb25MZW5ndGgiOiBudWxsLA0KICAgICAgICAgICJSZWN1cnNpb25MaW1pdCI6IG51bGwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICJFeHRlcm5hbElkIjogImIxNDY2MjJkLWRjODYtNDhhMy1iNzJhLTA1ZWU4ZmZkMTg3YSIsDQogICAgICAgICAgIkRlc2NyaXB0aW9uIjogIkdyb3VuZCIsDQogICAgICAgICAgIk5hbWUiOiAiR3JvdW5kIiwNCiAgICAgICAgICAiU2hpcHBpbmdPcHRpb25JZCI6IG51bGwsDQogICAgICAgICAgIlNob3BOYW1lIjogbnVsbCwNCiAgICAgICAgICAiRXJyb3JzIjogW10sDQogICAgICAgICAgIkluZm8iOiBbXSwNCiAgICAgICAgICAiV2FybmluZ3MiOiBbXSwNCiAgICAgICAgICAiSGFzRXJyb3JzIjogZmFsc2UsDQogICAgICAgICAgIkhhc0luZm8iOiBmYWxzZSwNCiAgICAgICAgICAiSGFzV2FybmluZ3MiOiBmYWxzZSwNCiAgICAgICAgICAiU3VjY2VzcyI6IHRydWUsDQogICAgICAgICAgIlVybCI6IG51bGwsDQogICAgICAgICAgIkNvbnRlbnRFbmNvZGluZyI6IG51bGwsDQogICAgICAgICAgIkNvbnRlbnRUeXBlIjogbnVsbCwNCiAgICAgICAgICAiRGF0YSI6IG51bGwsDQogICAgICAgICAgIkpzb25SZXF1ZXN0QmVoYXZpb3IiOiAxLA0KICAgICAgICAgICJNYXhKc29uTGVuZ3RoIjogbnVsbCwNCiAgICAgICAgICAiUmVjdXJzaW9uTGltaXQiOiBudWxsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICAiRXh0ZXJuYWxJZCI6ICJjZjBhZjgyYS1lMWI4LTQ1YzItOTFkYi03Yjk4NDdhZjI4N2MiLA0KICAgICAgICAgICJEZXNjcmlwdGlvbiI6ICJTdGFuZGFyZCIsDQogICAgICAgICAgIk5hbWUiOiAiU3RhbmRhcmQiLA0KICAgICAgICAgICJTaGlwcGluZ09wdGlvbklkIjogbnVsbCwNCiAgICAgICAgICAiU2hvcE5hbWUiOiBudWxsLA0KICAgICAgICAgICJFcnJvcnMiOiBbXSwNCiAgICAgICAgICAiSW5mbyI6IFtdLA0KICAgICAgICAgICJXYXJuaW5ncyI6IFtdLA0KICAgICAgICAgICJIYXNFcnJvcnMiOiBmYWxzZSwNCiAgICAgICAgICAiSGFzSW5mbyI6IGZhbHNlLA0KICAgICAgICAgICJIYXNXYXJuaW5ncyI6IGZhbHNlLA0KICAgICAgICAgICJTdWNjZXNzIjogdHJ1ZSwNCiAgICAgICAgICAiVXJsIjogbnVsbCwNCiAgICAgICAgICAiQ29udGVudEVuY29kaW5nIjogbnVsbCwNCiAgICAgICAgICAiQ29udGVudFR5cGUiOiBudWxsLA0KICAgICAgICAgICJEYXRhIjogbnVsbCwNCiAgICAgICAgICAiSnNvblJlcXVlc3RCZWhhdmlvciI6IDEsDQogICAgICAgICAgIk1heEpzb25MZW5ndGgiOiBudWxsLA0KICAgICAgICAgICJSZWN1cnNpb25MaW1pdCI6IG51bGwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgICJFeHRlcm5hbElkIjogImQ1OTMwMzQwLWMxZGQtNDgyYy1iOTcyLTUwYTkyNTBiYjdhNiIsDQogICAgICAgICAgIkRlc2NyaXB0aW9uIjogIlN0YW5kYXJkIE92ZXJuaWdodCIsDQogICAgICAgICAgIk5hbWUiOiAiU3RhbmRhcmQgT3Zlcm5pZ2h0IiwNCiAgICAgICAgICAiU2hpcHBpbmdPcHRpb25JZCI6IG51bGwsDQogICAgICAgICAgIlNob3BOYW1lIjogbnVsbCwNCiAgICAgICAgICAiRXJyb3JzIjogW10sDQogICAgICAgICAgIkluZm8iOiBbXSwNCiAgICAgICAgICAiV2FybmluZ3MiOiBbXSwNCiAgICAgICAgICAiSGFzRXJyb3JzIjogZmFsc2UsDQogICAgICAgICAgIkhhc0luZm8iOiBmYWxzZSwNCiAgICAgICAgICAiSGFzV2FybmluZ3MiOiBmYWxzZSwNCiAgICAgICAgICAiU3VjY2VzcyI6IHRydWUsDQogICAgICAgICAgIlVybCI6IG51bGwsDQogICAgICAgICAgIkNvbnRlbnRFbmNvZGluZyI6IG51bGwsDQogICAgICAgICAgIkNvbnRlbnRUeXBlIjogbnVsbCwNCiAgICAgICAgICAiRGF0YSI6IG51bGwsDQogICAgICAgICAgIkpzb25SZXF1ZXN0QmVoYXZpb3IiOiAxLA0KICAgICAgICAgICJNYXhKc29uTGVuZ3RoIjogbnVsbCwNCiAgICAgICAgICAiUmVjdXJzaW9uTGltaXQiOiBudWxsDQogICAgICAgIH0NCiAgICAgIF0sDQogICAgICAiTGluZVNoaXBwaW5nTWV0aG9kcyI6IG51bGwsDQogICAgICAiRXJyb3JzIjogW10sDQogICAgICAiSW5mbyI6IFtdLA0KICAgICAgIldhcm5pbmdzIjogW10sDQogICAgICAiSGFzRXJyb3JzIjogZmFsc2UsDQogICAgICAiSGFzSW5mbyI6IGZhbHNlLA0KICAgICAgIkhhc1dhcm5pbmdzIjogZmFsc2UsDQogICAgICAiU3VjY2VzcyI6IHRydWUsDQogICAgICAiVXJsIjogbnVsbCwNCiAgICAgICJDb250ZW50RW5jb2RpbmciOiBudWxsLA0KICAgICAgIkNvbnRlbnRUeXBlIjogbnVsbCwNCiAgICAgICJEYXRhIjogbnVsbCwNCiAgICAgICJKc29uUmVxdWVzdEJlaGF2aW9yIjogMSwNCiAgICAgICJNYXhKc29uTGVuZ3RoIjogbnVsbCwNCiAgICAgICJSZWN1cnNpb25MaW1pdCI6IG51bGwNCiAgICB9Ow0KDQogICAgcmV0dXJuIG1vY2tEYXRhOw0KICB9DQoNCiAgZnVuY3Rpb24gZ2V0TWluaVByb2R1Y3RNb2NrSW1hZ2UoKSB7DQogICAgdmFyIGltYWdlU3JjID0gIiI7DQogICAgdmFyIHBhZ2VFeHRlbnNpb24gPSBnZXRDdXJyZW50UGFnZUV4dGVuc2lvbigpOw0KICAgIHZhciB0ZW5hbnRBbmRTaXRlTmFtZXMgPSBnZXRDdXJyZW50VGVuYW50QW5kU2l0ZU5hbWUoKTsNCiAgICBpZiAocGFnZUV4dGVuc2lvbiA9PT0gImh0bWwiKSB7DQogICAgICBpbWFnZVNyYyA9DQogICAgICAgICAgICAiLS9tZWRpYS9Qcm9qZWN0LyIgKyB0ZW5hbnRBbmRTaXRlTmFtZXMuVGVuYW50ICsgIi8iICsgdGVuYW50QW5kU2l0ZU5hbWVzLlNpdGUgKyAiL1BsYWNlaG9sZGVyIEltYWdlcy83Mng3Mi5wbmciOw0KICAgIH0gZWxzZSB7DQogICAgICBpbWFnZVNyYyA9DQogICAgICAgICAgICAiL3NpdGVjb3JlL3NoZWxsLy0vbWVkaWEvRmVhdHVyZS9FeHBlcmllbmNlJTIwQWNjZWxlcmF0b3IvQ29tbWVyY2UvQ2F0YWxvZy83Mng3Mi5wbmc/aD03MiZ3PTcyIjsNCiAgICB9DQogICAgcmV0dXJuIGltYWdlU3JjOw0KICB9DQoNCiAgZnVuY3Rpb24gZ2V0RGVsaXZlcnlNb2NrRGF0YSgpIHsNCiAgICB2YXIgcHJvZHVjdE1vY2tJbWFnZSA9IGdldE1pbmlQcm9kdWN0TW9ja0ltYWdlKCk7DQogICAgdmFyIG1vY2tEYXRhID0gew0KICAgICAgIk9yZGVyU2hpcHBpbmdPcHRpb25zIjoNCiAgICAgICAgICAgIFsNCiAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICJFeHRlcm5hbElkIjogIjM4MTdmOGQ1LTk5NGItNGZiYy04YmJlLTRjMzQyZWM3NTUzYSIsDQogICAgICAgICAgICAgICAgIkRlc2NyaXB0aW9uIjogIlNoaXAgaXRlbXMiLA0KICAgICAgICAgICAgICAgICJOYW1lIjogIlNoaXAgaXRlbXMiLA0KICAgICAgICAgICAgICAgICJTaGlwcGluZ09wdGlvblR5cGUiOiB7ICJWYWx1ZSI6IDEsICJOYW1lIjogIlNoaXBUb0FkZHJlc3MiIH0sDQogICAgICAgICAgICAgICAgIlNob3BOYW1lIjogbnVsbCwNCiAgICAgICAgICAgICAgICAiRXJyb3JzIjogW10sDQogICAgICAgICAgICAgICAgIkluZm8iOiBbXSwNCiAgICAgICAgICAgICAgICAiV2FybmluZ3MiOiBbXSwNCiAgICAgICAgICAgICAgICAiSGFzRXJyb3JzIjogZmFsc2UsDQogICAgICAgICAgICAgICAgIkhhc0luZm8iOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAiSGFzV2FybmluZ3MiOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAiU3VjY2VzcyI6IHRydWUsDQogICAgICAgICAgICAgICAgIlVybCI6IG51bGwsDQogICAgICAgICAgICAgICAgIkNvbnRlbnRFbmNvZGluZyI6IG51bGwsDQogICAgICAgICAgICAgICAgIkNvbnRlbnRUeXBlIjogbnVsbCwNCiAgICAgICAgICAgICAgICAiRGF0YSI6IG51bGwsDQogICAgICAgICAgICAgICAgIkpzb25SZXF1ZXN0QmVoYXZpb3IiOiAxLA0KICAgICAgICAgICAgICAgICJNYXhKc29uTGVuZ3RoIjogbnVsbCwNCiAgICAgICAgICAgICAgICAiUmVjdXJzaW9uTGltaXQiOiBudWxsDQogICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAiRXh0ZXJuYWxJZCI6ICIzODc4YjUwMi04NWFjLTQxYjUtOTIwMy1lMGY4NzEyYTg1NGIiLA0KICAgICAgICAgICAgICAgICJEZXNjcmlwdGlvbiI6ICJEaWdpdGFsIiwNCiAgICAgICAgICAgICAgICAiTmFtZSI6ICJEaWdpdGFsIiwNCiAgICAgICAgICAgICAgICAiU2hpcHBpbmdPcHRpb25UeXBlIjogeyAiVmFsdWUiOiAzLCAiTmFtZSI6ICJFbGVjdHJvbmljRGVsaXZlcnkiIH0sDQogICAgICAgICAgICAgICAgIlNob3BOYW1lIjogbnVsbCwNCiAgICAgICAgICAgICAgICAiRXJyb3JzIjogW10sDQogICAgICAgICAgICAgICAgIkluZm8iOiBbXSwNCiAgICAgICAgICAgICAgICAiV2FybmluZ3MiOiBbXSwNCiAgICAgICAgICAgICAgICAiSGFzRXJyb3JzIjogZmFsc2UsDQogICAgICAgICAgICAgICAgIkhhc0luZm8iOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAiSGFzV2FybmluZ3MiOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAiU3VjY2VzcyI6IHRydWUsDQogICAgICAgICAgICAgICAgIlVybCI6IG51bGwsDQogICAgICAgICAgICAgICAgIkNvbnRlbnRFbmNvZGluZyI6IG51bGwsDQogICAgICAgICAgICAgICAgIkNvbnRlbnRUeXBlIjogbnVsbCwNCiAgICAgICAgICAgICAgICAiRGF0YSI6IG51bGwsDQogICAgICAgICAgICAgICAgIkpzb25SZXF1ZXN0QmVoYXZpb3IiOiAxLA0KICAgICAgICAgICAgICAgICJNYXhKc29uTGVuZ3RoIjogbnVsbCwNCiAgICAgICAgICAgICAgICAiUmVjdXJzaW9uTGltaXQiOiBudWxsDQogICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAiRXh0ZXJuYWxJZCI6ICIyZmIwMTI4ZS1mYmJkLTRmY2UtOTE5Ny1mMDAwZDhkMzlmNWMiLA0KICAgICAgICAgICAgICAgICJEZXNjcmlwdGlvbiI6ICJTZWxlY3QgZGVsaXZlcnkgb3B0aW9ucyBieSBpdGVtIiwNCiAgICAgICAgICAgICAgICAiTmFtZSI6ICJTZWxlY3QgZGVsaXZlcnkgb3B0aW9ucyBieSBpdGVtIiwNCiAgICAgICAgICAgICAgICAiU2hpcHBpbmdPcHRpb25UeXBlIjogeyAiVmFsdWUiOiA0LCAiTmFtZSI6ICJEZWxpdmVySXRlbXNJbmRpdmlkdWFsbHkiIH0sDQogICAgICAgICAgICAgICAgIlNob3BOYW1lIjogbnVsbCwNCiAgICAgICAgICAgICAgICAiRXJyb3JzIjogW10sDQogICAgICAgICAgICAgICAgIkluZm8iOiBbXSwNCiAgICAgICAgICAgICAgICAiV2FybmluZ3MiOiBbXSwNCiAgICAgICAgICAgICAgICAiSGFzRXJyb3JzIjogZmFsc2UsDQogICAgICAgICAgICAgICAgIkhhc0luZm8iOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAiSGFzV2FybmluZ3MiOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAiU3VjY2VzcyI6IHRydWUsDQogICAgICAgICAgICAgICAgIlVybCI6IG51bGwsDQogICAgICAgICAgICAgICAgIkNvbnRlbnRFbmNvZGluZyI6IG51bGwsDQogICAgICAgICAgICAgICAgIkNvbnRlbnRUeXBlIjogbnVsbCwNCiAgICAgICAgICAgICAgICAiRGF0YSI6IG51bGwsDQogICAgICAgICAgICAgICAgIkpzb25SZXF1ZXN0QmVoYXZpb3IiOiAxLA0KICAgICAgICAgICAgICAgICJNYXhKc29uTGVuZ3RoIjogbnVsbCwNCiAgICAgICAgICAgICAgICAiUmVjdXJzaW9uTGltaXQiOiBudWxsDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIF0sDQogICAgICAiTGluZVNoaXBwaW5nT3B0aW9ucyI6DQogICAgICAgICAgICBbDQogICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAiTGluZUlkIjogImFjZDk0NzRiODI0NzQ2Zjk5M2MyMjU4MjgwNzE4ZjE5IiwNCiAgICAgICAgICAgICAgICAiU2hpcHBpbmdPcHRpb25zIjogWw0KICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAiRXh0ZXJuYWxJZCI6ICIzODE3ZjhkNS05OTRiLTRmYmMtOGJiZS00YzM0MmVjNzU1M2EiLA0KICAgICAgICAgICAgICAgICAgICAiRGVzY3JpcHRpb24iOiAiU2hpcCBpdGVtcyIsDQogICAgICAgICAgICAgICAgICAgICJOYW1lIjogIlNoaXAgaXRlbXMiLA0KICAgICAgICAgICAgICAgICAgICAiU2hpcHBpbmdPcHRpb25UeXBlIjogeyAiVmFsdWUiOiAxLCAiTmFtZSI6ICJTaGlwVG9BZGRyZXNzIiB9LA0KICAgICAgICAgICAgICAgICAgICAiU2hvcE5hbWUiOiBudWxsLA0KICAgICAgICAgICAgICAgICAgICAiRXJyb3JzIjogW10sDQogICAgICAgICAgICAgICAgICAgICJJbmZvIjogW10sDQogICAgICAgICAgICAgICAgICAgICJXYXJuaW5ncyI6IFtdLA0KICAgICAgICAgICAgICAgICAgICAiSGFzRXJyb3JzIjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICJIYXNJbmZvIjogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgICJIYXNXYXJuaW5ncyI6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAiU3VjY2VzcyI6IHRydWUsDQogICAgICAgICAgICAgICAgICAgICJVcmwiOiBudWxsLA0KICAgICAgICAgICAgICAgICAgICAiQ29udGVudEVuY29kaW5nIjogbnVsbCwNCiAgICAgICAgICAgICAgICAgICAgIkNvbnRlbnRUeXBlIjogbnVsbCwNCiAgICAgICAgICAgICAgICAgICAgIkRhdGEiOiBudWxsLA0KICAgICAgICAgICAgICAgICAgICAiSnNvblJlcXVlc3RCZWhhdmlvciI6IDEsDQogICAgICAgICAgICAgICAgICAgICJNYXhKc29uTGVuZ3RoIjogbnVsbCwNCiAgICAgICAgICAgICAgICAgICAgIlJlY3Vyc2lvbkxpbWl0IjogbnVsbA0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICAgICAgIkVycm9ycyI6IFtdLA0KICAgICAgICAgICAgICAgICJJbmZvIjogW10sDQogICAgICAgICAgICAgICAgIldhcm5pbmdzIjogW10sDQogICAgICAgICAgICAgICAgIkhhc0Vycm9ycyI6IGZhbHNlLA0KICAgICAgICAgICAgICAgICJIYXNJbmZvIjogZmFsc2UsDQogICAgICAgICAgICAgICAgIkhhc1dhcm5pbmdzIjogZmFsc2UsDQogICAgICAgICAgICAgICAgIlN1Y2Nlc3MiOiB0cnVlLA0KICAgICAgICAgICAgICAgICJVcmwiOiBudWxsLA0KICAgICAgICAgICAgICAgICJDb250ZW50RW5jb2RpbmciOiBudWxsLA0KICAgICAgICAgICAgICAgICJDb250ZW50VHlwZSI6IG51bGwsDQogICAgICAgICAgICAgICAgIkRhdGEiOiBudWxsLA0KICAgICAgICAgICAgICAgICJKc29uUmVxdWVzdEJlaGF2aW9yIjogMSwNCiAgICAgICAgICAgICAgICAiTWF4SnNvbkxlbmd0aCI6IG51bGwsDQogICAgICAgICAgICAgICAgIlJlY3Vyc2lvbkxpbWl0IjogbnVsbA0KICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgIkxpbmVJZCI6ICI3MjYwNzNkMzQ4YjQ0ZWRlYjk2ZjFlYjFiZmYxODkwZCIsDQogICAgICAgICAgICAgICAgIlNoaXBwaW5nT3B0aW9ucyI6IFsNCiAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgIkV4dGVybmFsSWQiOiAiMzg3OGI1MDItODVhYy00MWI1LTkyMDMtZTBmODcxMmE4NTRiIiwNCiAgICAgICAgICAgICAgICAgICAgIkRlc2NyaXB0aW9uIjogIkRpZ2l0YWwiLA0KICAgICAgICAgICAgICAgICAgICAiTmFtZSI6ICJEaWdpdGFsIiwNCiAgICAgICAgICAgICAgICAgICAgIlNoaXBwaW5nT3B0aW9uVHlwZSI6IHsNCiAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAzLA0KICAgICAgICAgICAgICAgICAgICAgICJOYW1lIjogIkVsZWN0cm9uaWNEZWxpdmVyeSINCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgIlNob3BOYW1lIjogbnVsbCwNCiAgICAgICAgICAgICAgICAgICAgIkVycm9ycyI6IFtdLA0KICAgICAgICAgICAgICAgICAgICAiSW5mbyI6IFtdLA0KICAgICAgICAgICAgICAgICAgICAiV2FybmluZ3MiOiBbXSwNCiAgICAgICAgICAgICAgICAgICAgIkhhc0Vycm9ycyI6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAiSGFzSW5mbyI6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAiSGFzV2FybmluZ3MiOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgIlN1Y2Nlc3MiOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAiVXJsIjogbnVsbCwNCiAgICAgICAgICAgICAgICAgICAgIkNvbnRlbnRFbmNvZGluZyI6IG51bGwsDQogICAgICAgICAgICAgICAgICAgICJDb250ZW50VHlwZSI6IG51bGwsDQogICAgICAgICAgICAgICAgICAgICJEYXRhIjogbnVsbCwNCiAgICAgICAgICAgICAgICAgICAgIkpzb25SZXF1ZXN0QmVoYXZpb3IiOiAxLA0KICAgICAgICAgICAgICAgICAgICAiTWF4SnNvbkxlbmd0aCI6IG51bGwsDQogICAgICAgICAgICAgICAgICAgICJSZWN1cnNpb25MaW1pdCI6IG51bGwNCiAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBdLA0KICAgICAgICAgICAgICAgICJFcnJvcnMiOiBbXSwNCiAgICAgICAgICAgICAgICAiSW5mbyI6IFtdLA0KICAgICAgICAgICAgICAgICJXYXJuaW5ncyI6IFtdLA0KICAgICAgICAgICAgICAgICJIYXNFcnJvcnMiOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAiSGFzSW5mbyI6IGZhbHNlLA0KICAgICAgICAgICAgICAgICJIYXNXYXJuaW5ncyI6IGZhbHNlLA0KICAgICAgICAgICAgICAgICJTdWNjZXNzIjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAiVXJsIjogbnVsbCwNCiAgICAgICAgICAgICAgICAiQ29udGVudEVuY29kaW5nIjogbnVsbCwNCiAgICAgICAgICAgICAgICAiQ29udGVudFR5cGUiOiBudWxsLA0KICAgICAgICAgICAgICAgICJEYXRhIjogbnVsbCwNCiAgICAgICAgICAgICAgICAiSnNvblJlcXVlc3RCZWhhdmlvciI6IDEsDQogICAgICAgICAgICAgICAgIk1heEpzb25MZW5ndGgiOiBudWxsLA0KICAgICAgICAgICAgICAgICJSZWN1cnNpb25MaW1pdCI6IG51bGwNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgXSwNCiAgICAgICJFbWFpbERlbGl2ZXJ5TWV0aG9kIjoNCiAgICAgICAgew0KICAgICAgICAgICJFeHRlcm5hbElkIjogIjhhMjMyMzRmLTgxNjMtNDYwOS1iZDMyLTMyZDlkZDZlMzJmNSIsDQogICAgICAgICAgIkRlc2NyaXB0aW9uIjogIkVtYWlsIiwNCiAgICAgICAgICAiTmFtZSI6ICJFbWFpbCIsDQogICAgICAgICAgIlNoaXBwaW5nT3B0aW9uSWQiOiBudWxsLA0KICAgICAgICAgICJTaG9wTmFtZSI6IG51bGwsDQogICAgICAgICAgIkVycm9ycyI6IFtdLA0KICAgICAgICAgICJJbmZvIjogW10sDQogICAgICAgICAgIldhcm5pbmdzIjogW10sDQogICAgICAgICAgIkhhc0Vycm9ycyI6IGZhbHNlLA0KICAgICAgICAgICJIYXNJbmZvIjogZmFsc2UsDQogICAgICAgICAgIkhhc1dhcm5pbmdzIjogZmFsc2UsDQogICAgICAgICAgIlN1Y2Nlc3MiOiB0cnVlLA0KICAgICAgICAgICJVcmwiOiBudWxsLA0KICAgICAgICAgICJDb250ZW50RW5jb2RpbmciOiBudWxsLA0KICAgICAgICAgICJDb250ZW50VHlwZSI6IG51bGwsDQogICAgICAgICAgIkRhdGEiOiBudWxsLA0KICAgICAgICAgICJKc29uUmVxdWVzdEJlaGF2aW9yIjogMSwNCiAgICAgICAgICAiTWF4SnNvbkxlbmd0aCI6IG51bGwsDQogICAgICAgICAgIlJlY3Vyc2lvbkxpbWl0IjogbnVsbA0KICAgICAgICB9LA0KICAgICAgIkNhcnQiOiB7DQogICAgICAgICJMaW5lcyI6IFsNCiAgICAgICAgICB7DQogICAgICAgICAgICAiRXh0ZXJuYWxDYXJ0TGluZUlkIjogIjcyNjA3M2QzNDhiNDRlZGViOTZmMWViMWJmZjE4OTBkIiwNCiAgICAgICAgICAgICJJbWFnZSI6IHByb2R1Y3RNb2NrSW1hZ2UsDQogICAgICAgICAgICAiRGlzcGxheU5hbWUiOiAiTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIiwNCiAgICAgICAgICAgICJQcm9kdWN0VXJsIjogIi8jIiwNCiAgICAgICAgICAgICJDb2xvckluZm9ybWF0aW9uIjogbnVsbCwNCiAgICAgICAgICAgICJTaXplSW5mb3JtYXRpb24iOiBudWxsLA0KICAgICAgICAgICAgIlN0eWxlSW5mb3JtYXRpb24iOiBudWxsLA0KICAgICAgICAgICAgIkdpZnRDYXJkQW1vdW50SW5mb3JtYXRpb24iOiAiJDAiLA0KICAgICAgICAgICAgIlF1YW50aXR5IjogIjEiLA0KICAgICAgICAgICAgIkxpbmVQcmljZSI6ICIwLjAwIFVTRCIsDQogICAgICAgICAgICAiTGluZVRvdGFsIjogIjAuMDAgVVNEIiwNCiAgICAgICAgICAgICJQcm9wZXJ0aWVzIjogeyAiTG9yZW0iOiAiaXBzdW0iIH0sDQogICAgICAgICAgICAiU2hpcHBpbmdPcHRpb25zIjogWw0KICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgIkV4dGVybmFsSWQiOiAiMzg3OGI1MDItODVhYy00MWI1LTkyMDMtZTBmODcxMmE4NTRiIiwNCiAgICAgICAgICAgICAgICAiRGVzY3JpcHRpb24iOiAiRGlnaXRhbCIsDQogICAgICAgICAgICAgICAgIk5hbWUiOiAiRGlnaXRhbCIsDQogICAgICAgICAgICAgICAgIlNoaXBwaW5nT3B0aW9uVHlwZSI6IHsgIlZhbHVlIjogMywgIk5hbWUiOiAiRWxlY3Ryb25pY0RlbGl2ZXJ5IiB9LA0KICAgICAgICAgICAgICAgICJTaG9wTmFtZSI6IG51bGwsDQogICAgICAgICAgICAgICAgIkVycm9ycyI6IFtdLA0KICAgICAgICAgICAgICAgICJJbmZvIjogW10sDQogICAgICAgICAgICAgICAgIldhcm5pbmdzIjogW10sDQogICAgICAgICAgICAgICAgIkhhc0Vycm9ycyI6IGZhbHNlLA0KICAgICAgICAgICAgICAgICJIYXNJbmZvIjogZmFsc2UsDQogICAgICAgICAgICAgICAgIkhhc1dhcm5pbmdzIjogZmFsc2UsDQogICAgICAgICAgICAgICAgIlN1Y2Nlc3MiOiB0cnVlLA0KICAgICAgICAgICAgICAgICJVcmwiOiBudWxsLA0KICAgICAgICAgICAgICAgICJDb250ZW50RW5jb2RpbmciOiBudWxsLA0KICAgICAgICAgICAgICAgICJDb250ZW50VHlwZSI6IG51bGwsDQogICAgICAgICAgICAgICAgIkRhdGEiOiBudWxsLA0KICAgICAgICAgICAgICAgICJKc29uUmVxdWVzdEJlaGF2aW9yIjogMSwNCiAgICAgICAgICAgICAgICAiTWF4SnNvbkxlbmd0aCI6IG51bGwsDQogICAgICAgICAgICAgICAgIlJlY3Vyc2lvbkxpbWl0IjogbnVsbA0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICBdLA0KICAgICAgICAgICAgIkRpc2NvdW50T2ZmZXJOYW1lcyI6IFtdLA0KICAgICAgICAgICAgIkxpbmVEaXNjb3VudCI6ICIwLjAwIFVTRCIsDQogICAgICAgICAgICAiUHJvZHVjdElkIjogIjAwMDAwMDAiLA0KICAgICAgICAgICAgIlNoaXBwaW5nTWV0aG9kTmFtZSI6ICJFdGlhbSByaG9uY3VzIiwNCiAgICAgICAgICAgICJBZGRyZXNzIjogew0KICAgICAgICAgICAgICAiQWRkcmVzczEiOiAiTWF1cmlzIGVnZXQgbGFjdXMgc2VkIGRvbG9yIHZpdmVycmEiLA0KICAgICAgICAgICAgICAiQ2l0eSI6ICJFdGlhbSIsDQogICAgICAgICAgICAgICJTdGF0ZSI6ICJJbiBncmF2aWRhIiwNCiAgICAgICAgICAgICAgIlppcFBvc3RhbENvZGUiOiAiOTk5OTkiLA0KICAgICAgICAgICAgICAiQ291bnRyeSI6ICJOYW0gcHVsdmluYXIiDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgIkVycm9ycyI6IFtdLA0KICAgICAgICAgICAgIkluZm8iOiBbXSwNCiAgICAgICAgICAgICJXYXJuaW5ncyI6IFtdLA0KICAgICAgICAgICAgIkhhc0Vycm9ycyI6IGZhbHNlLA0KICAgICAgICAgICAgIkhhc0luZm8iOiBmYWxzZSwNCiAgICAgICAgICAgICJIYXNXYXJuaW5ncyI6IGZhbHNlLA0KICAgICAgICAgICAgIlN1Y2Nlc3MiOiB0cnVlLA0KICAgICAgICAgICAgIlVybCI6IG51bGwsDQogICAgICAgICAgICAiQ29udGVudEVuY29kaW5nIjogbnVsbCwNCiAgICAgICAgICAgICJDb250ZW50VHlwZSI6IG51bGwsDQogICAgICAgICAgICAiRGF0YSI6IG51bGwsDQogICAgICAgICAgICAiSnNvblJlcXVlc3RCZWhhdmlvciI6IDEsDQogICAgICAgICAgICAiTWF4SnNvbkxlbmd0aCI6IG51bGwsDQogICAgICAgICAgICAiUmVjdXJzaW9uTGltaXQiOiBudWxsDQogICAgICAgICAgfSwNCiAgICAgICAgICB7DQogICAgICAgICAgICAiRXh0ZXJuYWxDYXJ0TGluZUlkIjogImUwNjIwMmFjZGNkZjQ4NzY4MWE5NDQxODNlYmRhNzk1IiwNCiAgICAgICAgICAgICJJbWFnZSI6IHByb2R1Y3RNb2NrSW1hZ2UsDQogICAgICAgICAgICAiRGlzcGxheU5hbWUiOiAiTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIiwNCiAgICAgICAgICAgICJQcm9kdWN0VXJsIjoNCiAgICAgICAgICAgICAgICAgICAgICAgICIvIyIsDQogICAgICAgICAgICAiQ29sb3JJbmZvcm1hdGlvbiI6ICJkb2xvciIsDQogICAgICAgICAgICAiU2l6ZUluZm9ybWF0aW9uIjogbnVsbCwNCiAgICAgICAgICAgICJTdHlsZUluZm9ybWF0aW9uIjogbnVsbCwNCiAgICAgICAgICAgICJHaWZ0Q2FyZEFtb3VudEluZm9ybWF0aW9uIjogbnVsbCwNCiAgICAgICAgICAgICJRdWFudGl0eSI6ICIxIiwNCiAgICAgICAgICAgICJMaW5lUHJpY2UiOiAiMC4wMCBVU0QiLA0KICAgICAgICAgICAgIkxpbmVUb3RhbCI6ICIwLjAwIFVTRCIsDQogICAgICAgICAgICAiUHJvcGVydGllcyI6IHsgIkxvcmVtIjogImlwc3VtIiB9LA0KICAgICAgICAgICAgIlNoaXBwaW5nT3B0aW9ucyI6IFsNCiAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICJFeHRlcm5hbElkIjogIjM4MTdmOGQ1LTk5NGItNGZiYy04YmJlLTRjMzQyZWM3NTUzYSIsDQogICAgICAgICAgICAgICAgIkRlc2NyaXB0aW9uIjogIlNoaXAgaXRlbXMiLA0KICAgICAgICAgICAgICAgICJOYW1lIjogIlNoaXAgaXRlbXMiLA0KICAgICAgICAgICAgICAgICJTaGlwcGluZ09wdGlvblR5cGUiOiB7ICJWYWx1ZSI6IDEsICJOYW1lIjogIlNoaXBUb0FkZHJlc3MiIH0sDQogICAgICAgICAgICAgICAgIlNob3BOYW1lIjogbnVsbCwNCiAgICAgICAgICAgICAgICAiRXJyb3JzIjogW10sDQogICAgICAgICAgICAgICAgIkluZm8iOiBbXSwNCiAgICAgICAgICAgICAgICAiV2FybmluZ3MiOiBbXSwNCiAgICAgICAgICAgICAgICAiSGFzRXJyb3JzIjogZmFsc2UsDQogICAgICAgICAgICAgICAgIkhhc0luZm8iOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAiSGFzV2FybmluZ3MiOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAiU3VjY2VzcyI6IHRydWUsDQogICAgICAgICAgICAgICAgIlVybCI6IG51bGwsDQogICAgICAgICAgICAgICAgIkNvbnRlbnRFbmNvZGluZyI6IG51bGwsDQogICAgICAgICAgICAgICAgIkNvbnRlbnRUeXBlIjogbnVsbCwNCiAgICAgICAgICAgICAgICAiRGF0YSI6IG51bGwsDQogICAgICAgICAgICAgICAgIkpzb25SZXF1ZXN0QmVoYXZpb3IiOiAxLA0KICAgICAgICAgICAgICAgICJNYXhKc29uTGVuZ3RoIjogbnVsbCwNCiAgICAgICAgICAgICAgICAiUmVjdXJzaW9uTGltaXQiOiBudWxsDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICAiRGlzY291bnRPZmZlck5hbWVzIjogW10sDQogICAgICAgICAgICAiTGluZURpc2NvdW50IjogIjAuMDAgVVNEIiwNCiAgICAgICAgICAgICJQcm9kdWN0SWQiOiAiMDAwMDAwMCIsDQogICAgICAgICAgICAiU2hpcHBpbmdNZXRob2ROYW1lIjogIkV0aWFtIHJob25jdXMiLA0KICAgICAgICAgICAgIkFkZHJlc3MiOiB7DQogICAgICAgICAgICAgICJBZGRyZXNzMSI6ICJNYXVyaXMgZWdldCBsYWN1cyBzZWQgZG9sb3Igdml2ZXJyYSIsDQogICAgICAgICAgICAgICJDaXR5IjogIkV0aWFtIiwNCiAgICAgICAgICAgICAgIlN0YXRlIjogIkluIGdyYXZpZGEiLA0KICAgICAgICAgICAgICAiWmlwUG9zdGFsQ29kZSI6ICI5OTk5OSIsDQogICAgICAgICAgICAgICJDb3VudHJ5IjogIk5hbSBwdWx2aW5hciINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAiRXJyb3JzIjogW10sDQogICAgICAgICAgICAiSW5mbyI6IFtdLA0KICAgICAgICAgICAgIldhcm5pbmdzIjogW10sDQogICAgICAgICAgICAiSGFzRXJyb3JzIjogZmFsc2UsDQogICAgICAgICAgICAiSGFzSW5mbyI6IGZhbHNlLA0KICAgICAgICAgICAgIkhhc1dhcm5pbmdzIjogZmFsc2UsDQogICAgICAgICAgICAiU3VjY2VzcyI6IHRydWUsDQogICAgICAgICAgICAiVXJsIjogbnVsbCwNCiAgICAgICAgICAgICJDb250ZW50RW5jb2RpbmciOiBudWxsLA0KICAgICAgICAgICAgIkNvbnRlbnRUeXBlIjogbnVsbCwNCiAgICAgICAgICAgICJEYXRhIjogbnVsbCwNCiAgICAgICAgICAgICJKc29uUmVxdWVzdEJlaGF2aW9yIjogMSwNCiAgICAgICAgICAgICJNYXhKc29uTGVuZ3RoIjogbnVsbCwNCiAgICAgICAgICAgICJSZWN1cnNpb25MaW1pdCI6IG51bGwNCiAgICAgICAgICB9DQogICAgICAgIF0sDQogICAgICAgICJFbWFpbCI6ICIiLA0KICAgICAgICAiU3VidG90YWwiOiAiMC4wMCBVU0QiLA0KICAgICAgICAiVGF4VG90YWwiOiAiMC4wMCBVU0QiLA0KICAgICAgICAiVG90YWwiOiAiMC4wMCBVU0QiLA0KICAgICAgICAiU2hpcHBpbmdUb3RhbCI6ICIwLjAwIFVTRCIsDQogICAgICAgICJUb3RhbEFtb3VudCI6IDAuMDAsDQogICAgICAgICJTaGlwbWVudHMiOiBbXSwNCiAgICAgICAgIlBheW1lbnRzIjogW10sDQogICAgICAgICJQYXJ0aWVzIjogW10sDQogICAgICAgICJBY2NvdW50aW5nUGFydHkiOiBudWxsLA0KICAgICAgICAiRGlzY291bnQiOiAiMC4wMCBVU0QiLA0KICAgICAgICAiUHJvbW9Db2RlcyI6IFtdLA0KICAgICAgICAiRXJyb3JzIjogW10sDQogICAgICAgICJJbmZvIjogW10sDQogICAgICAgICJXYXJuaW5ncyI6IFtdLA0KICAgICAgICAiSGFzRXJyb3JzIjogZmFsc2UsDQogICAgICAgICJIYXNJbmZvIjogZmFsc2UsDQogICAgICAgICJIYXNXYXJuaW5ncyI6IGZhbHNlLA0KICAgICAgICAiU3VjY2VzcyI6IHRydWUsDQogICAgICAgICJVcmwiOiBudWxsLA0KICAgICAgICAiQ29udGVudEVuY29kaW5nIjogbnVsbCwNCiAgICAgICAgIkNvbnRlbnRUeXBlIjogbnVsbCwNCiAgICAgICAgIkRhdGEiOiBudWxsLA0KICAgICAgICAiSnNvblJlcXVlc3RCZWhhdmlvciI6IDEsDQogICAgICAgICJNYXhKc29uTGVuZ3RoIjogbnVsbCwNCiAgICAgICAgIlJlY3Vyc2lvbkxpbWl0IjogbnVsbA0KICAgICAgfSwNCiAgICAgICJDdXJyZW5jeUNvZGUiOiAiVVNEIiwNCiAgICAgICJJc1VzZXJBdXRoZW50aWNhdGVkIjogZmFsc2UsDQogICAgICAiVXNlckVtYWlsIjogIiIsDQogICAgICAiQ291bnRyaWVzIjogeyAiQ0EiOiAiQ2FuYWRhIiwgIlVTIjogIlVuaXRlZCBTdGF0ZXMiIH0sDQogICAgICAiVXNlckFkZHJlc3NlcyI6IG51bGwsDQogICAgICAiRXJyb3JzIjogW10sDQogICAgICAiSW5mbyI6IFtdLA0KICAgICAgIldhcm5pbmdzIjogW10sDQogICAgICAiSGFzRXJyb3JzIjogZmFsc2UsDQogICAgICAiSGFzSW5mbyI6IGZhbHNlLA0KICAgICAgIkhhc1dhcm5pbmdzIjogZmFsc2UsDQogICAgICAiU3VjY2VzcyI6IHRydWUsDQogICAgICAiVXJsIjogbnVsbCwNCiAgICAgICJDb250ZW50RW5jb2RpbmciOiBudWxsLA0KICAgICAgIkNvbnRlbnRUeXBlIjogbnVsbCwNCiAgICAgICJEYXRhIjogbnVsbCwNCiAgICAgICJKc29uUmVxdWVzdEJlaGF2aW9yIjogMSwNCiAgICAgICJNYXhKc29uTGVuZ3RoIjogbnVsbCwNCiAgICAgICJSZWN1cnNpb25MaW1pdCI6IG51bGwNCiAgICB9Ow0KDQogICAgcmV0dXJuIG1vY2tEYXRhOw0KICB9DQoNCiAgZnVuY3Rpb24gaW5pdGlhbGl6ZURlbGl2ZXJ5TW9kZWwoZGF0YSkgew0KICAgIGlmIChkYXRhKSB7DQogICAgICBzZWxmLmVtYWlsRGVsaXZlcnlNZXRob2QoZGF0YS5FbWFpbERlbGl2ZXJ5TWV0aG9kKTsNCiAgICAgIHNlbGYuY3VycmVuY3lDb2RlID0gZGF0YS5DdXJyZW5jeUNvZGU7DQoNCiAgICAgIGlmIChkYXRhLkNvdW50cmllcykgew0KICAgICAgICAkLmVhY2goZGF0YS5Db3VudHJpZXMsDQogICAgICAgICAgZnVuY3Rpb24gKGluZGV4LCB2YWx1ZSkgew0KICAgICAgICAgICAgc2VsZi5jb3VudHJpZXMucHVzaChuZXcgQ291bnRyeSh2YWx1ZSwgaW5kZXgpKTsNCiAgICAgICAgICB9KTsNCiAgICAgIH0NCg0KICAgICAgaWYgKGRhdGEuSXNVc2VyQXV0aGVudGljYXRlZCA9PT0gdHJ1ZSAmJiBkYXRhLlVzZXJBZGRyZXNzZXMgJiYgZGF0YS5Vc2VyQWRkcmVzc2VzLkFkZHJlc3Nlcykgew0KICAgICAgICAkLmVhY2goZGF0YS5Vc2VyQWRkcmVzc2VzLkFkZHJlc3NlcywNCiAgICAgICAgICBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICBzZWxmLnVzZXJBZGRyZXNzZXMucHVzaChuZXcgQWRkcmVzc1ZpZXdNb2RlbCh0aGlzKSk7DQogICAgICAgICAgfSk7DQoNCiAgICAgICAgc2VsZi5pc0F1dGhlbnRpY2F0ZWQodHJ1ZSk7DQogICAgICAgIHNlbGYudXNlckVtYWlsID0gZGF0YS5Vc2VyRW1haWw7DQogICAgICB9DQoNCiAgICAgIC8vIEhhYml0YXRIb21lIGN1c3RvbWl6YXRpb24NCiAgICAgIC8vIHNlbGYuY2FydChuZXcgQ2FydFZpZXdNb2RlbChkYXRhLkNhcnQsIHNlbGYudXNlckFkZHJlc3NlcygpKSk7DQogICAgICB2YXIgZGVsaXZlcnlDYXJ0TW9kZWwgPSBuZXcgRGVsaXZlcnlDYXJ0Vmlld01vZGVsKGRhdGEuQ2FydCwgc2VsZi51c2VyQWRkcmVzc2VzKCkpOw0KICAgICAgc2VsZi5jYXJ0KGRlbGl2ZXJ5Q2FydE1vZGVsKTsNCiAgICAgIG1vZGVsQ2FydExpbmVzID0gc2VsZi5jYXJ0KCkuY2FydExpbmVzKCk7DQogICAgICAvLyBlbmQgSGFiaXRhdEhvbWUgY3VzdG9taXphdGlvbg0KDQogICAgICBpZiAoZGF0YS5PcmRlclNoaXBwaW5nT3B0aW9ucykgew0KICAgICAgICAkLmVhY2goZGF0YS5PcmRlclNoaXBwaW5nT3B0aW9ucywNCiAgICAgICAgICBmdW5jdGlvbiAoaW5kZXgsIHZhbHVlKSB7DQogICAgICAgICAgICBzZWxmLm9yZGVyU2hpcHBpbmdPcHRpb25zLnB1c2godmFsdWUpOw0KICAgICAgICAgIH0pOw0KICAgICAgfQ0KDQogICAgICAvLyBIYWJpdGF0SG9tZSBjdXN0b21pemF0aW9uDQogICAgICBBamF4U2VydmljZS5Qb3N0KCJhcGkvY3hhL0RlbGl2ZXJ5L0dldEN1cnJlbnRDYXJ0IiwgIiIsIGZ1bmN0aW9uIChkYXRhLCBzdWNjZXNzLCBzZW5kZXIpIHsNCiAgICAgICAgaWYgKHN1Y2Nlc3MpIHsNCiAgICAgICAgICAkLmVhY2goZGF0YS5EYXRhLCBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgZXhJZDsgdmFyIHByb2RJZDsgdmFyIHZhcklkOw0KICAgICAgICAgICAgJCh0aGlzKS5tYXAoZnVuY3Rpb24gKGksIGIpIHsNCiAgICAgICAgICAgICAgaWYgKChiWydLZXknXSA9PSAnRXh0ZXJuYWxDYXJ0TGluZUlkJykpDQogICAgICAgICAgICAgICAgZXhJZCA9IGJbJ1ZhbHVlJ107DQogICAgICAgICAgICAgIGlmICgoYlsnS2V5J10gPT0gJ1Byb2R1Y3RJZCcpKQ0KICAgICAgICAgICAgICAgIHByb2RJZCA9IGJbJ1ZhbHVlJ107DQogICAgICAgICAgICAgIGlmICgoYlsnS2V5J10gPT0gJ1ZhcmlhbnRJZCcpKQ0KICAgICAgICAgICAgICAgIHZhcklkID0gYlsnVmFsdWUnXTsNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICB2YXIgbWF0Y2ggPSBrby51dGlscy5hcnJheUZpcnN0KHNlbGYuY2FydCgpLmNhcnRMaW5lcygpLCBmdW5jdGlvbiAoYSkgew0KICAgICAgICAgICAgICBpZiAoYS5leHRlcm5hbENhcnRMaW5lSWQgPT09IGV4SWQpIHsNCiAgICAgICAgICAgICAgICBpZiAoZ2V0Q29va2llKCJzeGFfc2l0ZV9zaG9wc19zdG9yZXMiKSAhPSAiIikgew0KICAgICAgICAgICAgICAgICAgc2VsZi5HZXRJbnZlbnRvcnkoYSwgcHJvZElkLCB2YXJJZCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgICAgc2VsZi5Mb2FkTmVhcmVzdFN0b3JlcyhhLCBwcm9kSWQsIHZhcklkKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICAgIC8vIGVuZCBIYWJpdGF0SG9tZSBjdXN0b21pemF0aW9uDQoNCiAgICAgIHNlbGYuaGFuZGxlRWRpdE1vZGUoZGF0YSk7DQogICAgfQ0KICB9DQoNCiAgc2VsZi5jYXJ0ID0ga28ub2JzZXJ2YWJsZSgiIik7DQogIHNlbGYuY3VycmVuY3lDb2RlID0ga28ub2JzZXJ2YWJsZSgiIik7DQoNCiAgc2VsZi5jb3VudHJpZXMgPSBrby5vYnNlcnZhYmxlQXJyYXkoKTsNCiAgc2VsZi5zdGF0ZXMgPSBrby5vYnNlcnZhYmxlQXJyYXkoW10pOw0KDQogIHNlbGYuaXNTaGlwQWxsID0ga28ub2JzZXJ2YWJsZShmYWxzZSk7DQogIHNlbGYuaXNTaGlwVG9FbWFpbCA9IGtvLm9ic2VydmFibGUoZmFsc2UpOw0KICBzZWxmLmlzU2hpcEl0ZW1zID0ga28ub2JzZXJ2YWJsZShmYWxzZSk7DQoNCiAgLy8gSGFiaXRhdEhvbWUgY3VzdG9taXphdGlvbg0KICBzZWxmLmlzUGlja1VwID0ga28ub2JzZXJ2YWJsZShmYWxzZSk7DQogIHNlbGYucGlja1VwU3RvcmVzID0ga28ub2JzZXJ2YWJsZUFycmF5KCk7DQogIHNlbGYucGlja1VwU3RvcmVJZCA9IGtvLm9ic2VydmFibGUoIiIpOw0KICBzZWxmLnN0b3JlID0ga28ub2JzZXJ2YWJsZShuZXcgTmV3UGlja3VwU3RvcmUoeyAiRXh0ZXJuYWxJZCI6ICIwIiB9KSk7DQogIHNlbGYuc3RvcmVEZWxpdmVyeU1ldGhvZCA9IGtvLm9ic2VydmFibGUoIiIpOw0KICAvLyBlbmQgSGFiaXRhdEhvbWUgY3VzdG9taXphdGlvbg0KDQogIHNlbGYuZW1haWxEZWxpdmVyeU1ldGhvZCA9IGtvLm9ic2VydmFibGUoIiIpOw0KICBzZWxmLm9yZGVyU2hpcHBpbmdPcHRpb25zID0ga28ub2JzZXJ2YWJsZUFycmF5KCk7DQoNCiAgc2VsZi5zZWxlY3RlZFNoaXBwaW5nT3B0aW9uID0ga28ub2JzZXJ2YWJsZSgnMCcpOw0KICBzZWxmLnNlbGVjdGVkU2hpcHBpbmdPcHRpb24uc3Vic2NyaWJlKGZ1bmN0aW9uIChvcHRpb24pIHsNCiAgICBzZWxmLmlzU2hpcEFsbChvcHRpb24gPT09IDEpOw0KICAgIC8vIEhhYml0YXRIb21lIGN1c3RvbWl6YXRpb24NCiAgICBzZWxmLmlzUGlja1VwKG9wdGlvbiA9PT0gMik7DQogICAgLy8gZW5kIEhhYml0YXRIb21lIGN1c3RvbWl6YXRpb24NCiAgICBzZWxmLmlzU2hpcFRvRW1haWwob3B0aW9uID09PSAzKTsNCiAgICBzZWxmLmlzU2hpcEl0ZW1zKG9wdGlvbiA9PT0gNCk7DQogIH0uYmluZCh0aGlzKSk7DQoNCiAgc2VsZi5pc0F1dGhlbnRpY2F0ZWQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTsNCiAgc2VsZi51c2VyRW1haWwgPSAiIjsNCg0KICBzZWxmLnVzZXJBZGRyZXNzZXMgPSBrby5vYnNlcnZhYmxlQXJyYXkoKTsNCiAgc2VsZi51c2VyQWRkcmVzc2VzLnB1c2gobmV3IEFkZHJlc3NWaWV3TW9kZWwoeyAiRXh0ZXJuYWxJZCI6ICJVc2VTaGlwcGluZyIsICJGdWxsQWRkcmVzcyI6ICQoIiNiaWxsaW5nQWRkcmVzc1NlbGVjdCIpLmF0dHIoInRpdGxlIikgfSkpOw0KICBzZWxmLnVzZXJBZGRyZXNzZXMucHVzaChuZXcgQWRkcmVzc1ZpZXdNb2RlbCh7ICJFeHRlcm5hbElkIjogIlVzZU90aGVyIiwgIkZ1bGxBZGRyZXNzIjogJCgiI1NoaXBwaW5nQWRkcmVzc1NlbGVjdCIpLmF0dHIoInRpdGxlMiIpIH0pKTsNCg0KICBzZWxmLnNoaXBwaW5nTWV0aG9kcyA9IGtvLm9ic2VydmFibGVBcnJheSgpOw0KICAvLyBIYWJpdGF0SG9tZSBjdXN0b21pemF0aW9uDQogIHNlbGYucGlja3VwTWV0aG9kID0ga28ub2JzZXJ2YWJsZUFycmF5KCk7DQogIC8vIGVuZCBIYWJpdGF0SG9tZSBjdXN0b21pemF0aW9uDQogIHNlbGYuc2hpcHBpbmdNZXRob2QgPSBrby52YWxpZGF0ZWRPYnNlcnZhYmxlKCkuZXh0ZW5kKHsgcmVxdWlyZWQ6IHRydWUgfSk7DQoNCiAgc2VsZi5zaGlwcGluZ0FkZHJlc3MgPSBrby52YWxpZGF0ZWRPYnNlcnZhYmxlKG5ldyBBZGRyZXNzVmlld01vZGVsKHsgIkV4dGVybmFsSWQiOiAiMCIgfSkpOw0KICBzZWxmLnNoaXBwaW5nQWRkcmVzc0ZpZWxkQ2hhbmdlZCA9IGZ1bmN0aW9uICgpIHsNCiAgICBzZWxmLnNoaXBwaW5nTWV0aG9kKCIiKTsNCiAgICBzZWxmLnNoaXBwaW5nTWV0aG9kcy5yZW1vdmVBbGwoKTsNCiAgfTsNCg0KICBzZWxmLnNlbGVjdGVkU2hpcHBpbmdBZGRyZXNzID0ga28ub2JzZXJ2YWJsZSgiVXNlT3RoZXIiKTsNCiAgc2VsZi5zZWxlY3RlZFNoaXBwaW5nQWRkcmVzcy5zdWJzY3JpYmUoZnVuY3Rpb24gKGlkKSB7DQogICAgdmFyIG1hdGNoID0gc2VsZi5nZXRBZGRyZXNzKGlkKTsNCiAgICBzZWxmLnNoaXBwaW5nTWV0aG9kKCIiKTsNCiAgICBzZWxmLnNoaXBwaW5nTWV0aG9kcy5yZW1vdmVBbGwoKTsNCiAgICBpZiAobWF0Y2gpIHsNCiAgICAgIHNlbGYuc2hpcHBpbmdBZGRyZXNzKG1hdGNoKTsNCiAgICB9IGVsc2Ugew0KICAgICAgc2VsZi5zaGlwcGluZ0FkZHJlc3MobmV3IEFkZHJlc3NWaWV3TW9kZWwoeyAiRXh0ZXJuYWxJZCI6ICIwIiB9KSk7DQogICAgfQ0KICB9LmJpbmQodGhpcykpOw0KDQogIHNlbGYuc2hpcHBpbmdFbWFpbCA9IGtvLnZhbGlkYXRlZE9ic2VydmFibGUoKS5leHRlbmQoeyByZXF1aXJlZDogdHJ1ZSwgZW1haWw6IHRydWUgfSk7DQogIHNlbGYuc2hpcHBpbmdFbWFpbENvbnRlbnQgPSBrby5vYnNlcnZhYmxlKCIiKTsNCiAgc2VsZi5zZXRTZW5kVG9NZSA9IGZ1bmN0aW9uIChpdGVtLCBldmVudCkgew0KICAgIHZhciBlbWFpbCA9ICQoZXZlbnQuY3VycmVudFRhcmdldCkuaXMoJzpjaGVja2VkJykgPyBzZWxmLnVzZXJFbWFpbCA6ICIiOw0KICAgIGl0ZW0uc2hpcHBpbmdFbWFpbChlbWFpbCk7DQogIH07DQoNCiAgc2VsZi5lbmFibGVUb0JpbGxpbmcgPSBrby5jb21wdXRlZCh7DQogICAgcmVhZDogZnVuY3Rpb24gKCkgew0KICAgICAgaWYgKHNlbGYuaXNTaGlwVG9FbWFpbCgpKSB7DQogICAgICAgIHJldHVybiBzZWxmLnNoaXBwaW5nRW1haWwoKSAmJiBzZWxmLnNoaXBwaW5nRW1haWwuaXNWYWxpZCgpOw0KICAgICAgfQ0KDQogICAgICBpZiAoc2VsZi5pc1NoaXBBbGwoKSkgew0KICAgICAgICByZXR1cm4gc2VsZi5zaGlwcGluZ01ldGhvZC5pc1ZhbGlkKCkgJiYgc2VsZi5zaGlwcGluZ0FkZHJlc3MuaXNWYWxpZCgpOw0KICAgICAgfQ0KDQogICAgICBpZiAoc2VsZi5pc1NoaXBJdGVtcygpKSB7DQogICAgICAgIHZhciBpc1ZhbGlkID0gW107DQogICAgICAgICQuZWFjaChzZWxmLmNhcnQoKS5jYXJ0TGluZXMoKSwgZnVuY3Rpb24gKCkgew0KICAgICAgICAgIGlmICh0aGlzLmlzTGluZVNoaXBUb0VtYWlsKCkpIHsNCiAgICAgICAgICAgIGlzVmFsaWQucHVzaCh0aGlzLnNoaXBwaW5nRW1haWwoKSAmJiB0aGlzLnNoaXBwaW5nRW1haWwuaXNWYWxpZCgpKTsNCiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNMaW5lU2hpcEFsbCgpKSB7DQogICAgICAgICAgICBpc1ZhbGlkLnB1c2godGhpcy5zaGlwcGluZ01ldGhvZC5pc1ZhbGlkKCkgJiYgdGhpcy5zaGlwcGluZ0FkZHJlc3MuaXNWYWxpZCgpKTsNCiAgICAgICAgICAvLyBIYWJpdGF0SG9tZSBjdXN0b21pemF0aW9uDQogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzTGluZVBpY2tVcCgpKSB7DQogICAgICAgICAgICB2YXIgaW5wUGlja1VwU3RvcmUgPSAkKCdpbnB1dFtuYW1lPXBpY2tVcE9wdGlvbnNdOmNoZWNrZWQnKTsNCiAgICAgICAgICAgIGlmIChpbnBQaWNrVXBTdG9yZS5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgdmFyIHN0b3JlT2JqZWN0ID0ga28uY29udGV4dEZvcihpbnBQaWNrVXBTdG9yZS5wYXJlbnRzKClbMF0pOw0KICAgICAgICAgICAgICBpc1ZhbGlkLnB1c2goc3RvcmVPYmplY3QuJGRhdGEuQWRkcmVzczEgIT0gbnVsbCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgLy8gZW5kIEhhYml0YXRIb21lIGN1c3RvbWl6YXRpb24NCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgaXNWYWxpZC5wdXNoKGZhbHNlKTsNCiAgICAgICAgICB9DQogICAgICAgIH0pOw0KDQogICAgICAgIHJldHVybiBpc1ZhbGlkLmV2ZXJ5KGlzSXRlbVZhbGlkKTsNCiAgICAgIH0NCg0KICAgICAgLy8gSGFiaXRhdEhvbWUgY3VzdG9taXphdGlvbg0KICAgICAgaWYgKHNlbGYuaXNQaWNrVXAoKSkgew0KICAgICAgICBjb25zb2xlLmxvZygiaXNwaWNrdXVwIik7DQogICAgICAgIHZhciBpbnBQaWNrVXBTdG9yZSA9ICQoJ2lucHV0W25hbWU9cGlja1VwT3B0aW9uc106Y2hlY2tlZCcpOw0KICAgICAgICBpZiAoaW5wUGlja1VwU3RvcmUubGVuZ3RoKSB7DQogICAgICAgICAgdmFyIHN0b3JlT2JqZWN0ID0ga28uY29udGV4dEZvcihpbnBQaWNrVXBTdG9yZS5wYXJlbnRzKClbMF0pOw0KICAgICAgICAgIHJldHVybiAoc3RvcmVPYmplY3QuJGRhdGEuQWRkcmVzczEgIT0gbnVsbCk7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIC8vIGVuZCBIYWJpdGF0SG9tZSBjdXN0b21pemF0aW9uDQoNCiAgICAgIHJldHVybiBudWxsOw0KICAgIH0sDQogICAgd3JpdGU6IGZ1bmN0aW9uICh2YWx1ZSkgew0KICAgICAgcmV0dXJuIEJvb2xlYW4odmFsdWUpOw0KICAgIH0NCiAgfSk7DQoNCiAgc2VsZi5nZXRBZGRyZXNzID0gZnVuY3Rpb24gKGlkKSB7DQogICAgdmFyIG1hdGNoID0ga28udXRpbHMuYXJyYXlGaXJzdChzZWxmLnVzZXJBZGRyZXNzZXMoKSwgZnVuY3Rpb24gKGEpIHsNCiAgICAgIGlmIChhLmV4dGVybmFsSWQoKSA9PT0gaWQgJiYgaWQgIT09ICJVc2VPdGhlciIpIHsNCiAgICAgICAgcmV0dXJuIGE7DQogICAgICB9DQoNCiAgICAgIHJldHVybiBudWxsOw0KICAgIH0pOw0KDQogICAgcmV0dXJuIG1hdGNoOw0KICB9Ow0KDQogIHNlbGYuZ2V0U2hpcHBpbmdNZXRob2RzID0gZnVuY3Rpb24gKCkgew0KICAgIGlmIChDWEFBcHBsaWNhdGlvbi5Jc0V4cGVyaWVuY2VFZGl0b3JNb2RlKCkpIHsNCiAgICAgIHZhciBtb2NrRGF0YSA9IGdldFNoaXBwaW5nTWV0aG9kc01vY2tEYXRhKCk7DQogICAgICBzZWxmLnNldFNoaXBwaW5nTWV0aG9kcyhtb2NrRGF0YS5TaGlwcGluZ01ldGhvZHMpOw0KICAgICAgJCgiI29yZGVyR2V0U2hpcHBpbmdNZXRob2RzIikuYnV0dG9uKCdyZXNldCcpOw0KICAgIH0gZWxzZSBpZiAoc2VsZi5zaGlwcGluZ0FkZHJlc3MoKSAmJiBzZWxmLnNoaXBwaW5nQWRkcmVzcy5lcnJvcnMoKS5sZW5ndGggPT09IDApIHsNCiAgICAgICQoIiNvcmRlckdldFNoaXBwaW5nTWV0aG9kcyIpLmJ1dHRvbignbG9hZGluZycpOw0KICAgICAgdmFyIHBhcnR5ID0ga28udG9KUyhzZWxmLnNoaXBwaW5nQWRkcmVzcygpKTsNCiAgICAgIHZhciBkYXRhID0geyBTaGlwcGluZ0FkZHJlc3M6IHBhcnR5LCBTaGlwcGluZ1ByZWZlcmVuY2VUeXBlOiBzZWxmLnNlbGVjdGVkU2hpcHBpbmdPcHRpb24oKSwgTGluZXM6IG51bGwgfTsNCg0KICAgICAgQWpheFNlcnZpY2UuUG9zdCgiL2FwaS9jeGEvY2hlY2tvdXQvR2V0U2hpcHBpbmdNZXRob2RzIiwNCiAgICAgICAgZGF0YSwNCiAgICAgICAgZnVuY3Rpb24gKGRhdGEsIHN1Y2Nlc3MsIHNlbmRlcikgew0KICAgICAgICAgIGlmIChkYXRhLlN1Y2Nlc3MgJiYgc3VjY2Vzcykgew0KICAgICAgICAgICAgc2VsZi5zZXRTaGlwcGluZ01ldGhvZHMoZGF0YS5TaGlwcGluZ01ldGhvZHMpOw0KICAgICAgICAgIH0NCg0KICAgICAgICAgICQoIiNvcmRlckdldFNoaXBwaW5nTWV0aG9kcyIpLmJ1dHRvbigncmVzZXQnKTsNCiAgICAgICAgfSwgJCh0aGlzKSk7DQogICAgfSBlbHNlIHsNCiAgICAgIGNvbXBvbmVudC5kZWxpdmVyeVZNLnNoaXBwaW5nQWRkcmVzcy5lcnJvcnMuc2hvd0FsbE1lc3NhZ2VzKCk7DQogICAgfQ0KICB9Ow0KDQogIHNlbGYuc2V0U2hpcHBpbmdNZXRob2RzID0gZnVuY3Rpb24gKHNoaXBwaW5nTWV0aG9kRGF0YUxpc3QpIHsNCiAgICB2YXIgbWV0aG9kcyA9ICIiOw0KICAgIHNlbGYuc2hpcHBpbmdNZXRob2RzLnJlbW92ZUFsbCgpOw0KICAgICQuZWFjaChzaGlwcGluZ01ldGhvZERhdGFMaXN0LCBmdW5jdGlvbiAoaSwgdikgew0KICAgICAgLy8gSGFiaXRhdEhvbWUgY3VzdG9taXphdGlvbg0KICAgICAgaWYgKHYuRGVzY3JpcHRpb24gPT0gIlBpY2t1cCBGcm9tIFN0b3JlIikgew0KICAgICAgICBzZWxmLnBpY2t1cE1ldGhvZChuZXcgbWV0aG9kKHYuRGVzY3JpcHRpb24sIHYuRXh0ZXJuYWxJZCkpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgIC8vIGVuZCBIYWJpdGF0SG9tZSBjdXN0b21pemF0aW9uDQogICAgICAgIHNlbGYuc2hpcHBpbmdNZXRob2RzLnB1c2gobmV3IG1ldGhvZCh2LkRlc2NyaXB0aW9uLCB2LkV4dGVybmFsSWQsIHYuTmFtZSkpOw0KICAgICAgLy8gSGFiaXRhdEhvbWUgY3VzdG9taXphdGlvbg0KICAgICAgfQ0KICAgICAgLy8gZW5kIEhhYml0YXRIb21lIGN1c3RvbWl6YXRpb24NCiAgICB9KTsNCiAgfTsNCg0KICBzZWxmLmhhbmRsZUVkaXRNb2RlU2hpcEFsbCA9IGZ1bmN0aW9uIChkYXRhKSB7DQogICAgc2VsZi5pc1NoaXBBbGwodHJ1ZSk7DQoNCiAgICB2YXIgc2hpcG1lbnQgPSBkYXRhLkNhcnQuU2hpcG1lbnRzWzBdOw0KICAgIGlmIChzaGlwbWVudCAmJiBzaGlwbWVudC5FZGl0TW9kZVNoaXBwaW5nT3B0aW9uVHlwZSApIHsNCiAgICAgIHNlbGYuc2VsZWN0ZWRTaGlwcGluZ09wdGlvbihzaGlwbWVudC5FZGl0TW9kZVNoaXBwaW5nT3B0aW9uVHlwZS5WYWx1ZSk7DQogICAgICB2YXIgb3JkZXJTaGlwcGluZ1ByZWZlcmVuY2UgPSBzZWxmLnNlbGVjdGVkU2hpcHBpbmdPcHRpb24oKTsNCg0KICAgICAgLy8gU2hpcFRvQWRkcmVzcw0KICAgICAgaWYgKG9yZGVyU2hpcHBpbmdQcmVmZXJlbmNlID09PSAxKSB7DQogICAgICAgIHZhciBwYXJ0eUlkID0gc2VsZi5jYXJ0KCkuc2hpcG1lbnRzWzBdLnBhcnR5SWQ7DQogICAgICAgIHZhciBwYXJ0eSA9IGtvLnV0aWxzLmFycmF5Rmlyc3Qoc2VsZi5jYXJ0KCkucGFydGllcywgZnVuY3Rpb24gKGEpIHsNCiAgICAgICAgICBpZiAoYS5leHRlcm5hbElkKCkgPT09IHBhcnR5SWQpIHsNCiAgICAgICAgICAgIHJldHVybiBhOw0KICAgICAgICAgIH0NCg0KICAgICAgICAgIHJldHVybiBudWxsOw0KICAgICAgICB9KTsNCg0KICAgICAgICBpZiAocGFydHkpIHsNCiAgICAgICAgICBzZWxmLnNoaXBwaW5nQWRkcmVzcyhwYXJ0eSk7DQogICAgICAgIH0NCiAgICAgIH0NCg0KICAgICAgLy8gSGFiaXRhdEhvbWUgY3VzdG9taXphdGlvbg0KICAgICAgLy8gUGljayB1cCBmcm9tIFN0b3JlDQogICAgICBpZiAob3JkZXJTaGlwcGluZ1ByZWZlcmVuY2UgPT09IDIpIHsNCiAgICAgICAgc2VsZi5zZWxlY3RlZFNoaXBwaW5nT3B0aW9uKDIpOw0KICAgICAgfQ0KICAgICAgLy8gZW5kIEhhYml0YXRIb21lIGN1c3RvbWl6YXRpb24NCg0KICAgICAgLy8gRW1haWwNCiAgICAgIGlmIChvcmRlclNoaXBwaW5nUHJlZmVyZW5jZSA9PT0gMykgew0KICAgICAgICBzZWxmLnNoaXBwaW5nRW1haWwoc2hpcG1lbnQuRW1haWwpOw0KICAgICAgICBzZWxmLnNoaXBwaW5nRW1haWxDb250ZW50KHNoaXBtZW50LkVtYWlsQ29udGVudCk7DQogICAgICB9DQoNCiAgICAgIGlmIChzaGlwbWVudC5TaGlwbWVudEVkaXRNb2RlbCAmJiBzaGlwbWVudC5TaGlwbWVudEVkaXRNb2RlbC5TaGlwcGluZ01ldGhvZHMpIHsNCiAgICAgICAgc2VsZi5zZXRTaGlwcGluZ01ldGhvZHMoc2hpcG1lbnQuU2hpcG1lbnRFZGl0TW9kZWwuU2hpcHBpbmdNZXRob2RzKTsNCg0KICAgICAgICB2YXIgc20gPSBrby51dGlscy5hcnJheUZpcnN0KHNlbGYuc2hpcHBpbmdNZXRob2RzKCksIGZ1bmN0aW9uIChhKSB7DQogICAgICAgICAgaWYgKGEubmFtZSA9PT0gc2hpcG1lbnQuU2hpcHBpbmdNZXRob2ROYW1lKSB7DQogICAgICAgICAgICByZXR1cm4gYTsNCiAgICAgICAgICB9DQoNCiAgICAgICAgICByZXR1cm4gbnVsbDsNCiAgICAgICAgfSk7DQoNCiAgICAgICAgaWYgKHNtKSB7DQogICAgICAgICAgc2VsZi5zaGlwcGluZ01ldGhvZChzbSk7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQogIH07DQoNCiAgc2VsZi5oYW5kbGVFZGl0TW9kZVNoaXBJbmRpdmlkdWFsbHkgPSBmdW5jdGlvbiAoZGF0YSkgew0KICAgIHNlbGYuaXNTaGlwQWxsKGZhbHNlKTsNCiAgICBzZWxmLmlzU2hpcEl0ZW1zKHRydWUpOw0KICAgIHNlbGYuc2VsZWN0ZWRTaGlwcGluZ09wdGlvbig0KTsNCiAgICAkLmVhY2goc2VsZi5jYXJ0KCkuY2FydExpbmVzKCksIGZ1bmN0aW9uIChpbmRleCwgdmFsdWUpIHsNCiAgICAgIHZhbHVlLmhhbmRsZUVkaXRNb2RlKGRhdGEpOw0KICAgIH0pOw0KICB9Ow0KDQogIHNlbGYuaGFuZGxlRWRpdE1vZGUgPSBmdW5jdGlvbiAoZGF0YSkgew0KICAgIGlmIChzZWxmLmNhcnQoKS5zaGlwbWVudHMgJiYgc2VsZi5jYXJ0KCkuc2hpcG1lbnRzLmxlbmd0aCA+IDApIHsNCiAgICAgIGlmIChzZWxmLmNhcnQoKS5zaGlwbWVudHMubGVuZ3RoID09PSAxKSB7DQogICAgICAgIHNlbGYuaGFuZGxlRWRpdE1vZGVTaGlwQWxsKGRhdGEpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgc2VsZi5oYW5kbGVFZGl0TW9kZVNoaXBJbmRpdmlkdWFsbHkoZGF0YSk7DQogICAgICB9DQogICAgfQ0KICB9Ow0KDQogIHNlbGYubG9hZCA9IGZ1bmN0aW9uICgpIHsNCiAgICBpZiAoQ1hBQXBwbGljYXRpb24uSXNFeHBlcmllbmNlRWRpdG9yTW9kZSgpKSB7DQogICAgICB2YXIgZGF0YSA9IGdldERlbGl2ZXJ5TW9ja0RhdGEoKTsNCiAgICAgIGluaXRpYWxpemVEZWxpdmVyeU1vZGVsKGRhdGEpOw0KICAgIH0gZWxzZSB7DQogICAgICBBamF4U2VydmljZS5Qb3N0KCIvYXBpL2N4YS9jaGVja291dC9HZXREZWxpdmVyeURhdGEiLCBudWxsLCBmdW5jdGlvbiAoZGF0YSwgc3VjY2Vzcywgc2VuZGVyKSB7DQogICAgICAgIGlmIChzdWNjZXNzICYmIGRhdGEuU3VjY2Vzcykgew0KICAgICAgICAgIGluaXRpYWxpemVEZWxpdmVyeU1vZGVsKGRhdGEpOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9DQogIH07DQoNCiAgLy8gSGFiaXRhdEhvbWUgY3VzdG9taXphdGlvbg0KICBzZWxmLkdldEludmVudG9yeSA9IGZ1bmN0aW9uIChjYXJ0TGluZSwgcHJvZHVjdElkLCB2YXJpYW50SWQpIHsNCiAgICB2YXIgU2VydmljZVJlcXVlc3QgPSBuZXcgT2JqZWN0KCk7DQogICAgU2VydmljZVJlcXVlc3QuUHJvZHVjdElkID0gcHJvZHVjdElkOw0KICAgIFNlcnZpY2VSZXF1ZXN0LlZhcmlhbnRJZCA9IHZhcmlhbnRJZDsNCiAgICB2YXIgcHJvbWlzZSA9IEdldEludmVudG9yeShTZXJ2aWNlUmVxdWVzdCkuZG9uZShmdW5jdGlvbiAocmVzdWx0KSB7DQogICAgICBpZiAocmVzdWx0LkVycm9ycyAhPSBudWxsICYgcmVzdWx0LkVycm9ycyAhPSAidW5kZWZpbmVkIikgew0KICAgICAgICBzZWxmLkVycm9yTWVzc2FnZShkYXRhLkVycm9yc1swXSk7DQogICAgICB9DQogICAgICBlbHNlIHsNCiAgICAgICAgdmFyIHN0b3Jlc0RhdGEgPSByZXN1bHQuRGF0YTsNCiAgICAgICAgdmFyIHN0b3Jlc0xpc3QgPSBbXTsNCiAgICAgICAgLy9zZWxmLk5lYXJlc3RTdG9yZXNMaXN0KHN0b3Jlc0RhdGEpOw0KICAgICAgICAkLmVhY2gocmVzdWx0LkRhdGEsIGZ1bmN0aW9uIChpbmRleCwgdmFsdWUpIHsNCiAgICAgICAgICB2YXIgbmV3U3RvcmUgPSBuZXcgTmV3UGlja3VwU3RvcmUodmFsdWUpOw0KICAgICAgICAgIHN0b3Jlc0xpc3QucHVzaChuZXdTdG9yZSk7DQogICAgICAgIH0pOw0KICAgICAgICBjYXJ0TGluZS5saW5lUGlja1VwU3RvcmVzKHN0b3Jlc0xpc3QpOw0KICAgICAgfQ0KICAgIH0pOw0KICB9Ow0KDQogIHNlbGYuTG9hZE5lYXJlc3RTdG9yZXMgPSBmdW5jdGlvbiAoY2FydExpbmUsIHByb2R1Y3RJZCwgdmFyaWFudElkKSB7DQogICAgdmFyIFNlcnZpY2VSZXF1ZXN0ID0gbmV3IE9iamVjdCgpOw0KICAgIFNlcnZpY2VSZXF1ZXN0LkxhdGl0dWRlID0gIiI7DQogICAgU2VydmljZVJlcXVlc3QuTG9uZ2l0dWRlID0gIiI7DQogICAgU2VydmljZVJlcXVlc3QuUHJvZHVjdElkID0gcHJvZHVjdElkOw0KICAgIFNlcnZpY2VSZXF1ZXN0LlZhcmlhbnRJZCA9IHZhcmlhbnRJZDsNCiAgICB2YXIgcHJvbWlzZSA9IEdldE5lYXJlc3RTdG9yZXMoU2VydmljZVJlcXVlc3QpLmRvbmUoZnVuY3Rpb24gKHJlc3VsdCkgew0KICAgICAgaWYgKHJlc3VsdC5FcnJvcnMgIT0gbnVsbCAmIHJlc3VsdC5FcnJvcnMgIT0gInVuZGVmaW5lZCIpIHsNCiAgICAgICAgc2VsZi5FcnJvck1lc3NhZ2UoZGF0YS5FcnJvcnNbMF0pOw0KICAgICAgfQ0KICAgICAgZWxzZSB7DQogICAgICAgIHZhciBzdG9yZXNMaXN0ID0gW107DQogICAgICAgIGlmIChyZXN1bHQuRGF0YS5sZW5ndGggPiAwKSB7DQogICAgICAgICAgJC5lYWNoKHJlc3VsdC5EYXRhLCBmdW5jdGlvbiAoaW5kZXgsIHZhbHVlKSB7DQogICAgICAgICAgICB2YXIgbmV3U3RvcmUgPSBuZXcgTmV3UGlja3VwU3RvcmUodmFsdWUpOw0KICAgICAgICAgICAgc3RvcmVzTGlzdC5wdXNoKG5ld1N0b3JlKTsNCiAgICAgICAgICB9KTsNCiAgICAgICAgICBjYXJ0TGluZS5saW5lUGlja1VwU3RvcmVzKHN0b3Jlc0xpc3QpOw0KICAgICAgICB9DQogICAgICB9DQogICAgfSk7DQogIH07DQoNCiAgc2VsZi5zZXRQaWNrVXBTdG9yZSA9IGZ1bmN0aW9uIChtb2RlbCkgew0KICAgIHNlbGYucGlja1VwU3RvcmVJZCA9IG1vZGVsLkludmVudG9yeVN0b3JlSWQ7DQogICAgc2VsZi5zdG9yZShtb2RlbCk7DQogIH07DQogIC8vIGVuZCBIYWJpdGF0SG9tZSBjdXN0b21pemF0aW9uDQoNCiAgc2VsZi5nb1RvTmV4dFBhZ2VDbGljayA9IGZ1bmN0aW9uICgpIHsNCiAgICB2YXIgcGFydGllcyA9IFtdOw0KICAgIHZhciBzaGlwcGluZyA9IFtdOw0KICAgIHZhciBvcmRlclNoaXBwaW5nUHJlZmVyZW5jZSA9IHNlbGYuc2VsZWN0ZWRTaGlwcGluZ09wdGlvbigpOw0KICAgICQoIiNkZWxpdmVyeU1ldGhvZFNldCIpLnZhbChmYWxzZSk7DQoNCiAgICAkKCIjVG9CaWxsaW5nQnV0dG9uIikuYnV0dG9uKCdsb2FkaW5nJyk7DQogICAgLy8gICAgICAgICQoIiNCYWNrVG9CaWxsaW5nQnV0dG9uIikuYnV0dG9uKCdsb2FkaW5nJyk7DQoNCiAgICBpZiAob3JkZXJTaGlwcGluZ1ByZWZlcmVuY2UgPT09IDEpIHsNCiAgICAgIHZhciBwYXJ0eUlkID0gc2VsZi5zaGlwcGluZ0FkZHJlc3MoKS5leHRlcm5hbElkKCk7DQogICAgICBwYXJ0aWVzLnB1c2goew0KICAgICAgICAiTmFtZSI6IHNlbGYuc2hpcHBpbmdBZGRyZXNzKCkubmFtZSgpLA0KICAgICAgICAiQWRkcmVzczEiOiBzZWxmLnNoaXBwaW5nQWRkcmVzcygpLmFkZHJlc3MxKCksDQogICAgICAgICJDb3VudHJ5Ijogc2VsZi5zaGlwcGluZ0FkZHJlc3MoKS5jb3VudHJ5KCksDQogICAgICAgICJDaXR5Ijogc2VsZi5zaGlwcGluZ0FkZHJlc3MoKS5jaXR5KCksDQogICAgICAgICJTdGF0ZSI6IHNlbGYuc2hpcHBpbmdBZGRyZXNzKCkuc3RhdGUoKSwNCiAgICAgICAgIlppcFBvc3RhbENvZGUiOiBzZWxmLnNoaXBwaW5nQWRkcmVzcygpLnppcFBvc3RhbENvZGUoKSwNCiAgICAgICAgIkV4dGVybmFsSWQiOiBwYXJ0eUlkLA0KICAgICAgICAiUGFydHlJZCI6IHBhcnR5SWQNCiAgICAgIH0pOw0KDQogICAgICBzaGlwcGluZy5wdXNoKHsNCiAgICAgICAgIlNoaXBwaW5nTWV0aG9kSUQiOiBzZWxmLnNoaXBwaW5nTWV0aG9kKCkuaWQsDQogICAgICAgICJTaGlwcGluZ01ldGhvZE5hbWUiOiBzZWxmLnNoaXBwaW5nTWV0aG9kKCkubmFtZSwNCiAgICAgICAgIlNoaXBwaW5nUHJlZmVyZW5jZVR5cGUiOiBvcmRlclNoaXBwaW5nUHJlZmVyZW5jZSwNCiAgICAgICAgIlBhcnR5SUQiOiBwYXJ0eUlkDQogICAgICB9KTsNCiAgICB9IGVsc2UgaWYgKG9yZGVyU2hpcHBpbmdQcmVmZXJlbmNlID09PSAyKSB7DQogICAgICB2YXIgc3RvcmVJZCA9IHNlbGYuc3RvcmUoKS5leHRlcm5hbElkKCk7DQogICAgICAvLyBIYWJpdGF0SG9tZSBjdXN0b21pemF0aW9uDQogICAgICB2YXIgaW5wTmFtZSA9ICdwaWNrVXBPcHRpb25zJzsNCiAgICAgIHZhciBpbnBQaWNrVXBTdG9yZSA9ICQoJ2lucHV0W25hbWU9JyArIGlucE5hbWUgKyAnXTpjaGVja2VkJyk7DQogICAgICB2YXIgc3RvcmVPYmplY3QgPSBrby5jb250ZXh0Rm9yKGlucFBpY2tVcFN0b3JlLnBhcmVudHMoKVswXSk7DQoNCiAgICAgIHNlbGYuc2VsZWN0ZWRTaGlwcGluZ09wdGlvbigyKTsNCg0KICAgICAgaWYgKHNlbGYuc3RvcmUoKS5JbnZlbnRvcnlTdG9yZUlkID09IG51bGwpIHsNCiAgICAgICAgc2VsZi5zZXRQaWNrVXBTdG9yZShzdG9yZU9iamVjdC4kZGF0YSk7DQogICAgICB9DQoNCiAgICAgIHZhciBzdG9yZXNoaXBwaW5nQWRkcmVzcyA9IG5ldyBPYmplY3QoKTsNCiAgICAgIHN0b3Jlc2hpcHBpbmdBZGRyZXNzLmV4dGVybmFsSWQgPSAwOw0KICAgICAgc3RvcmVzaGlwcGluZ0FkZHJlc3MucGFydHlJZCA9IDA7DQogICAgICBzdG9yZXNoaXBwaW5nQWRkcmVzcy5uYW1lID0gc2VsZi5zdG9yZSgpLkludmVudG9yeVN0b3JlSWQ7DQogICAgICBzdG9yZXNoaXBwaW5nQWRkcmVzcy5hZGRyZXNzMSA9IHNlbGYuc3RvcmUoKS5BZGRyZXNzMTsNCiAgICAgIHN0b3Jlc2hpcHBpbmdBZGRyZXNzLmNpdHkgPSBzZWxmLnN0b3JlKCkuQ2l0eTsNCiAgICAgIHN0b3Jlc2hpcHBpbmdBZGRyZXNzLnN0YXRlID0gc2VsZi5zdG9yZSgpLlN0YXRlOw0KICAgICAgc3RvcmVzaGlwcGluZ0FkZHJlc3MuemlwUG9zdGFsQ29kZSA9IHNlbGYuc3RvcmUoKS5aaXA7DQogICAgICBzdG9yZXNoaXBwaW5nQWRkcmVzcy5jb3VudHJ5ID0gc2VsZi5zdG9yZSgpLkNvdW50cnk7DQogICAgICBzdG9yZXNoaXBwaW5nQWRkcmVzcy5pc1ByaW1hcnkgPSBmYWxzZTsNCiAgICAgIHN0b3Jlc2hpcHBpbmdBZGRyZXNzLmZ1bGxBZGRyZXNzID0gc2VsZi5zdG9yZSgpLkFkZHJlc3MxICsgIiAiICsgc2VsZi5zdG9yZSgpLkNpdHkgKyAiICIgKyBzZWxmLnN0b3JlKCkuU3RhdGUgKyAiICIgKyBzZWxmLnN0b3JlKCkuWmlwICsgIiAiICsgc2VsZi5zdG9yZSgpLkNvdW50cnk7DQogICAgICBzdG9yZXNoaXBwaW5nQWRkcmVzcy5kZXRhaWxzVXJsID0gIiI7DQoNCiAgICAgIHZhciBwYXJ0eSA9IGtvLnRvSlMoc3RvcmVzaGlwcGluZ0FkZHJlc3MpOw0KICAgICAgdmFyIGRhdGEgPSB7IFNoaXBwaW5nQWRkcmVzczogcGFydHksIFNoaXBwaW5nUHJlZmVyZW5jZVR5cGU6IHNlbGYuc2VsZWN0ZWRTaGlwcGluZ09wdGlvbigpLCBMaW5lczogbnVsbCB9Ow0KDQogICAgICBBamF4U2VydmljZS5Qb3N0KCIvYXBpL2N4YS9jaGVja291dC9HZXRTaGlwcGluZ01ldGhvZHMiLCBkYXRhLCBmdW5jdGlvbiAoZGF0YSwgc3VjY2Vzcywgc2VuZGVyKSB7DQogICAgICAgIGlmIChkYXRhLlN1Y2Nlc3MgJiYgc3VjY2Vzcykgew0KICAgICAgICAgIHNlbGYuc2V0U2hpcHBpbmdNZXRob2RzKGRhdGEuU2hpcHBpbmdNZXRob2RzKTsNCiAgICAgICAgICB2YXIgcGFydHlJZCA9IHNlbGYuc2hpcHBpbmdBZGRyZXNzKCkuZXh0ZXJuYWxJZCgpOw0KICAgICAgICAgIHBhcnRpZXMucHVzaCh7DQogICAgICAgICAgICAiTmFtZSI6IHNlbGYuc3RvcmUoKS5JbnZlbnRvcnlTdG9yZUlkLA0KICAgICAgICAgICAgIkFkZHJlc3MxIjogc2VsZi5zdG9yZSgpLkFkZHJlc3MxLA0KICAgICAgICAgICAgIkNvdW50cnkiOiBzZWxmLnN0b3JlKCkuQ291bnRyeSwNCiAgICAgICAgICAgICJDaXR5Ijogc2VsZi5zdG9yZSgpLkNpdHksDQogICAgICAgICAgICAiU3RhdGUiOiBzZWxmLnN0b3JlKCkuU3RhdGUsDQogICAgICAgICAgICAiWmlwUG9zdGFsQ29kZSI6IHNlbGYuc3RvcmUoKS5aaXAsDQogICAgICAgICAgICAiRXh0ZXJuYWxJZCI6IHN0b3JlSWQsDQogICAgICAgICAgICAiUGFydHlJZCI6IHBhcnR5SWQNCiAgICAgICAgICB9KTsNCg0KICAgICAgICAgIHNoaXBwaW5nLnB1c2goew0KICAgICAgICAgICAgIlNoaXBwaW5nTWV0aG9kSUQiOiBzZWxmLnNoaXBUb1N0b3JlRGVsaXZlcnlNZXRob2QoKS5FeHRlcm5hbElkLA0KICAgICAgICAgICAgIlNoaXBwaW5nTWV0aG9kTmFtZSI6IHNlbGYuc2hpcFRvU3RvcmVEZWxpdmVyeU1ldGhvZCgpLk5hbWUsDQogICAgICAgICAgICAiU2hpcHBpbmdQcmVmZXJlbmNlVHlwZSI6IG9yZGVyU2hpcHBpbmdQcmVmZXJlbmNlLA0KICAgICAgICAgICAgIlBhcnR5SUQiOiBzdG9yZUlkDQogICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgICAgLy8gZW5kIEhhYml0YXRIb21lIGN1c3RvbWl6YXRpb24NCiAgICB9IGVsc2UgaWYgKG9yZGVyU2hpcHBpbmdQcmVmZXJlbmNlID09PSA0KSB7DQogICAgICAkLmVhY2goc2VsZi5jYXJ0KCkuY2FydExpbmVzKCksIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgdmFyIGxpbmVEZWxpdmVyeVByZWZlcmVuY2UgPSB0aGlzLnNlbGVjdGVkU2hpcHBpbmdPcHRpb24oKTsNCiAgICAgICAgdmFyIGxpbmVJZCA9IHRoaXMuZXh0ZXJuYWxDYXJ0TGluZUlkOw0KDQogICAgICAgIGlmIChsaW5lRGVsaXZlcnlQcmVmZXJlbmNlID09PSAxKSB7DQogICAgICAgICAgdmFyIHBhcnR5SWQgPSB0aGlzLnNoaXBwaW5nQWRkcmVzcygpLmV4dGVybmFsSWQoKTsNCiAgICAgICAgICBwYXJ0aWVzLnB1c2goew0KICAgICAgICAgICAgIk5hbWUiOiB0aGlzLnNoaXBwaW5nQWRkcmVzcygpLm5hbWUoKSwNCiAgICAgICAgICAgICJBZGRyZXNzMSI6IHRoaXMuc2hpcHBpbmdBZGRyZXNzKCkuYWRkcmVzczEoKSwNCiAgICAgICAgICAgICJDb3VudHJ5IjogdGhpcy5zaGlwcGluZ0FkZHJlc3MoKS5jb3VudHJ5KCksDQogICAgICAgICAgICAiQ2l0eSI6IHRoaXMuc2hpcHBpbmdBZGRyZXNzKCkuY2l0eSgpLA0KICAgICAgICAgICAgIlN0YXRlIjogdGhpcy5zaGlwcGluZ0FkZHJlc3MoKS5zdGF0ZSgpLA0KICAgICAgICAgICAgIlppcFBvc3RhbENvZGUiOiB0aGlzLnNoaXBwaW5nQWRkcmVzcygpLnppcFBvc3RhbENvZGUoKSwNCiAgICAgICAgICAgICJFeHRlcm5hbElkIjogcGFydHlJZCwNCiAgICAgICAgICAgICJQYXJ0eUlkIjogcGFydHlJZA0KICAgICAgICAgIH0pOw0KDQogICAgICAgICAgc2hpcHBpbmcucHVzaCh7DQogICAgICAgICAgICAiU2hpcHBpbmdNZXRob2RJRCI6IHRoaXMuc2hpcHBpbmdNZXRob2QoKS5pZCwNCiAgICAgICAgICAgICJTaGlwcGluZ01ldGhvZE5hbWUiOiB0aGlzLnNoaXBwaW5nTWV0aG9kKCkubmFtZSwNCiAgICAgICAgICAgICJTaGlwcGluZ1ByZWZlcmVuY2VUeXBlIjogbGluZURlbGl2ZXJ5UHJlZmVyZW5jZSwNCiAgICAgICAgICAgICJQYXJ0eUlEIjogcGFydHlJZCwNCiAgICAgICAgICAgICJMaW5lSURzIjogW2xpbmVJZF0NCiAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmIChsaW5lRGVsaXZlcnlQcmVmZXJlbmNlID09PSAzKSB7DQogICAgICAgICAgc2hpcHBpbmcucHVzaCh7DQogICAgICAgICAgICAiU2hpcHBpbmdNZXRob2RJRCI6IHNlbGYuZW1haWxEZWxpdmVyeU1ldGhvZCgpLkV4dGVybmFsSWQsDQogICAgICAgICAgICAiU2hpcHBpbmdNZXRob2ROYW1lIjogc2VsZi5lbWFpbERlbGl2ZXJ5TWV0aG9kKCkuTmFtZSwNCiAgICAgICAgICAgICJTaGlwcGluZ1ByZWZlcmVuY2VUeXBlIjogbGluZURlbGl2ZXJ5UHJlZmVyZW5jZSwNCiAgICAgICAgICAgICJFbGVjdHJvbmljRGVsaXZlcnlFbWFpbCI6IHRoaXMuc2hpcHBpbmdFbWFpbCgpLA0KICAgICAgICAgICAgIkVsZWN0cm9uaWNEZWxpdmVyeUVtYWlsQ29udGVudCI6IHRoaXMuc2hpcHBpbmdFbWFpbENvbnRlbnQoKSwNCiAgICAgICAgICAgICJMaW5lSURzIjogW2xpbmVJZF0NCiAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIEhhYml0YXRIb21lIGN1c3RvbWl6YXRpb24NCiAgICAgICAgaWYgKGxpbmVEZWxpdmVyeVByZWZlcmVuY2UgPT09IDIpIHsNCiAgICAgICAgICB2YXIgcGFydHlJZCA9IHRoaXMuc2hpcHBpbmdBZGRyZXNzKCkuZXh0ZXJuYWxJZCgpOw0KICAgICAgICAgIHZhciBpbnBOYW1lID0gJ3BpY2tVcE9wdGlvbnMtJyArIHRoaXMuZXh0ZXJuYWxDYXJ0TGluZUlkOw0KICAgICAgICAgIHZhciBpbnBQaWNrVXBTdG9yZSA9ICQoJ2lucHV0W25hbWU9JyArIGlucE5hbWUgKyAnXTpjaGVja2VkJyk7DQogICAgICAgICAgdmFyIHN0b3JlT2JqZWN0ID0ga28uY29udGV4dEZvcihpbnBQaWNrVXBTdG9yZS5wYXJlbnRzKClbMF0pOw0KDQogICAgICAgICAgaWYgKHN0b3JlT2JqZWN0ID09IG51bGwpIHsNCiAgICAgICAgICAgICQoJyNUb0JpbGxpbmdCdXR0b24nKS5hdHRyKCdkaXNhYmxlZCcpOw0KICAgICAgICAgIH0NCg0KICAgICAgICAgIHZhciBzdG9yZU5hbWUgPSBzdG9yZU9iamVjdC4kZGF0YS5JbnZlbnRvcnlTdG9yZUlkOw0KICAgICAgICAgIHZhciBhZGRyZXNzMSA9IHN0b3JlT2JqZWN0LiRkYXRhLkFkZHJlc3MxOw0KICAgICAgICAgIHZhciBjaXR5ID0gc3RvcmVPYmplY3QuJGRhdGEuQ2l0eTsNCiAgICAgICAgICB2YXIgc3RhdGUgPSBzdG9yZU9iamVjdC4kZGF0YS5TdGF0ZTsNCiAgICAgICAgICB2YXIgemlwID0gc3RvcmVPYmplY3QuJGRhdGEuWmlwOw0KICAgICAgICAgIHZhciBjb3VudHJ5ID0gc3RvcmVPYmplY3QuJGRhdGEuQ291bnRyeTsNCg0KICAgICAgICAgIHZhciBzdG9yZXNoaXBwaW5nQWRkcmVzcyA9IG5ldyBPYmplY3QoKTsNCiAgICAgICAgICBzdG9yZXNoaXBwaW5nQWRkcmVzcy5leHRlcm5hbElkID0gMDsNCiAgICAgICAgICBzdG9yZXNoaXBwaW5nQWRkcmVzcy5wYXJ0eUlkID0gMDsNCiAgICAgICAgICBzdG9yZXNoaXBwaW5nQWRkcmVzcy5uYW1lID0gc3RvcmVOYW1lOw0KICAgICAgICAgIHN0b3Jlc2hpcHBpbmdBZGRyZXNzLmFkZHJlc3MxID0gYWRkcmVzczE7DQogICAgICAgICAgc3RvcmVzaGlwcGluZ0FkZHJlc3MuY2l0eSA9IGNpdHk7DQogICAgICAgICAgc3RvcmVzaGlwcGluZ0FkZHJlc3Muc3RhdGUgPSBzdGF0ZTsNCiAgICAgICAgICBzdG9yZXNoaXBwaW5nQWRkcmVzcy56aXBQb3N0YWxDb2RlID0gemlwOw0KICAgICAgICAgIHN0b3Jlc2hpcHBpbmdBZGRyZXNzLmNvdW50cnkgPSBjb3VudHJ5Ow0KICAgICAgICAgIHN0b3Jlc2hpcHBpbmdBZGRyZXNzLmlzUHJpbWFyeSA9IGZhbHNlOw0KICAgICAgICAgIHN0b3Jlc2hpcHBpbmdBZGRyZXNzLmZ1bGxBZGRyZXNzID0gYWRkcmVzczEgKyAiICIgKyBjaXR5ICsgIiAiICsgc3RhdGUgKyAiICIgKyB6aXAgKyAiICIgKyBjb3VudHJ5Ow0KICAgICAgICAgIHN0b3Jlc2hpcHBpbmdBZGRyZXNzLmRldGFpbHNVcmwgPSAiIjsNCg0KICAgICAgICAgIHZhciBwYXJ0eSA9IGtvLnRvSlMoc3RvcmVzaGlwcGluZ0FkZHJlc3MpOw0KICAgICAgICAgIHZhciBkYXRhID0geyBTaGlwcGluZ0FkZHJlc3M6IHBhcnR5LCBTaGlwcGluZ1ByZWZlcmVuY2VUeXBlOiBzZWxmLnNlbGVjdGVkU2hpcHBpbmdPcHRpb24oKSwgTGluZXM6IG51bGwgfTsNCg0KICAgICAgICAgIEFqYXhTZXJ2aWNlLlBvc3QoIi9hcGkvY3hhL2NoZWNrb3V0L0dldFNoaXBwaW5nTWV0aG9kcyIsIGRhdGEsIGZ1bmN0aW9uIChkYXRhLCBzdWNjZXNzLCBzZW5kZXIpIHsNCiAgICAgICAgICAgIGlmIChkYXRhLlN1Y2Nlc3MgJiYgc3VjY2Vzcykgew0KICAgICAgICAgICAgICBzZWxmLnNldFNoaXBwaW5nTWV0aG9kcyhkYXRhLlNoaXBwaW5nTWV0aG9kcyk7DQoNCiAgICAgICAgICAgICAgdmFyIGlucE5hbWUgPSAncGlja1VwT3B0aW9ucyc7DQogICAgICAgICAgICAgIHZhciBpbnBQaWNrVXBTdG9yZSA9ICQoJ2lucHV0W25hbWU9JyArIGlucE5hbWUgKyAnXTpjaGVja2VkJyk7DQogICAgICAgICAgICAgIHZhciBzdG9yZU9iamVjdCA9IGtvLmNvbnRleHRGb3IoaW5wUGlja1VwU3RvcmUucGFyZW50cygpWzBdKTsNCg0KICAgICAgICAgICAgICB2YXIgcGFydHlJZCA9IHNlbGYuc2hpcHBpbmdBZGRyZXNzKCkuZXh0ZXJuYWxJZCgpOw0KICAgICAgICAgICAgICBwYXJ0aWVzLnB1c2goew0KICAgICAgICAgICAgICAgICJOYW1lIjogc3RvcmVOYW1lLA0KICAgICAgICAgICAgICAgICJBZGRyZXNzMSI6IGFkZHJlc3MxLA0KICAgICAgICAgICAgICAgICJDb3VudHJ5IjogY291bnRyeSwNCiAgICAgICAgICAgICAgICAiQ2l0eSI6IGNpdHksDQogICAgICAgICAgICAgICAgIlN0YXRlIjogc3RhdGUsDQogICAgICAgICAgICAgICAgIlppcFBvc3RhbENvZGUiOiB6aXAsDQogICAgICAgICAgICAgICAgIkV4dGVybmFsSWQiOiBwYXJ0eUlkLA0KICAgICAgICAgICAgICAgICJQYXJ0eUlkIjogcGFydHlJZA0KICAgICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgICBzaGlwcGluZy5wdXNoKHsNCiAgICAgICAgICAgICAgICAiU2hpcHBpbmdNZXRob2RJRCI6IHNlbGYucGlja3VwTWV0aG9kKCkuaWQsDQogICAgICAgICAgICAgICAgIlNoaXBwaW5nTWV0aG9kTmFtZSI6IHNlbGYucGlja3VwTWV0aG9kKCkuZGVzY3JpcHRpb24sDQogICAgICAgICAgICAgICAgIlNoaXBwaW5nUHJlZmVyZW5jZVR5cGUiOiAxLA0KICAgICAgICAgICAgICAgICJQYXJ0eUlEIjogcGFydHlJZCwNCiAgICAgICAgICAgICAgICAiTGluZUlEcyI6IFtsaW5lSWRdDQogICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgICAgIC8vIGVuZCBIYWJpdGF0SG9tZSBjdXN0b21pemF0aW9uDQogICAgICB9KTsNCiAgICB9IGVsc2UgaWYgKG9yZGVyU2hpcHBpbmdQcmVmZXJlbmNlID09PSAzKSB7DQogICAgICBzaGlwcGluZy5wdXNoKHsNCiAgICAgICAgIlNoaXBwaW5nTWV0aG9kSUQiOiBzZWxmLmVtYWlsRGVsaXZlcnlNZXRob2QoKS5FeHRlcm5hbElkLA0KICAgICAgICAiU2hpcHBpbmdNZXRob2ROYW1lIjogc2VsZi5lbWFpbERlbGl2ZXJ5TWV0aG9kKCkuTmFtZSwNCiAgICAgICAgIlNoaXBwaW5nUHJlZmVyZW5jZVR5cGUiOiBvcmRlclNoaXBwaW5nUHJlZmVyZW5jZSwNCiAgICAgICAgIkVsZWN0cm9uaWNEZWxpdmVyeUVtYWlsIjogc2VsZi5zaGlwcGluZ0VtYWlsKCksDQogICAgICAgICJFbGVjdHJvbmljRGVsaXZlcnlFbWFpbENvbnRlbnQiOiBzZWxmLnNoaXBwaW5nRW1haWxDb250ZW50KCkNCiAgICAgIH0pOw0KICAgIH0NCg0KICAgIHZhciBkYXRhID0gJ3siRGVsaXZlcnlJdGVtUGF0aCI6ICInICsgJCgiI0RlbGl2ZXJ5SXRlbVBhdGgiKS52YWwoKSArICciLCAiT3JkZXJTaGlwcGluZ1ByZWZlcmVuY2VUeXBlIjogIicgKyBvcmRlclNoaXBwaW5nUHJlZmVyZW5jZSArICciLCAiU2hpcHBpbmdNZXRob2RzIjonICsgSlNPTi5zdHJpbmdpZnkoc2hpcHBpbmcpICsgJywgIlNoaXBwaW5nQWRkcmVzc2VzIjonICsgSlNPTi5zdHJpbmdpZnkocGFydGllcykgKyAnfSc7DQogICAgQWpheFNlcnZpY2UuUG9zdCgiL2FwaS9jeGEvY2hlY2tvdXQvU2V0U2hpcHBpbmdNZXRob2RzIiwgSlNPTi5wYXJzZShkYXRhKSwgZnVuY3Rpb24gKGRhdGEsIHN1Y2Nlc3MsIHNlbmRlcikgew0KICAgICAgaWYgKHN1Y2Nlc3MgJiYgZGF0YS5TdWNjZXNzKSB7DQogICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gZGF0YS5OZXh0UGFnZUxpbms7DQogICAgICB9DQoNCiAgICAgICQoIiNUb0JpbGxpbmdCdXR0b24iKS5idXR0b24oJ3Jlc2V0Jyk7DQogICAgfSwgJCh0aGlzKSk7DQogICAgcmV0dXJuIGZhbHNlOw0KICB9Ow0KfQ0KDQovKiBlc2xpbnQtZGlzYWJsZSBtYXgtcGFyYW1zICovDQovKiBDYW5ub3QgcmVkdWNlIHRoZSBudW1iZXIgb2YgcGFyYW1zIGFzIHRoZSBpbml0IGFuZCB1cGRhdGUgY2FsbGJhY2sgbWV0aG9kIGRlZmluaXRpb25zIGFyZSBkZWZpbmVkIGJ5IGtub2Nrb3V0LmpzICovDQprby5iaW5kaW5nSGFuZGxlcnMuY2hlY2tNZSA9IHsNCiAgaW5pdDogZnVuY3Rpb24gKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IsIGFsbCwgdm0sIGJpbmRpbmdDb250ZXh0KSB7DQogICAga28udXRpbHMucmVnaXN0ZXJFdmVudEhhbmRsZXIoZWxlbWVudCwgImNsaWNrIiwgZnVuY3Rpb24gKCkgew0KICAgICAgdmFyIGNoZWNrZWRWYWx1ZSA9IHZhbHVlQWNjZXNzb3IoKSwNCiAgICAgICAgbWVWYWx1ZSA9IGJpbmRpbmdDb250ZXh0LiRkYXRhLA0KICAgICAgICBjaGVja2VkID0gZWxlbWVudC5jaGVja2VkOw0KICAgICAgaWYgKGNoZWNrZWQgJiYga28uaXNPYnNlcnZhYmxlKGNoZWNrZWRWYWx1ZSkpIHsNCiAgICAgICAgY2hlY2tlZFZhbHVlKG1lVmFsdWUpOw0KICAgICAgfQ0KICAgIH0pOw0KICB9LA0KICB1cGRhdGU6IGZ1bmN0aW9uIChlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGwsIHZtLCBiaW5kaW5nQ29udGV4dCkgew0KICAgIHZhciBjaGVja2VkVmFsdWUgPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKHZhbHVlQWNjZXNzb3IoKSksDQogICAgICBtZVZhbHVlID0gYmluZGluZ0NvbnRleHQuJGRhdGE7DQoNCiAgICBlbGVtZW50LmNoZWNrZWQgPSBjaGVja2VkVmFsdWUgPT09IG1lVmFsdWU7DQogIH0NCn07DQoNCi8vIEhhYml0YXRIb21lIGN1c3RvbWl6YXRpb24NCmZ1bmN0aW9uIEdldE5lYXJlc3RTdG9yZXMoU2VydmljZVJlcXVlc3QpIHsNCiAgdmFyIHVybCA9ICIvYXBpL2N4YS9OZWFyZXN0U3RvcmUvR2V0U3RvcmVzP3VzZXJMYXRpdHVkZT0iICsgU2VydmljZVJlcXVlc3QuTGF0aXR1ZGUgKyAiJnVzZXJMb25naXR1ZGU9IiArIFNlcnZpY2VSZXF1ZXN0LkxvbmdpdHVkZSArICImcGlkPSIgKyBTZXJ2aWNlUmVxdWVzdC5Qcm9kdWN0SWQgKyAiLSIgKyBTZXJ2aWNlUmVxdWVzdC5WYXJpYW50SWQ7DQogIHZhciByZXF1ZXN0RGF0YSA9IEpTT04uc3RyaW5naWZ5KFNlcnZpY2VSZXF1ZXN0KTsNCiAgJCgnLmxvYWRlcicpLnNob3coKTsNCiAgdmFyIGFqYXhSZXF1ZXN0ID0gJC5hamF4KHsNCiAgICB0eXBlOiAnUE9TVCcsDQogICAgY29udGVudFR5cGU6ICJhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTgiLA0KICAgIHVybDogdXJsLA0KICAgIC8vZGF0YTogeyAndXNlckxhdGl0dWRlJzogU2VydmljZVJlcXVlc3QuTGF0aXR1ZGUsICd1c2VyTG9uZ2l0dWRlJzogU2VydmljZVJlcXVlc3QuTG9uZ2l0dWRlIH0sDQogICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHsNCiAgICAgICQoJy5sb2FkZXInKS5oaWRlKCk7DQogICAgfSwNCiAgICBlcnJvcjogZnVuY3Rpb24gKHgsIHksIHopIHsNCiAgICB9DQogIH0pOw0KICByZXR1cm4gYWpheFJlcXVlc3Q7DQp9DQoNCmZ1bmN0aW9uIEdldEludmVudG9yeShTZXJ2aWNlUmVxdWVzdCkgew0KICB2YXIgdXJsID0gIi9hcGkvY3hhL05lYXJlc3RTdG9yZS9HZXRJbnZlbnRvcnk/cGlkPSIgKyBTZXJ2aWNlUmVxdWVzdC5Qcm9kdWN0SWQgKyAiLSIgKyBTZXJ2aWNlUmVxdWVzdC5WYXJpYW50SWQ7DQogIHZhciByZXF1ZXN0RGF0YSA9IEpTT04uc3RyaW5naWZ5KFNlcnZpY2VSZXF1ZXN0KTsNCiAgJCgnLmxvYWRlcicpLnNob3coKTsNCiAgdmFyIGFqYXhSZXF1ZXN0ID0gJC5hamF4KHsNCiAgICB0eXBlOiAnUE9TVCcsDQogICAgY29udGVudFR5cGU6ICJhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTgiLA0KICAgIHVybDogdXJsLA0KICAgIC8vZGF0YTogeyAndXNlckxhdGl0dWRlJzogU2VydmljZVJlcXVlc3QuTGF0aXR1ZGUsICd1c2VyTG9uZ2l0dWRlJzogU2VydmljZVJlcXVlc3QuTG9uZ2l0dWRlIH0sDQogICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHsNCiAgICAgICQoJy5sb2FkZXInKS5oaWRlKCk7DQogICAgfSwNCiAgICBlcnJvcjogZnVuY3Rpb24gKHgsIHksIHopIHsNCiAgICB9DQogIH0pOw0KICByZXR1cm4gYWpheFJlcXVlc3Q7DQp9DQoNCmZ1bmN0aW9uIE5ld1BpY2t1cFN0b3JlKGRhdGEpIHsNCiAgc2VsZiA9IHRoaXM7DQogICQoZGF0YSkubWFwKGZ1bmN0aW9uIChpLCBiKSB7DQogICAgaWYgKChiWydLZXknXSA9PSAnSWQnKSkNCiAgICAgIHNlbGYuSWQgPSBiWydWYWx1ZSddOw0KICAgIGlmICgoYlsnS2V5J10gPT0gJ0V4dGVybmFsSWQnKSkNCiAgICAgIHNlbGYuRXh0ZXJuYWxJZCA9IGJbJ1ZhbHVlJ107DQogICAgaWYgKChiWydLZXknXSA9PSAnSW52ZW50b3J5U3RvcmVJZCcpKQ0KICAgICAgc2VsZi5JbnZlbnRvcnlTdG9yZUlkID0gYlsnVmFsdWUnXTsNCiAgICBpZiAoKGJbJ0tleSddID09ICdJbnZlbnRvcnlTdG9yZUlkJykpDQogICAgICBzZWxmLkRpc3RhbmNlID0gYlsnVmFsdWUnXTsNCiAgICBpZiAoKGJbJ0tleSddID09ICdaZXJvSW52ZW50b3J5JykpDQogICAgICBzZWxmLlplcm9JbnZlbnRvcnkgPSBiWydWYWx1ZSddOw0KICAgIGlmICgoYlsnS2V5J10gPT0gJ0Rpc3BsYXlOYW1lJykpDQogICAgICBzZWxmLkRpc3BsYXlOYW1lID0gYlsnVmFsdWUnXTsNCiAgICBpZiAoKGJbJ0tleSddID09ICdMaW1pdGVkJykpDQogICAgICBzZWxmLkxpbWl0ZWQgPSBiWydWYWx1ZSddOw0KICAgIGlmICgoYlsnS2V5J10gPT0gJ1F1YW50aXR5JykpDQogICAgICBzZWxmLlF1YW50aXR5ID0gYlsnVmFsdWUnXTsNCiAgICBpZiAoKGJbJ0tleSddID09ICdJbnZlbnRvcnlBbW91bnQnKSkNCiAgICAgIHNlbGYuSW52ZW50b3J5QW1vdW50ID0gYlsnVmFsdWUnXTsNCiAgICBpZiAoKGJbJ0tleSddID09ICdBZGRyZXNzJykpDQogICAgICBzZWxmLkFkZHJlc3MxID0gYlsnVmFsdWUnXTsNCiAgICBpZiAoKGJbJ0tleSddID09ICdDaXR5JykpDQogICAgICBzZWxmLkNpdHkgPSBiWyJWYWx1ZSJdOw0KICAgIGlmICgoYlsnS2V5J10gPT0gJ1ppcCcpKQ0KICAgICAgc2VsZi5aaXAgPSBiWyJWYWx1ZSJdOw0KICAgIGlmICgoYlsnS2V5J10gPT0gJ1N0YXRlJykpDQogICAgICBzZWxmLlN0YXRlID0gYlsiVmFsdWUiXTsNCiAgICBpZiAoKGJbJ0tleSddID09ICdDb3VudHJ5JykpDQogICAgICBzZWxmLkNvdW50cnkgPSBiWyJWYWx1ZSJdOw0KICB9KQ0KfQ0KLy8gZW5kIEhhYml0YXRIb21lIGN1c3RvbWl6YXRpb24=
- ID: "6954b7c7-2487-423f-8600-436cb3b6dc0e"
  Hint: Size
  Value: 42296
- ID: "6f47a0a5-9c94-4b48-abeb-42d38def6054"
  Hint: Mime Type
  Value: "application/x-javascript"
- ID: "c06867fe-9a43-4c7d-b739-48780492d06f"
  Hint: Extension
  Value: js
Languages:
- Language: en
  Versions:
  - Version: 1
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Value: "20190819T180335:637018346154186403Z"
