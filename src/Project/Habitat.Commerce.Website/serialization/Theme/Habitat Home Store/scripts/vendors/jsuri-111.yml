---
ID: "21c8fb9b-b843-4f9d-b1fb-bb88327c4191"
Parent: "0f96d50a-ce5f-456f-837d-a416b6d71b99"
Template: "962b53c4-f93b-4df9-9821-415c867b8903"
Path: "/sitecore/media library/Themes/Habitat Sites/Habitat Home Store/scripts/vendors/jsuri-111"
DB: master
SharedFields:
- ID: "06d5295c-ed2f-4a54-9bf2-26228d113318"
  Hint: __Icon
  Value: "-/media/894866CD32A94822BFDED0A043CFD189.ashx?h=16&thn=1&w=16"
- ID: "40e50ed9-ba07-4702-992e-a912738d32dc"
  Hint: Blob
  BlobID: "5c2b5f57-6bc9-4218-aef4-29fec6876d22"
  Value: LyohDQogKiBqc1VyaSB2MS4xLjENCiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9kZXJlay13YXRzb24vanNVcmkNCiAqDQogKiBDb3B5cmlnaHQgMjAxMSwgRGVyZWsgV2F0c29uDQogKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuDQogKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlDQogKg0KICogSW5jbHVkZXMgcGFyc2VVcmkgcmVndWxhciBleHByZXNzaW9ucw0KICogaHR0cDovL2Jsb2cuc3RldmVubGV2aXRoYW4uY29tL2FyY2hpdmVzL3BhcnNldXJpDQogKiBDb3B5cmlnaHQgMjAwNywgU3RldmVuIExldml0aGFuDQogKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuDQogKg0KICogRGF0ZTogTW9uIE5vdiAxNCAyMDowNjozNCAyMDExIC0wODAwDQogKi8NCg0KDQp2YXIgUXVlcnkgPSBmdW5jdGlvbiAocXVlcnlTdHJpbmcpIHsNCg0KICAgIC8vIHF1ZXJ5IHN0cmluZyBwYXJzaW5nLCBwYXJhbWV0ZXIgbWFuaXB1bGF0aW9uIGFuZCBzdHJpbmdpZmljYXRpb24NCg0KICAgICd1c2Ugc3RyaWN0JzsNCg0KICAgIHZhciAvLyBwYXJzZVF1ZXJ5KHEpIHBhcnNlcyB0aGUgdXJpIHF1ZXJ5IHN0cmluZyBhbmQgcmV0dXJucyBhIG11bHRpLWRpbWVuc2lvbmFsIGFycmF5IG9mIHRoZSBjb21wb25lbnRzDQogICAgICAgIHBhcnNlUXVlcnkgPSBmdW5jdGlvbiAocSkgew0KICAgICAgICAgICAgdmFyIGFyciA9IFtdLCBpLCBwcywgcCwga2V5dmFsOw0KDQogICAgICAgICAgICBpZiAodHlwZW9mIChxKSA9PT0gJ3VuZGVmaW5lZCcgfHwgcSA9PT0gbnVsbCB8fCBxID09PSAnJykgew0KICAgICAgICAgICAgICAgIHJldHVybiBhcnI7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmIChxLmluZGV4T2YoJz8nKSA9PT0gMCkgew0KICAgICAgICAgICAgICAgIHEgPSBxLnN1YnN0cmluZygxKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgcHMgPSBxLnRvU3RyaW5nKCkuc3BsaXQoL1smO10vKTsNCg0KICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICAgICAgcCA9IHBzW2ldOw0KICAgICAgICAgICAgICAgIGtleXZhbCA9IHAuc3BsaXQoJz0nKTsNCiAgICAgICAgICAgICAgICBhcnIucHVzaChba2V5dmFsWzBdLCBrZXl2YWxbMV1dKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgcmV0dXJuIGFycjsNCiAgICAgICAgfSwNCg0KICAgICAgICBwYXJhbXMgPSBwYXJzZVF1ZXJ5KHF1ZXJ5U3RyaW5nKSwNCg0KICAgICAgICAvLyB0b1N0cmluZygpIHJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIGludGVybmFsIHN0YXRlIG9mIHRoZSBvYmplY3QNCiAgICAgICAgdG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgcyA9ICcnLCBpLCBwYXJhbTsNCiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgICAgICBwYXJhbSA9IHBhcmFtc1tpXTsNCiAgICAgICAgICAgICAgICBpZiAocy5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgIHMgKz0gJyYnOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBzICs9IHBhcmFtLmpvaW4oJz0nKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiBzLmxlbmd0aCA+IDAgPyAnPycgKyBzIDogczsNCiAgICAgICAgfSwNCg0KICAgICAgICBkZWNvZGUgPSBmdW5jdGlvbiAocykgew0KICAgICAgICAgICAgcyA9IGRlY29kZVVSSUNvbXBvbmVudChzKTsNCiAgICAgICAgICAgIHMgPSBzLnJlcGxhY2UoJysnLCAnICcpOw0KICAgICAgICAgICAgcmV0dXJuIHM7DQogICAgICAgIH0sDQoNCiAgICAgICAgLy8gZ2V0UGFyYW1WYWx1ZXMoa2V5KSByZXR1cm5zIHRoZSBmaXJzdCBxdWVyeSBwYXJhbSB2YWx1ZSBmb3VuZCBmb3IgdGhlIGtleSAna2V5Jw0KICAgICAgICBnZXRQYXJhbVZhbHVlID0gZnVuY3Rpb24gKGtleSkgew0KICAgICAgICAgICAgdmFyIHBhcmFtLCBpOw0KICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhcmFtcy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICAgIHBhcmFtID0gcGFyYW1zW2ldOw0KICAgICAgICAgICAgICAgIGlmIChkZWNvZGUoa2V5KSA9PT0gZGVjb2RlKHBhcmFtWzBdKSkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyYW1bMV07DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KDQogICAgICAgIC8vIGdldFBhcmFtVmFsdWVzKGtleSkgcmV0dXJucyBhbiBhcnJheSBvZiBxdWVyeSBwYXJhbSB2YWx1ZXMgZm9yIHRoZSBrZXkgJ2tleScNCiAgICAgICAgZ2V0UGFyYW1WYWx1ZXMgPSBmdW5jdGlvbiAoa2V5KSB7DQogICAgICAgICAgICB2YXIgYXJyID0gW10sIGksIHBhcmFtOw0KICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhcmFtcy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICAgIHBhcmFtID0gcGFyYW1zW2ldOw0KICAgICAgICAgICAgICAgIGlmIChkZWNvZGUoa2V5KSA9PT0gZGVjb2RlKHBhcmFtWzBdKSkgew0KICAgICAgICAgICAgICAgICAgICBhcnIucHVzaChwYXJhbVsxXSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIGFycjsNCiAgICAgICAgfSwNCg0KICAgICAgICAvLyBkZWxldGVQYXJhbShrZXkpIHJlbW92ZXMgYWxsIGluc3RhbmNlcyBvZiBwYXJhbWV0ZXJzIG5hbWVkIChrZXkpDQogICAgICAgIC8vIGRlbGV0ZVBhcmFtKGtleSwgdmFsKSByZW1vdmVzIGFsbCBpbnN0YW5jZXMgd2hlcmUgdGhlIHZhbHVlIG1hdGNoZXMgKHZhbCkNCiAgICAgICAgZGVsZXRlUGFyYW0gPSBmdW5jdGlvbiAoa2V5LCB2YWwpIHsNCg0KICAgICAgICAgICAgdmFyIGFyciA9IFtdLCBpLCBwYXJhbSwga2V5TWF0Y2hlc0ZpbHRlciwgdmFsTWF0Y2hlc0ZpbHRlcjsNCg0KICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhcmFtcy5sZW5ndGg7IGkrKykgew0KDQogICAgICAgICAgICAgICAgcGFyYW0gPSBwYXJhbXNbaV07DQogICAgICAgICAgICAgICAga2V5TWF0Y2hlc0ZpbHRlciA9IGRlY29kZShwYXJhbVswXSkgPT09IGRlY29kZShrZXkpOw0KICAgICAgICAgICAgICAgIHZhbE1hdGNoZXNGaWx0ZXIgPSBkZWNvZGUocGFyYW1bMV0pID09PSBkZWNvZGUodmFsKTsNCg0KICAgICAgICAgICAgICAgIGlmICgoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSAmJiAha2V5TWF0Y2hlc0ZpbHRlcikgfHwgKGFyZ3VtZW50cy5sZW5ndGggPT09IDIgJiYgIWtleU1hdGNoZXNGaWx0ZXIgJiYgIXZhbE1hdGNoZXNGaWx0ZXIpKSB7DQogICAgICAgICAgICAgICAgICAgIGFyci5wdXNoKHBhcmFtKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHBhcmFtcyA9IGFycjsNCg0KICAgICAgICAgICAgcmV0dXJuIHRoaXM7DQogICAgICAgIH0sDQoNCiAgICAgICAgLy8gYWRkUGFyYW0oa2V5LCB2YWwpIEFkZHMgYW4gZWxlbWVudCB0byB0aGUgZW5kIG9mIHRoZSBsaXN0IG9mIHF1ZXJ5IHBhcmFtZXRlcnMNCiAgICAgICAgLy8gYWRkUGFyYW0oa2V5LCB2YWwsIGluZGV4KSBhZGRzIHRoZSBwYXJhbSBhdCB0aGUgc3BlY2lmaWVkIHBvc2l0aW9uIChpbmRleCkNCiAgICAgICAgYWRkUGFyYW0gPSBmdW5jdGlvbiAoa2V5LCB2YWwsIGluZGV4KSB7DQoNCiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAzICYmIGluZGV4ICE9PSAtMSkgew0KICAgICAgICAgICAgICAgIGluZGV4ID0gTWF0aC5taW4oaW5kZXgsIHBhcmFtcy5sZW5ndGgpOw0KICAgICAgICAgICAgICAgIHBhcmFtcy5zcGxpY2UoaW5kZXgsIDAsIFtrZXksIHZhbF0pOw0KICAgICAgICAgICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgIHBhcmFtcy5wdXNoKFtrZXksIHZhbF0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIHRoaXM7DQogICAgICAgIH0sDQoNCiAgICAgICAgLy8gcmVwbGFjZVBhcmFtKGtleSwgbmV3VmFsKSBkZWxldGVzIGFsbCBpbnN0YW5jZXMgb2YgcGFyYW1zIG5hbWVkIChrZXkpIGFuZCByZXBsYWNlcyB0aGVtIHdpdGggdGhlIG5ldyBzaW5nbGUgdmFsdWUNCiAgICAgICAgLy8gcmVwbGFjZVBhcmFtKGtleSwgbmV3VmFsLCBvbGRWYWwpIGRlbGV0ZXMgb25seSBpbnN0YW5jZXMgb2YgcGFyYW1zIG5hbWVkIChrZXkpIHdpdGggdGhlIHZhbHVlICh2YWwpIGFuZCByZXBsYWNlcyB0aGVtIHdpdGggdGhlIG5ldyBzaW5nbGUgdmFsdWUNCiAgICAgICAgLy8gdGhpcyBmdW5jdGlvbiBhdHRlbXB0cyB0byBwcmVzZXJ2ZSBxdWVyeSBwYXJhbSBvcmRlcmluZw0KICAgICAgICByZXBsYWNlUGFyYW0gPSBmdW5jdGlvbiAoa2V5LCBuZXdWYWwsIG9sZFZhbCkgew0KDQogICAgICAgICAgICB2YXIgaW5kZXggPSAtMSwgaSwgcGFyYW07DQoNCiAgICAgICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAzKSB7DQogICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhcmFtcy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICAgICAgICBwYXJhbSA9IHBhcmFtc1tpXTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGRlY29kZShwYXJhbVswXSkgPT09IGRlY29kZShrZXkpICYmIGRlY29kZVVSSUNvbXBvbmVudChwYXJhbVsxXSkgPT09IGRlY29kZShvbGRWYWwpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGk7DQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBkZWxldGVQYXJhbShrZXksIG9sZFZhbCkuYWRkUGFyYW0oa2V5LCBuZXdWYWwsIGluZGV4KTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhcmFtcy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICAgICAgICBwYXJhbSA9IHBhcmFtc1tpXTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGRlY29kZShwYXJhbVswXSkgPT09IGRlY29kZShrZXkpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGk7DQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBkZWxldGVQYXJhbShrZXkpOw0KICAgICAgICAgICAgICAgIGFkZFBhcmFtKGtleSwgbmV3VmFsLCBpbmRleCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gdGhpczsNCiAgICAgICAgfTsNCg0KICAgIC8vIHB1YmxpYyBhcGkNCiAgICByZXR1cm4gew0KICAgICAgICBnZXRQYXJhbVZhbHVlOiBnZXRQYXJhbVZhbHVlLA0KICAgICAgICBnZXRQYXJhbVZhbHVlczogZ2V0UGFyYW1WYWx1ZXMsDQogICAgICAgIGRlbGV0ZVBhcmFtOiBkZWxldGVQYXJhbSwNCiAgICAgICAgYWRkUGFyYW06IGFkZFBhcmFtLA0KICAgICAgICByZXBsYWNlUGFyYW06IHJlcGxhY2VQYXJhbSwNCg0KICAgICAgICB0b1N0cmluZzogdG9TdHJpbmcNCiAgICB9Ow0KfTsNCg0KdmFyIFVyaSA9IGZ1bmN0aW9uICh1cmlTdHJpbmcpIHsNCg0KICAgIC8vIHVyaSBzdHJpbmcgcGFyc2luZywgYXR0cmlidXRlIG1hbmlwdWxhdGlvbiBhbmQgc3RyaW5naWZpY2F0aW9uDQoNCiAgICAndXNlIHN0cmljdCc7DQoNCiAgICAvKmdsb2JhbCBRdWVyeTogdHJ1ZSAqLw0KICAgIC8qanNsaW50IHJlZ2V4cDogZmFsc2UsIHBsdXNwbHVzOiBmYWxzZSAqLw0KDQogICAgdmFyIHN0cmljdE1vZGUgPSBmYWxzZSwNCg0KICAgICAgICAvLyBwYXJzZVVyaShzdHIpIHBhcnNlcyB0aGUgc3VwcGxpZWQgdXJpIGFuZCByZXR1cm5zIGFuIG9iamVjdCBjb250YWluaW5nIGl0cyBjb21wb25lbnRzDQogICAgICAgIHBhcnNlVXJpID0gZnVuY3Rpb24gKHN0cikgew0KDQogICAgICAgICAgICAvKmpzbGludCB1bnBhcmFtOiB0cnVlICovDQogICAgICAgICAgICB2YXIgcGFyc2VycyA9IHsNCiAgICAgICAgICAgICAgICBzdHJpY3Q6IC9eKD86KFteOlwvPyNdKyk6KT8oPzpcL1wvKCg/OigoW146QF0qKSg/OjooW146QF0qKSk/KT9AKT8oW146XC8/I10qKSg/OjooXGQqKSk/KSk/KCgoKD86W14/I1wvXSpcLykqKShbXj8jXSopKSg/Olw/KFteI10qKSk/KD86IyguKikpPykvLA0KICAgICAgICAgICAgICAgIGxvb3NlOiAvXig/Oig/IVteOkBdKzpbXjpAXC9dKkApKFteOlwvPyMuXSspOik/KD86XC9cLyk/KCg/OigoW146QF0qKSg/OjooW146QF0qKSk/KT9AKT8oW146XC8/I10qKSg/OjooXGQqKSk/KSgoKFwvKD86W14/I10oPyFbXj8jXC9dKlwuW14/I1wvLl0rKD86Wz8jXXwkKSkpKlwvPyk/KFtePyNcL10qKSkoPzpcPyhbXiNdKikpPyg/OiMoLiopKT8pLw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBrZXlzID0gWyJzb3VyY2UiLCAicHJvdG9jb2wiLCAiYXV0aG9yaXR5IiwgInVzZXJJbmZvIiwgInVzZXIiLCAicGFzc3dvcmQiLCAiaG9zdCIsICJwb3J0IiwgInJlbGF0aXZlIiwgInBhdGgiLCAiZGlyZWN0b3J5IiwgImZpbGUiLCAicXVlcnkiLCAiYW5jaG9yIl0sDQogICAgICAgICAgICAgICAgcSA9IHsNCiAgICAgICAgICAgICAgICAgICAgbmFtZTogInF1ZXJ5S2V5IiwNCiAgICAgICAgICAgICAgICAgICAgcGFyc2VyOiAvKD86XnwmKShbXiY9XSopPT8oW14mXSopL2cNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIG0gPSBwYXJzZXJzW3N0cmljdE1vZGUgPyAic3RyaWN0IiA6ICJsb29zZSJdLmV4ZWMoc3RyKSwNCiAgICAgICAgICAgICAgICB1cmkgPSB7fSwNCiAgICAgICAgICAgICAgICBpID0gMTQ7DQoNCiAgICAgICAgICAgIHdoaWxlIChpLS0pIHsNCiAgICAgICAgICAgICAgICB1cmlba2V5c1tpXV0gPSBtW2ldIHx8ICIiOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB1cmlbcS5uYW1lXSA9IHt9Ow0KICAgICAgICAgICAgdXJpW2tleXNbMTJdXS5yZXBsYWNlKHEucGFyc2VyLCBmdW5jdGlvbiAoJDAsICQxLCAkMikgew0KICAgICAgICAgICAgICAgIGlmICgkMSkgew0KICAgICAgICAgICAgICAgICAgICB1cmlbcS5uYW1lXVskMV0gPSAkMjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgcmV0dXJuIHVyaTsNCiAgICAgICAgfSwNCg0KICAgICAgICB1cmlQYXJ0cyA9IHBhcnNlVXJpKHVyaVN0cmluZyB8fCAnJyksDQoNCiAgICAgICAgcXVlcnlPYmogPSBuZXcgUXVlcnkodXJpUGFydHMucXVlcnkpLA0KDQoNCiAgICAgICAgLyoNCiAgICAgICAgICAgIEJhc2ljIGdldC9zZXQgZnVuY3Rpb25zIGZvciBhbGwgcHJvcGVydGllcw0KICAgICAgICAqLw0KDQogICAgICAgIHByb3RvY29sID0gZnVuY3Rpb24gKHZhbCkgew0KICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgIT09ICd1bmRlZmluZWQnKSB7DQogICAgICAgICAgICAgICAgdXJpUGFydHMucHJvdG9jb2wgPSB2YWw7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gdXJpUGFydHMucHJvdG9jb2w7DQogICAgICAgIH0sDQoNCiAgICAgICAgaGFzQXV0aG9yaXR5UHJlZml4VXNlclByZWYgPSBudWxsLA0KDQogICAgICAgIC8vIGhhc0F1dGhvcml0eVByZWZpeDogaWYgdGhlcmUgaXMgbm8gcHJvdG9jb2wsIHRoZSBsZWFkaW5nIC8vIGNhbiBiZSBlbmFibGVkIG9yIGRpc2FibGVkDQogICAgICAgIGhhc0F1dGhvcml0eVByZWZpeCA9IGZ1bmN0aW9uICh2YWwpIHsNCg0KICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgIT09ICd1bmRlZmluZWQnKSB7DQogICAgICAgICAgICAgICAgaGFzQXV0aG9yaXR5UHJlZml4VXNlclByZWYgPSB2YWw7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmIChoYXNBdXRob3JpdHlQcmVmaXhVc2VyUHJlZiA9PT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIHJldHVybiAodXJpUGFydHMuc291cmNlLmluZGV4T2YoJy8vJykgIT09IC0xKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIGhhc0F1dGhvcml0eVByZWZpeFVzZXJQcmVmOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KDQogICAgICAgIHVzZXJJbmZvID0gZnVuY3Rpb24gKHZhbCkgew0KICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgIT09ICd1bmRlZmluZWQnKSB7DQogICAgICAgICAgICAgICAgdXJpUGFydHMudXNlckluZm8gPSB2YWw7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gdXJpUGFydHMudXNlckluZm87DQogICAgICAgIH0sDQoNCiAgICAgICAgaG9zdCA9IGZ1bmN0aW9uICh2YWwpIHsNCiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsICE9PSAndW5kZWZpbmVkJykgew0KICAgICAgICAgICAgICAgIHVyaVBhcnRzLmhvc3QgPSB2YWw7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gdXJpUGFydHMuaG9zdDsNCiAgICAgICAgfSwNCg0KICAgICAgICBwb3J0ID0gZnVuY3Rpb24gKHZhbCkgew0KICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgIT09ICd1bmRlZmluZWQnKSB7DQogICAgICAgICAgICAgICAgdXJpUGFydHMucG9ydCA9IHZhbDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiB1cmlQYXJ0cy5wb3J0Ow0KICAgICAgICB9LA0KDQogICAgICAgIHBhdGggPSBmdW5jdGlvbiAodmFsKSB7DQogICAgICAgICAgICBpZiAodHlwZW9mIHZhbCAhPT0gJ3VuZGVmaW5lZCcpIHsNCiAgICAgICAgICAgICAgICB1cmlQYXJ0cy5wYXRoID0gdmFsOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIHVyaVBhcnRzLnBhdGg7DQogICAgICAgIH0sDQoNCiAgICAgICAgcXVlcnkgPSBmdW5jdGlvbiAodmFsKSB7DQogICAgICAgICAgICBpZiAodHlwZW9mIHZhbCAhPT0gJ3VuZGVmaW5lZCcpIHsNCiAgICAgICAgICAgICAgICBxdWVyeU9iaiA9IG5ldyBRdWVyeSh2YWwpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5T2JqOw0KICAgICAgICB9LA0KDQogICAgICAgIGFuY2hvciA9IGZ1bmN0aW9uICh2YWwpIHsNCiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsICE9PSAndW5kZWZpbmVkJykgew0KICAgICAgICAgICAgICAgIHVyaVBhcnRzLmFuY2hvciA9IHZhbDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiB1cmlQYXJ0cy5hbmNob3I7DQogICAgICAgIH0sDQoNCg0KICAgICAgICAvKg0KICAgICAgICAgICAgRmx1ZW50IHNldHRlcnMgZm9yIFVyaSB1cmkgcHJvcGVydGllcw0KICAgICAgICAqLw0KDQogICAgICAgIHNldFByb3RvY29sID0gZnVuY3Rpb24gKHZhbCkgew0KICAgICAgICAgICAgcHJvdG9jb2wodmFsKTsNCiAgICAgICAgICAgIHJldHVybiB0aGlzOw0KICAgICAgICB9LA0KDQogICAgICAgIHNldEhhc0F1dGhvcml0eVByZWZpeCA9IGZ1bmN0aW9uICh2YWwpIHsNCiAgICAgICAgICAgIGhhc0F1dGhvcml0eVByZWZpeCh2YWwpOw0KICAgICAgICAgICAgcmV0dXJuIHRoaXM7DQogICAgICAgIH0sDQoNCiAgICAgICAgc2V0VXNlckluZm8gPSBmdW5jdGlvbiAodmFsKSB7DQogICAgICAgICAgICB1c2VySW5mbyh2YWwpOw0KICAgICAgICAgICAgcmV0dXJuIHRoaXM7DQogICAgICAgIH0sDQoNCiAgICAgICAgc2V0SG9zdCA9IGZ1bmN0aW9uICh2YWwpIHsNCiAgICAgICAgICAgIGhvc3QodmFsKTsNCiAgICAgICAgICAgIHJldHVybiB0aGlzOw0KICAgICAgICB9LA0KDQogICAgICAgIHNldFBvcnQgPSBmdW5jdGlvbiAodmFsKSB7DQogICAgICAgICAgICBwb3J0KHZhbCk7DQogICAgICAgICAgICByZXR1cm4gdGhpczsNCiAgICAgICAgfSwNCg0KICAgICAgICBzZXRQYXRoID0gZnVuY3Rpb24gKHZhbCkgew0KICAgICAgICAgICAgcGF0aCh2YWwpOw0KICAgICAgICAgICAgcmV0dXJuIHRoaXM7DQogICAgICAgIH0sDQoNCiAgICAgICAgc2V0UXVlcnkgPSBmdW5jdGlvbiAodmFsKSB7DQogICAgICAgICAgICBxdWVyeSh2YWwpOw0KICAgICAgICAgICAgcmV0dXJuIHRoaXM7DQogICAgICAgIH0sDQoNCiAgICAgICAgc2V0QW5jaG9yID0gZnVuY3Rpb24gKHZhbCkgew0KICAgICAgICAgICAgYW5jaG9yKHZhbCk7DQogICAgICAgICAgICByZXR1cm4gdGhpczsNCiAgICAgICAgfSwNCg0KICAgICAgICAvKg0KICAgICAgICAgICAgUXVlcnkgbWV0aG9kIHdyYXBwZXJzDQogICAgICAgICovDQogICAgICAgIGdldFF1ZXJ5UGFyYW1WYWx1ZSA9IGZ1bmN0aW9uIChrZXkpIHsNCiAgICAgICAgICAgIHJldHVybiBxdWVyeSgpLmdldFBhcmFtVmFsdWUoa2V5KTsNCiAgICAgICAgfSwNCg0KICAgICAgICBnZXRRdWVyeVBhcmFtVmFsdWVzID0gZnVuY3Rpb24gKGtleSkgew0KICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5KCkuZ2V0UGFyYW1WYWx1ZXMoa2V5KTsNCiAgICAgICAgfSwNCg0KICAgICAgICBkZWxldGVRdWVyeVBhcmFtID0gZnVuY3Rpb24gKGtleSwgdmFsKSB7DQogICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgew0KICAgICAgICAgICAgICAgIHF1ZXJ5KCkuZGVsZXRlUGFyYW0oa2V5LCB2YWwpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBxdWVyeSgpLmRlbGV0ZVBhcmFtKGtleSk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHJldHVybiB0aGlzOw0KICAgICAgICB9LA0KDQogICAgICAgIGFkZFF1ZXJ5UGFyYW0gPSBmdW5jdGlvbiAoa2V5LCB2YWwsIGluZGV4KSB7DQogICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMykgew0KICAgICAgICAgICAgICAgIHF1ZXJ5KCkuYWRkUGFyYW0oa2V5LCB2YWwsIGluZGV4KTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgcXVlcnkoKS5hZGRQYXJhbShrZXksIHZhbCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gdGhpczsNCiAgICAgICAgfSwNCg0KICAgICAgICByZXBsYWNlUXVlcnlQYXJhbSA9IGZ1bmN0aW9uIChrZXksIG5ld1ZhbCwgb2xkVmFsKSB7DQogICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMykgew0KICAgICAgICAgICAgICAgIHF1ZXJ5KCkucmVwbGFjZVBhcmFtKGtleSwgbmV3VmFsLCBvbGRWYWwpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBxdWVyeSgpLnJlcGxhY2VQYXJhbShrZXksIG5ld1ZhbCk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHJldHVybiB0aGlzOw0KICAgICAgICB9LA0KDQogICAgICAgIC8qDQogICAgICAgICAgICBTZXJpYWxpemF0aW9uDQogICAgICAgICovDQoNCiAgICAgICAgLy8gdG9TdHJpbmcoKSBzdHJpbmdpZmllcyB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgdXJpDQogICAgICAgIHRvU3RyaW5nID0gZnVuY3Rpb24gKCkgew0KDQogICAgICAgICAgICB2YXIgcyA9ICcnLA0KICAgICAgICAgICAgICAgIGlzID0gZnVuY3Rpb24gKHMpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChzICE9PSBudWxsICYmIHMgIT09ICcnKTsNCiAgICAgICAgICAgICAgICB9Ow0KDQogICAgICAgICAgICBpZiAoaXMocHJvdG9jb2woKSkpIHsNCiAgICAgICAgICAgICAgICBzICs9IHByb3RvY29sKCk7DQogICAgICAgICAgICAgICAgaWYgKHByb3RvY29sKCkuaW5kZXhPZignOicpICE9PSBwcm90b2NvbCgpLmxlbmd0aCAtIDEpIHsNCiAgICAgICAgICAgICAgICAgICAgcyArPSAnOic7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHMgKz0gJy8vJzsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgaWYgKGhhc0F1dGhvcml0eVByZWZpeCgpICYmIGlzKGhvc3QoKSkpIHsNCiAgICAgICAgICAgICAgICAgICAgcyArPSAnLy8nOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKGlzKHVzZXJJbmZvKCkpICYmIGlzKGhvc3QoKSkpIHsNCiAgICAgICAgICAgICAgICBzICs9IHVzZXJJbmZvKCk7DQogICAgICAgICAgICAgICAgaWYgKHVzZXJJbmZvKCkuaW5kZXhPZignQCcpICE9PSB1c2VySW5mbygpLmxlbmd0aCAtIDEpIHsNCiAgICAgICAgICAgICAgICAgICAgcyArPSAnQCc7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAoaXMoaG9zdCgpKSkgew0KICAgICAgICAgICAgICAgIHMgKz0gaG9zdCgpOw0KICAgICAgICAgICAgICAgIGlmIChpcyhwb3J0KCkpKSB7DQogICAgICAgICAgICAgICAgICAgIHMgKz0gJzonICsgcG9ydCgpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKGlzKHBhdGgoKSkpIHsNCiAgICAgICAgICAgICAgICBzICs9IHBhdGgoKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgaWYgKGlzKGhvc3QoKSkgJiYgKGlzKHF1ZXJ5KCkudG9TdHJpbmcoKSkgfHwgaXMoYW5jaG9yKCkpKSkgew0KICAgICAgICAgICAgICAgICAgICBzICs9ICcvJzsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoaXMocXVlcnkoKS50b1N0cmluZygpKSkgew0KICAgICAgICAgICAgICAgIGlmIChxdWVyeSgpLnRvU3RyaW5nKCkuaW5kZXhPZignPycpICE9PSAwKSB7DQogICAgICAgICAgICAgICAgICAgIHMgKz0gJz8nOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBzICs9IHF1ZXJ5KCkudG9TdHJpbmcoKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKGlzKGFuY2hvcigpKSkgew0KICAgICAgICAgICAgICAgIGlmIChhbmNob3IoKS5pbmRleE9mKCcjJykgIT09IDApIHsNCiAgICAgICAgICAgICAgICAgICAgcyArPSAnIyc7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHMgKz0gYW5jaG9yKCk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHJldHVybiBzOw0KICAgICAgICB9LA0KDQogICAgICAgIC8qDQogICAgICAgICAgICBDbG9uaW5nDQogICAgICAgICovDQoNCiAgICAgICAgLy8gY2xvbmUoKSByZXR1cm5zIGEgbmV3LCBpZGVudGljYWwgVXJpIGluc3RhbmNlDQogICAgICAgIGNsb25lID0gZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgcmV0dXJuIG5ldyBVcmkodG9TdHJpbmcoKSk7DQogICAgICAgIH07DQoNCiAgICAvLyBwdWJsaWMgYXBpDQogICAgcmV0dXJuIHsNCg0KICAgICAgICBwcm90b2NvbDogcHJvdG9jb2wsDQogICAgICAgIGhhc0F1dGhvcml0eVByZWZpeDogaGFzQXV0aG9yaXR5UHJlZml4LA0KICAgICAgICB1c2VySW5mbzogdXNlckluZm8sDQogICAgICAgIGhvc3Q6IGhvc3QsDQogICAgICAgIHBvcnQ6IHBvcnQsDQogICAgICAgIHBhdGg6IHBhdGgsDQogICAgICAgIHF1ZXJ5OiBxdWVyeSwNCiAgICAgICAgYW5jaG9yOiBhbmNob3IsDQoNCiAgICAgICAgc2V0UHJvdG9jb2w6IHNldFByb3RvY29sLA0KICAgICAgICBzZXRIYXNBdXRob3JpdHlQcmVmaXg6IHNldEhhc0F1dGhvcml0eVByZWZpeCwNCiAgICAgICAgc2V0VXNlckluZm86IHNldFVzZXJJbmZvLA0KICAgICAgICBzZXRIb3N0OiBzZXRIb3N0LA0KICAgICAgICBzZXRQb3J0OiBzZXRQb3J0LA0KICAgICAgICBzZXRQYXRoOiBzZXRQYXRoLA0KICAgICAgICBzZXRRdWVyeTogc2V0UXVlcnksDQogICAgICAgIHNldEFuY2hvcjogc2V0QW5jaG9yLA0KDQogICAgICAgIGdldFF1ZXJ5UGFyYW1WYWx1ZTogZ2V0UXVlcnlQYXJhbVZhbHVlLA0KICAgICAgICBnZXRRdWVyeVBhcmFtVmFsdWVzOiBnZXRRdWVyeVBhcmFtVmFsdWVzLA0KICAgICAgICBkZWxldGVRdWVyeVBhcmFtOiBkZWxldGVRdWVyeVBhcmFtLA0KICAgICAgICBhZGRRdWVyeVBhcmFtOiBhZGRRdWVyeVBhcmFtLA0KICAgICAgICByZXBsYWNlUXVlcnlQYXJhbTogcmVwbGFjZVF1ZXJ5UGFyYW0sDQoNCiAgICAgICAgdG9TdHJpbmc6IHRvU3RyaW5nLA0KICAgICAgICBjbG9uZTogY2xvbmUNCiAgICB9Ow0KfTsNCg0KLyogYWRkIGNvbXBhdGliaWxpdHkgZm9yIHVzZXJzIG9mIGpzVXJpIDw9IDEuMS4xICovDQp2YXIganNVcmkgPSBVcmk7DQo=
- ID: "6954b7c7-2487-423f-8600-436cb3b6dc0e"
  Hint: Size
  Value: 14048
- ID: "6f47a0a5-9c94-4b48-abeb-42d38def6054"
  Hint: Mime Type
  Value: "application/x-javascript"
- ID: "ba3f86a2-4a1c-4d78-b63d-91c2779c1b5e"
  Hint: __Sortorder
  Value: 600
- ID: "c06867fe-9a43-4c7d-b739-48780492d06f"
  Hint: Extension
  Value: js
Languages:
- Language: "de-DE"
  Versions:
  - Version: 1
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20171120T053118Z
    - ID: "5dd74568-4d4b-44c1-b513-0af5f4cda34f"
      Hint: __Created by
      Value: |
        sitecore\admin
- Language: en
  Versions:
  - Version: 1
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20171120T053118Z
- Language: "fr-FR"
  Versions:
  - Version: 1
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20171120T053118Z
    - ID: "5dd74568-4d4b-44c1-b513-0af5f4cda34f"
      Hint: __Created by
      Value: |
        sitecore\admin
- Language: "ja-JP"
  Versions:
  - Version: 1
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20171120T053118Z
    - ID: "5dd74568-4d4b-44c1-b513-0af5f4cda34f"
      Hint: __Created by
      Value: |
        sitecore\admin
