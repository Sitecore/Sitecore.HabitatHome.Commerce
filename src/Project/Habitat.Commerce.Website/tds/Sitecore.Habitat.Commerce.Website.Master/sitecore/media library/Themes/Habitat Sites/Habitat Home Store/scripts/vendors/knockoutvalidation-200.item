----item----
version: 1
id: {52A1386C-6848-4122-A1F5-8C3E01568627}
database: master
path: /sitecore/media library/Themes/Habitat Sites/Habitat Home Store/scripts/vendors/knockoutvalidation-200
parent: {0F96D50A-CE5F-456F-837D-A416B6D71B99}
name: knockoutvalidation-200
master: {00000000-0000-0000-0000-000000000000}
template: {962B53C4-F93B-4DF9-9821-415C867B8903}
templatekey: File
created: 20180215T174744Z

----field----
field: {40E50ED9-BA07-4702-992E-A912738D32DC}
name: Blob
key: blob
content-length: 67756

Lyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PQ0KCUF1dGhvcjoJCQlFcmljIE0uIEJhcm5hcmQgLSBAZXJp
Y21iYXJuYXJkCQkJCQkJCQkNCglMaWNlbnNlOgkJTUlUIChodHRwOi8vb3BlbnNvdXJjZS5vcmcv
bGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwKQkJDQoJCQkJCQkJCQkJCQkJCQkJCQkJCQ0KCURlc2Ny
aXB0aW9uOglWYWxpZGF0aW9uIExpYnJhcnkgZm9yIEtub2Nrb3V0SlMJCQkJCQkJDQoJVmVyc2lv
bjoJCTIuMC4wCQkJCQkJCQkJCQkNCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0NCiovDQovKmdsb2Jh
bHMgcmVxdWlyZTogZmFsc2UsIGV4cG9ydHM6IGZhbHNlLCBkZWZpbmU6IGZhbHNlLCBrbzogZmFs
c2UgKi8NCg0KKGZ1bmN0aW9uIChmYWN0b3J5KSB7DQoJLy8gTW9kdWxlIHN5c3RlbXMgbWFnaWMg
ZGFuY2UuDQoNCglpZiAodHlwZW9mIHJlcXVpcmUgPT09ICJmdW5jdGlvbiIgJiYgdHlwZW9mIGV4
cG9ydHMgPT09ICJvYmplY3QiICYmIHR5cGVvZiBtb2R1bGUgPT09ICJvYmplY3QiKSB7DQoJCS8v
IENvbW1vbkpTIG9yIE5vZGU6IGhhcmQtY29kZWQgZGVwZW5kZW5jeSBvbiAia25vY2tvdXQiDQoJ
CWZhY3RvcnkocmVxdWlyZSgia25vY2tvdXQiKSwgZXhwb3J0cyk7DQoJfSBlbHNlIGlmICh0eXBl
b2YgZGVmaW5lID09PSAiZnVuY3Rpb24iICYmIGRlZmluZVsiYW1kIl0pIHsNCgkJLy8gQU1EIGFu
b255bW91cyBtb2R1bGUgd2l0aCBoYXJkLWNvZGVkIGRlcGVuZGVuY3kgb24gImtub2Nrb3V0Ig0K
CQlkZWZpbmUoWyJrbm9ja291dCIsICJleHBvcnRzIl0sIGZhY3RvcnkpOw0KCX0gZWxzZSB7DQoJ
CS8vIDxzY3JpcHQ+IHRhZzogdXNlIHRoZSBnbG9iYWwgYGtvYCBvYmplY3QsIGF0dGFjaGluZyBh
IGBtYXBwaW5nYCBwcm9wZXJ0eQ0KCQlmYWN0b3J5KGtvLCBrby52YWxpZGF0aW9uID0ge30pOw0K
CX0NCn0oZnVuY3Rpb24gKCBrbywgZXhwb3J0cyApIHsNCg0KCWlmICh0eXBlb2YgKGtvKSA9PT0g
J3VuZGVmaW5lZCcpIHsNCgkJdGhyb3cgbmV3IEVycm9yKCdLbm9ja291dCBpcyByZXF1aXJlZCwg
cGxlYXNlIGVuc3VyZSBpdCBpcyBsb2FkZWQgYmVmb3JlIGxvYWRpbmcgdGhpcyB2YWxpZGF0aW9u
IHBsdWctaW4nKTsNCgl9DQoNCgkvLyBjcmVhdGUgb3VyIG5hbWVzcGFjZSBvYmplY3QNCglrby52
YWxpZGF0aW9uID0gZXhwb3J0czsNCg0KCXZhciBrdiA9IGtvLnZhbGlkYXRpb24sDQoJCWtvVXRp
bHMgPSBrby51dGlscywNCgkJdW53cmFwID0ga29VdGlscy51bndyYXBPYnNlcnZhYmxlLA0KCQlm
b3JFYWNoID0ga29VdGlscy5hcnJheUZvckVhY2gsDQoJCWV4dGVuZCA9IGtvVXRpbHMuZXh0ZW5k
Ow0KOy8qZ2xvYmFsIGtvOiBmYWxzZSovDQoNCnZhciBkZWZhdWx0cyA9IHsNCglyZWdpc3RlckV4
dGVuZGVyczogdHJ1ZSwNCgltZXNzYWdlc09uTW9kaWZpZWQ6IHRydWUsDQoJZXJyb3JzQXNUaXRs
ZTogdHJ1ZSwgICAgICAgICAgICAvLyBlbmFibGVzL2Rpc2FibGVzIHNob3dpbmcgb2YgZXJyb3Jz
IGFzIHRpdGxlIGF0dHJpYnV0ZSBvZiB0aGUgdGFyZ2V0IGVsZW1lbnQuDQoJZXJyb3JzQXNUaXRs
ZU9uTW9kaWZpZWQ6IGZhbHNlLCAvLyBzaG93cyB0aGUgZXJyb3Igd2hlbiBob3ZlcmluZyB0aGUg
aW5wdXQgZmllbGQgKGRlY29yYXRlRWxlbWVudCBtdXN0IGJlIHRydWUpDQoJbWVzc2FnZVRlbXBs
YXRlOiBudWxsLA0KCWluc2VydE1lc3NhZ2VzOiB0cnVlLCAgICAgICAgICAgLy8gYXV0b21hdGlj
YWxseSBpbnNlcnRzIHZhbGlkYXRpb24gbWVzc2FnZXMgYXMgPHNwYW4+PC9zcGFuPg0KCXBhcnNl
SW5wdXRBdHRyaWJ1dGVzOiBmYWxzZSwgICAgLy8gcGFyc2VzIHRoZSBIVE1MNSB2YWxpZGF0aW9u
IGF0dHJpYnV0ZSBmcm9tIGEgZm9ybSBlbGVtZW50IGFuZCBhZGRzIHRoYXQgdG8gdGhlIG9iamVj
dA0KCXdyaXRlSW5wdXRBdHRyaWJ1dGVzOiBmYWxzZSwgICAgLy8gYWRkcyBIVE1MNSBpbnB1dCB2
YWxpZGF0aW9uIGF0dHJpYnV0ZXMgdG8gZm9ybSBlbGVtZW50cyB0aGF0IGtvIG9ic2VydmFibGUn
cyBhcmUgYm91bmQgdG8NCglkZWNvcmF0ZUlucHV0RWxlbWVudDogZmFsc2UsICAgICAgICAgLy8g
ZmFsc2UgdG8ga2VlcCBiYWNrd2FyZCBjb21wYXRpYmlsaXR5DQoJZGVjb3JhdGVFbGVtZW50T25N
b2RpZmllZDogdHJ1ZSwvLyB0cnVlIHRvIGtlZXAgYmFja3dhcmQgY29tcGF0aWJpbGl0eQ0KCWVy
cm9yQ2xhc3M6IG51bGwsICAgICAgICAgICAgICAgLy8gc2luZ2xlIGNsYXNzIGZvciBlcnJvciBt
ZXNzYWdlIGFuZCBlbGVtZW50DQoJZXJyb3JFbGVtZW50Q2xhc3M6ICd2YWxpZGF0aW9uRWxlbWVu
dCcsICAvLyBjbGFzcyB0byBkZWNvcmF0ZSBlcnJvciBlbGVtZW50DQoJZXJyb3JNZXNzYWdlQ2xh
c3M6ICd2YWxpZGF0aW9uTWVzc2FnZScsICAvLyBjbGFzcyB0byBkZWNvcmF0ZSBlcnJvciBtZXNz
YWdlDQoJYWxsb3dIdG1sTWVzc2FnZXM6IGZhbHNlLAkJLy8gYWxsb3dzIEhUTUwgaW4gdmFsaWRh
dGlvbiBtZXNzYWdlcw0KCWdyb3VwaW5nOiB7DQoJCWRlZXA6IGZhbHNlLCAgICAgICAgLy9ieSBk
ZWZhdWx0IGdyb3VwaW5nIGlzIHNoYWxsb3cNCgkJb2JzZXJ2YWJsZTogdHJ1ZSwgICAvL2FuZCB1
c2luZyBvYnNlcnZhYmxlcw0KCQlsaXZlOiBmYWxzZQkJICAgIC8vcmVhY3QgdG8gY2hhbmdlcyB0
byBvYnNlcnZhYmxlQXJyYXlzIGlmIG9ic2VydmFibGUgPT09IHRydWUNCgl9LA0KCXZhbGlkYXRl
OiB7DQoJCS8vIHRocm90dGxlOiAxMA0KCX0NCn07DQoNCi8vIG1ha2UgYSBjb3B5ICBzbyB3ZSBj
YW4gdXNlICdyZXNldCcgbGF0ZXINCnZhciBjb25maWd1cmF0aW9uID0gZXh0ZW5kKHt9LCBkZWZh
dWx0cyk7DQoNCmNvbmZpZ3VyYXRpb24uaHRtbDVBdHRyaWJ1dGVzID0gWydyZXF1aXJlZCcsICdw
YXR0ZXJuJywgJ21pbicsICdtYXgnLCAnc3RlcCddOw0KY29uZmlndXJhdGlvbi5odG1sNUlucHV0
VHlwZXMgPSBbJ2VtYWlsJywgJ251bWJlcicsICdkYXRlJ107DQoNCmNvbmZpZ3VyYXRpb24ucmVz
ZXQgPSBmdW5jdGlvbiAoKSB7DQoJZXh0ZW5kKGNvbmZpZ3VyYXRpb24sIGRlZmF1bHRzKTsNCn07
DQoNCmt2LmNvbmZpZ3VyYXRpb24gPSBjb25maWd1cmF0aW9uOw0KO2t2LnV0aWxzID0gKGZ1bmN0
aW9uICgpIHsNCgl2YXIgc2VlZElkID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7DQoNCgl2YXIgZG9t
RGF0YSA9IHt9OyAvL2hhc2ggb2YgZGF0YSBvYmplY3RzIHRoYXQgd2UgcmVmZXJlbmNlIGZyb20g
ZG9tIGVsZW1lbnRzDQoJdmFyIGRvbURhdGFLZXkgPSAnX19rb192YWxpZGF0aW9uX18nOw0KDQoJ
cmV0dXJuIHsNCgkJaXNBcnJheTogZnVuY3Rpb24gKG8pIHsNCgkJCXJldHVybiBvLmlzQXJyYXkg
fHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pID09PSAnW29iamVjdCBBcnJheV0n
Ow0KCQl9LA0KCQlpc09iamVjdDogZnVuY3Rpb24gKG8pIHsNCgkJCXJldHVybiBvICE9PSBudWxs
ICYmIHR5cGVvZiBvID09PSAnb2JqZWN0JzsNCgkJfSwNCgkJaXNOdW1iZXI6IGZ1bmN0aW9uKG8p
IHsNCgkJCXJldHVybiAhaXNOYU4obyk7CQ0KCQl9LA0KCQlpc09ic2VydmFibGVBcnJheTogZnVu
Y3Rpb24oaW5zdGFuY2UpIHsNCgkJCXJldHVybiAhIWluc3RhbmNlICYmDQoJCQkJCXR5cGVvZiBp
bnN0YW5jZVsicmVtb3ZlIl0gPT09ICJmdW5jdGlvbiIgJiYNCgkJCQkJdHlwZW9mIGluc3RhbmNl
WyJyZW1vdmVBbGwiXSA9PT0gImZ1bmN0aW9uIiAmJg0KCQkJCQl0eXBlb2YgaW5zdGFuY2VbImRl
c3Ryb3kiXSA9PT0gImZ1bmN0aW9uIiAmJg0KCQkJCQl0eXBlb2YgaW5zdGFuY2VbImRlc3Ryb3lB
bGwiXSA9PT0gImZ1bmN0aW9uIiAmJg0KCQkJCQl0eXBlb2YgaW5zdGFuY2VbImluZGV4T2YiXSA9
PT0gImZ1bmN0aW9uIiAmJg0KCQkJCQl0eXBlb2YgaW5zdGFuY2VbInJlcGxhY2UiXSA9PT0gImZ1
bmN0aW9uIjsNCgkJfSwNCgkJdmFsdWVzOiBmdW5jdGlvbiAobykgew0KCQkJdmFyIHIgPSBbXTsN
CgkJCWZvciAodmFyIGkgaW4gbykgew0KCQkJCWlmIChvLmhhc093blByb3BlcnR5KGkpKSB7DQoJ
CQkJCXIucHVzaChvW2ldKTsNCgkJCQl9DQoJCQl9DQoJCQlyZXR1cm4gcjsNCgkJfSwNCgkJZ2V0
VmFsdWU6IGZ1bmN0aW9uIChvKSB7DQoJCQlyZXR1cm4gKHR5cGVvZiBvID09PSAnZnVuY3Rpb24n
ID8gbygpIDogbyk7DQoJCX0sDQoJCWhhc0F0dHJpYnV0ZTogZnVuY3Rpb24gKG5vZGUsIGF0dHIp
IHsNCgkJCXJldHVybiBub2RlLmdldEF0dHJpYnV0ZShhdHRyKSAhPT0gbnVsbDsNCgkJfSwNCgkJ
Z2V0QXR0cmlidXRlOiBmdW5jdGlvbiAoZWxlbWVudCwgYXR0cikgew0KCQkJcmV0dXJuIGVsZW1l
bnQuZ2V0QXR0cmlidXRlKGF0dHIpOw0KCQl9LA0KCQlzZXRBdHRyaWJ1dGU6IGZ1bmN0aW9uIChl
bGVtZW50LCBhdHRyLCB2YWx1ZSkgew0KCQkJcmV0dXJuIGVsZW1lbnQuc2V0QXR0cmlidXRlKGF0
dHIsIHZhbHVlKTsNCgkJfSwNCgkJaXNWYWxpZGF0YWJsZTogZnVuY3Rpb24gKG8pIHsNCgkJCXJl
dHVybiAhIShvICYmIG8ucnVsZXMgJiYgby5pc1ZhbGlkICYmIG8uaXNNb2RpZmllZCk7DQoJCX0s
DQoJCWluc2VydEFmdGVyOiBmdW5jdGlvbiAobm9kZSwgbmV3Tm9kZSkgew0KCQkJbm9kZS5wYXJl
bnROb2RlLmluc2VydEJlZm9yZShuZXdOb2RlLCBub2RlLm5leHRTaWJsaW5nKTsNCgkJfSwNCgkJ
bmV3SWQ6IGZ1bmN0aW9uICgpIHsNCgkJCXJldHVybiBzZWVkSWQgKz0gMTsNCgkJfSwNCgkJZ2V0
Q29uZmlnT3B0aW9uczogZnVuY3Rpb24gKGVsZW1lbnQpIHsNCgkJCXZhciBvcHRpb25zID0ga3Yu
dXRpbHMuY29udGV4dEZvcihlbGVtZW50KTsNCg0KCQkJcmV0dXJuIG9wdGlvbnMgfHwga3YuY29u
ZmlndXJhdGlvbjsNCgkJfSwNCgkJc2V0RG9tRGF0YTogZnVuY3Rpb24gKG5vZGUsIGRhdGEpIHsN
CgkJCXZhciBrZXkgPSBub2RlW2RvbURhdGFLZXldOw0KDQoJCQlpZiAoIWtleSkgew0KCQkJCW5v
ZGVbZG9tRGF0YUtleV0gPSBrZXkgPSBrdi51dGlscy5uZXdJZCgpOw0KCQkJfQ0KDQoJCQlkb21E
YXRhW2tleV0gPSBkYXRhOw0KCQl9LA0KCQlnZXREb21EYXRhOiBmdW5jdGlvbiAobm9kZSkgew0K
CQkJdmFyIGtleSA9IG5vZGVbZG9tRGF0YUtleV07DQoNCgkJCWlmICgha2V5KSB7DQoJCQkJcmV0
dXJuIHVuZGVmaW5lZDsNCgkJCX0NCg0KCQkJcmV0dXJuIGRvbURhdGFba2V5XTsNCgkJfSwNCgkJ
Y29udGV4dEZvcjogZnVuY3Rpb24gKG5vZGUpIHsNCgkJCXN3aXRjaCAobm9kZS5ub2RlVHlwZSkg
ew0KCQkJCWNhc2UgMToNCgkJCQljYXNlIDg6DQoJCQkJCXZhciBjb250ZXh0ID0ga3YudXRpbHMu
Z2V0RG9tRGF0YShub2RlKTsNCgkJCQkJaWYgKGNvbnRleHQpIHsgcmV0dXJuIGNvbnRleHQ7IH0N
CgkJCQkJaWYgKG5vZGUucGFyZW50Tm9kZSkgeyByZXR1cm4ga3YudXRpbHMuY29udGV4dEZvcihu
b2RlLnBhcmVudE5vZGUpOyB9DQoJCQkJCWJyZWFrOw0KCQkJfQ0KCQkJcmV0dXJuIHVuZGVmaW5l
ZDsNCgkJfSwNCgkJaXNFbXB0eVZhbDogZnVuY3Rpb24gKHZhbCkgew0KCQkJaWYgKHZhbCA9PT0g
dW5kZWZpbmVkKSB7DQoJCQkJcmV0dXJuIHRydWU7DQoJCQl9DQoJCQlpZiAodmFsID09PSBudWxs
KSB7DQoJCQkJcmV0dXJuIHRydWU7DQoJCQl9DQoJCQlpZiAodmFsID09PSAiIikgew0KCQkJCXJl
dHVybiB0cnVlOw0KCQkJfQ0KCQl9LA0KCQlnZXRPcmlnaW5hbEVsZW1lbnRUaXRsZTogZnVuY3Rp
b24gKGVsZW1lbnQpIHsNCgkJCXZhciBzYXZlZE9yaWdpbmFsVGl0bGUgPSBrdi51dGlscy5nZXRB
dHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEtb3JpZy10aXRsZScpLA0KCQkJCWN1cnJlbnRUaXRsZSA9
IGVsZW1lbnQudGl0bGUsDQoJCQkJaGFzU2F2ZWRPcmlnaW5hbFRpdGxlID0ga3YudXRpbHMuaGFz
QXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLW9yaWctdGl0bGUnKTsNCg0KCQkJcmV0dXJuIGhhc1Nh
dmVkT3JpZ2luYWxUaXRsZSA/DQoJCQkJc2F2ZWRPcmlnaW5hbFRpdGxlIDogY3VycmVudFRpdGxl
Ow0KCQl9LA0KCQlhc3luYzogZnVuY3Rpb24gKGV4cHIpIHsNCgkJCWlmICh3aW5kb3cuc2V0SW1t
ZWRpYXRlKSB7IHdpbmRvdy5zZXRJbW1lZGlhdGUoZXhwcik7IH0NCgkJCWVsc2UgeyB3aW5kb3cu
c2V0VGltZW91dChleHByLCAwKTsgfQ0KCQl9LA0KCQlmb3JFYWNoOiBmdW5jdGlvbiAob2JqZWN0
LCBjYWxsYmFjaykgew0KCQkJaWYgKGt2LnV0aWxzLmlzQXJyYXkob2JqZWN0KSkgew0KCQkJCXJl
dHVybiBmb3JFYWNoKG9iamVjdCwgY2FsbGJhY2spOw0KCQkJfQ0KCQkJZm9yICh2YXIgcHJvcCBp
biBvYmplY3QpIHsNCgkJCQlpZiAob2JqZWN0Lmhhc093blByb3BlcnR5KHByb3ApKSB7DQoJCQkJ
CWNhbGxiYWNrKG9iamVjdFtwcm9wXSwgcHJvcCk7DQoJCQkJfQ0KCQkJfQ0KCQl9DQoJfTsNCn0o
KSk7O3ZhciBhcGkgPSAoZnVuY3Rpb24gKCkgew0KDQoJdmFyIGlzSW5pdGlhbGl6ZWQgPSAwLA0K
CQljb25maWd1cmF0aW9uID0ga3YuY29uZmlndXJhdGlvbiwNCgkJdXRpbHMgPSBrdi51dGlsczsN
Cg0KCWZ1bmN0aW9uIGNsZWFuVXBTdWJzY3JpcHRpb25zKGNvbnRleHQpIHsNCgkJZm9yRWFjaChj
b250ZXh0LnN1YnNjcmlwdGlvbnMsIGZ1bmN0aW9uIChzdWJzY3JpcHRpb24pIHsNCgkJCXN1YnNj
cmlwdGlvbi5kaXNwb3NlKCk7DQoJCX0pOw0KCQljb250ZXh0LnN1YnNjcmlwdGlvbnMgPSBbXTsN
Cgl9DQoNCglmdW5jdGlvbiBkaXNwb3NlKGNvbnRleHQpIHsNCgkJaWYgKGNvbnRleHQub3B0aW9u
cy5kZWVwKSB7DQoJCQlmb3JFYWNoKGNvbnRleHQuZmxhZ2dlZCwgZnVuY3Rpb24gKG9iaikgew0K
CQkJCWRlbGV0ZSBvYmouX19rdl90cmF2ZXJzZWQ7DQoJCQl9KTsNCgkJCWNvbnRleHQuZmxhZ2dl
ZC5sZW5ndGggPSAwOw0KCQl9DQoNCgkJaWYgKCFjb250ZXh0Lm9wdGlvbnMubGl2ZSkgew0KCQkJ
Y2xlYW5VcFN1YnNjcmlwdGlvbnMoY29udGV4dCk7DQoJCX0NCgl9DQoNCglmdW5jdGlvbiBydW5U
cmF2ZXJzYWwob2JqLCBjb250ZXh0KSB7DQoJCWNvbnRleHQudmFsaWRhdGFibGVzID0gW107DQoJ
CWNsZWFuVXBTdWJzY3JpcHRpb25zKGNvbnRleHQpOw0KCQl0cmF2ZXJzZUdyYXBoKG9iaiwgY29u
dGV4dCk7DQoJCWRpc3Bvc2UoY29udGV4dCk7DQoJfQ0KDQoJZnVuY3Rpb24gdHJhdmVyc2VHcmFw
aChvYmosIGNvbnRleHQsIGxldmVsKSB7DQoJCXZhciBvYmpWYWx1ZXMgPSBbXSwNCgkJCXZhbCA9
IG9iai5wZWVrID8gb2JqLnBlZWsoKSA6IG9iajsNCg0KCQlpZiAob2JqLl9fa3ZfdHJhdmVyc2Vk
ID09PSB0cnVlKSB7DQoJCQlyZXR1cm47DQoJCX0NCg0KCQlpZiAoY29udGV4dC5vcHRpb25zLmRl
ZXApIHsNCgkJCW9iai5fX2t2X3RyYXZlcnNlZCA9IHRydWU7DQoJCQljb250ZXh0LmZsYWdnZWQu
cHVzaChvYmopOw0KCQl9DQoNCgkJLy9kZWZhdWx0IGxldmVsIHZhbHVlIGRlcGVuZHMgb24gZGVl
cCBvcHRpb24uDQoJCWxldmVsID0gKGxldmVsICE9PSB1bmRlZmluZWQgPyBsZXZlbCA6IGNvbnRl
eHQub3B0aW9ucy5kZWVwID8gMSA6IC0xKTsNCg0KCQkvLyBpZiBvYmplY3QgaXMgb2JzZXJ2YWJs
ZSB0aGVuIGFkZCBpdCB0byB0aGUgbGlzdA0KCQlpZiAoa28uaXNPYnNlcnZhYmxlKG9iaikpIHsN
CgkJCS8vIGVuc3VyZSBpdCdzIHZhbGlkYXRhYmxlIGJ1dCBkb24ndCBleHRlbmQgdmFsaWRhdGVk
T2JzZXJ2YWJsZSBiZWNhdXNlIGl0DQoJCQkvLyB3b3VsZCBvdmVyd3JpdGUgaXNWYWxpZCBwcm9w
ZXJ0eS4NCgkJCWlmICghb2JqLmVycm9ycyAmJiAhdXRpbHMuaXNWYWxpZGF0YWJsZShvYmopKSB7
DQoJCQkJb2JqLmV4dGVuZCh7IHZhbGlkYXRhYmxlOiB0cnVlIH0pOw0KCQkJfQ0KCQkJY29udGV4
dC52YWxpZGF0YWJsZXMucHVzaChvYmopOw0KDQoJCQlpZiAoY29udGV4dC5vcHRpb25zLmxpdmUg
JiYgdXRpbHMuaXNPYnNlcnZhYmxlQXJyYXkob2JqKSkgew0KCQkJCWNvbnRleHQuc3Vic2NyaXB0
aW9ucy5wdXNoKG9iai5zdWJzY3JpYmUoZnVuY3Rpb24gKCkgew0KCQkJCQljb250ZXh0LmdyYXBo
TW9uaXRvci52YWx1ZUhhc011dGF0ZWQoKTsNCgkJCQl9KSk7DQoJCQl9DQoJCX0NCg0KCQkvL2dl
dCBsaXN0IG9mIHZhbHVlcyBlaXRoZXIgZnJvbSBhcnJheSBvciBvYmplY3QgYnV0IGlnbm9yZSBu
b24tb2JqZWN0cw0KCQkvLyBhbmQgZGVzdHJveWVkIG9iamVjdHMNCgkJaWYgKHZhbCAmJiAhdmFs
Ll9kZXN0cm95KSB7DQoJCQlpZiAodXRpbHMuaXNBcnJheSh2YWwpKSB7DQoJCQkJb2JqVmFsdWVz
ID0gdmFsOw0KCQkJfQ0KCQkJZWxzZSBpZiAodXRpbHMuaXNPYmplY3QodmFsKSkgew0KCQkJCW9i
alZhbHVlcyA9IHV0aWxzLnZhbHVlcyh2YWwpOw0KCQkJfQ0KCQl9DQoNCgkJLy9wcm9jZXNzIHJl
Y3Vyc2l2ZWx5IGlmIGl0IGlzIGRlZXAgZ3JvdXBpbmcNCgkJaWYgKGxldmVsICE9PSAwKSB7DQoJ
CQl1dGlscy5mb3JFYWNoKG9ialZhbHVlcywgZnVuY3Rpb24gKG9ic2VydmFibGUpIHsNCgkJCQkv
L2J1dCBub3QgZmFsc3kgdGhpbmdzIGFuZCBub3QgSFRNTCBFbGVtZW50cw0KCQkJCWlmIChvYnNl
cnZhYmxlICYmICFvYnNlcnZhYmxlLm5vZGVUeXBlICYmICgha28uaXNDb21wdXRlZChvYnNlcnZh
YmxlKSB8fCBvYnNlcnZhYmxlLnJ1bGVzKSkgew0KCQkJCQl0cmF2ZXJzZUdyYXBoKG9ic2VydmFi
bGUsIGNvbnRleHQsIGxldmVsICsgMSk7DQoJCQkJfQ0KCQkJfSk7DQoJCX0NCgl9DQoNCglmdW5j
dGlvbiBjb2xsZWN0RXJyb3JzKGFycmF5KSB7DQoJCXZhciBlcnJvcnMgPSBbXTsNCgkJZm9yRWFj
aChhcnJheSwgZnVuY3Rpb24gKG9ic2VydmFibGUpIHsNCgkJCS8vIERvIG5vdCBjb2xsZWN0IHZh
bGlkYXRlZE9ic2VydmFibGUgZXJyb3JzDQoJCQlpZiAodXRpbHMuaXNWYWxpZGF0YWJsZShvYnNl
cnZhYmxlKSAmJiAhb2JzZXJ2YWJsZS5pc1ZhbGlkKCkpIHsNCgkJCQkvLyBVc2UgcGVlayBiZWNh
dXNlIHdlIGRvbid0IHdhbnQgYSBkZXBlbmRlbmN5IGZvciAnZXJyb3InIHByb3BlcnR5IGJlY2F1
c2UgaXQNCgkJCQkvLyBjaGFuZ2VzIGJlZm9yZSAnaXNWYWxpZCcgZG9lcy4gKElzc3VlICM5OSkN
CgkJCQllcnJvcnMucHVzaChvYnNlcnZhYmxlLmVycm9yLnBlZWsoKSk7DQoJCQl9DQoJCX0pOw0K
CQlyZXR1cm4gZXJyb3JzOw0KCX0NCg0KCXJldHVybiB7DQoJCS8vQ2FsbCB0aGlzIG9uIHN0YXJ0
dXANCgkJLy9hbnkgY29uZmlnIGNhbiBiZSBvdmVycmlkZGVuIHdpdGggdGhlIHBhc3NlZCBpbiBv
cHRpb25zDQoJCWluaXQ6IGZ1bmN0aW9uIChvcHRpb25zLCBmb3JjZSkgew0KCQkJLy9kb25lIHJ1
biB0aGlzIG11bHRpcGxlIHRpbWVzIGlmIHdlIGRvbid0IHJlYWxseSB3YW50IHRvDQoJCQlpZiAo
aXNJbml0aWFsaXplZCA+IDAgJiYgIWZvcmNlKSB7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KDQoJCQkv
L2JlY2F1c2Ugd2Ugd2lsbCBiZSBhY2Nlc3Npbmcgb3B0aW9ucyBwcm9wZXJ0aWVzIGl0IGhhcyB0
byBiZSBhbiBvYmplY3QgYXQgbGVhc3QNCgkJCW9wdGlvbnMgPSBvcHRpb25zIHx8IHt9Ow0KCQkJ
Ly9pZiBzcGVjaWZpYyBlcnJvciBjbGFzc2VzIGFyZSBub3QgcHJvdmlkZWQgdGhlbiBhcHBseSBn
ZW5lcmljIGVycm9yQ2xhc3MNCgkJCS8vaXQgaGFzIHRvIGJlIGRvbmUgb24gb3B0aW9uIHNvIHRo
YXQgb3B0aW9ucy5lcnJvckNsYXNzIGNhbiBvdmVycmlkZSBkZWZhdWx0DQoJCQkvL2Vycm9yRWxl
bWVudENsYXNzIGFuZCBlcnJvck1lc3NhZ2UgY2xhc3MgYnV0IG5vdCB0aG9zZSBwcm92aWRlZCBp
biBvcHRpb25zDQoJCQlvcHRpb25zLmVycm9yRWxlbWVudENsYXNzID0gb3B0aW9ucy5lcnJvckVs
ZW1lbnRDbGFzcyB8fCBvcHRpb25zLmVycm9yQ2xhc3MgfHwgY29uZmlndXJhdGlvbi5lcnJvckVs
ZW1lbnRDbGFzczsNCgkJCW9wdGlvbnMuZXJyb3JNZXNzYWdlQ2xhc3MgPSBvcHRpb25zLmVycm9y
TWVzc2FnZUNsYXNzIHx8IG9wdGlvbnMuZXJyb3JDbGFzcyB8fCBjb25maWd1cmF0aW9uLmVycm9y
TWVzc2FnZUNsYXNzOw0KDQoJCQlleHRlbmQoY29uZmlndXJhdGlvbiwgb3B0aW9ucyk7DQoNCgkJ
CWlmIChjb25maWd1cmF0aW9uLnJlZ2lzdGVyRXh0ZW5kZXJzKSB7DQoJCQkJa3YucmVnaXN0ZXJF
eHRlbmRlcnMoKTsNCgkJCX0NCg0KCQkJaXNJbml0aWFsaXplZCA9IDE7DQoJCX0sDQoNCgkJLy8g
cmVzZXRzIHRoZSBjb25maWcgYmFjayB0byBpdHMgb3JpZ2luYWwgc3RhdGUNCgkJcmVzZXQ6IGt2
LmNvbmZpZ3VyYXRpb24ucmVzZXQsDQoNCgkJLy8gcmVjdXJzaXZlbHkgd2Fsa3MgYSB2aWV3TW9k
ZWwgYW5kIGNyZWF0ZXMgYW4gb2JqZWN0IHRoYXQNCgkJLy8gcHJvdmlkZXMgdmFsaWRhdGlvbiBp
bmZvcm1hdGlvbiBmb3IgdGhlIGVudGlyZSB2aWV3TW9kZWwNCgkJLy8gb2JqIC0+IHRoZSB2aWV3
TW9kZWwgdG8gd2Fsaw0KCQkvLyBvcHRpb25zIC0+IHsNCgkJLy8JICBkZWVwOiBmYWxzZSwgLy8g
aWYgdHJ1ZSwgd2lsbCB3YWxrIHBhc3QgdGhlIGZpcnN0IGxldmVsIG9mIHZpZXdNb2RlbCBwcm9w
ZXJ0aWVzDQoJCS8vCSAgb2JzZXJ2YWJsZTogZmFsc2UgLy8gaWYgdHJ1ZSwgcmV0dXJucyBhIGNv
bXB1dGVkIG9ic2VydmFibGUgaW5kaWNhdGluZyBpZiB0aGUgdmlld01vZGVsIGlzIHZhbGlkDQoJ
CS8vIH0NCgkJZ3JvdXA6IGZ1bmN0aW9uIGdyb3VwKG9iaiwgb3B0aW9ucykgeyAvLyBhcnJheSBv
ZiBvYnNlcnZhYmxlcyBvciB2aWV3TW9kZWwNCgkJCW9wdGlvbnMgPSBleHRlbmQoZXh0ZW5kKHt9
LCBjb25maWd1cmF0aW9uLmdyb3VwaW5nKSwgb3B0aW9ucyk7DQoNCgkJCXZhciBjb250ZXh0ID0g
ew0KCQkJCW9wdGlvbnM6IG9wdGlvbnMsDQoJCQkJZ3JhcGhNb25pdG9yOiBrby5vYnNlcnZhYmxl
KCksDQoJCQkJZmxhZ2dlZDogW10sDQoJCQkJc3Vic2NyaXB0aW9uczogW10sDQoJCQkJdmFsaWRh
dGFibGVzOiBbXQ0KCQkJfTsNCg0KCQkJdmFyIHJlc3VsdCA9IG51bGw7DQoNCgkJCS8vaWYgdXNp
bmcgb2JzZXJ2YWJsZXMgdGhlbiB0cmF2ZXJzZSBzdHJ1Y3R1cmUgb25jZSBhbmQgYWRkIG9ic2Vy
dmFibGVzDQoJCQlpZiAob3B0aW9ucy5vYnNlcnZhYmxlKSB7DQoJCQkJcmVzdWx0ID0ga28uY29t
cHV0ZWQoZnVuY3Rpb24gKCkgew0KCQkJCQljb250ZXh0LmdyYXBoTW9uaXRvcigpOyAvL3JlZ2lz
dGVyIGRlcGVuZGVuY3kNCgkJCQkJcnVuVHJhdmVyc2FsKG9iaiwgY29udGV4dCk7DQoJCQkJCXJl
dHVybiBjb2xsZWN0RXJyb3JzKGNvbnRleHQudmFsaWRhdGFibGVzKTsNCgkJCQl9KTsNCgkJCX0N
CgkJCWVsc2UgeyAvL2lmIG5vdCB1c2luZyBvYnNlcnZhYmxlcyB0aGVuIGV2ZXJ5IGNhbGwgdG8g
ZXJyb3IoKSBzaG91bGQgdHJhdmVyc2UgdGhlIHN0cnVjdHVyZQ0KCQkJCXJlc3VsdCA9IGZ1bmN0
aW9uICgpIHsNCgkJCQkJcnVuVHJhdmVyc2FsKG9iaiwgY29udGV4dCk7DQoJCQkJCXJldHVybiBj
b2xsZWN0RXJyb3JzKGNvbnRleHQudmFsaWRhdGFibGVzKTsNCgkJCQl9Ow0KCQkJfQ0KDQoJCQly
ZXN1bHQuc2hvd0FsbE1lc3NhZ2VzID0gZnVuY3Rpb24gKHNob3cpIHsgLy8gdGhhbmtzIEBoZWxp
b3NQb3J0YWwNCgkJCQlpZiAoc2hvdyA9PT0gdW5kZWZpbmVkKSB7Ly9kZWZhdWx0IHRvIHRydWUN
CgkJCQkJc2hvdyA9IHRydWU7DQoJCQkJfQ0KDQoJCQkJcmVzdWx0LmZvckVhY2goZnVuY3Rpb24g
KG9ic2VydmFibGUpIHsNCgkJCQkJaWYgKHV0aWxzLmlzVmFsaWRhdGFibGUob2JzZXJ2YWJsZSkp
IHsNCgkJCQkJCW9ic2VydmFibGUuaXNNb2RpZmllZChzaG93KTsNCgkJCQkJfQ0KCQkJCX0pOw0K
CQkJfTsNCg0KCQkJcmVzdWx0LmlzQW55TWVzc2FnZVNob3duID0gZnVuY3Rpb24gKCkgew0KCQkJ
CXZhciBpbnZhbGlkQW5kTW9kaWZpZWRQcmVzZW50Ow0KDQoJCQkJaW52YWxpZEFuZE1vZGlmaWVk
UHJlc2VudCA9ICEhcmVzdWx0LmZpbmQoZnVuY3Rpb24gKG9ic2VydmFibGUpIHsNCgkJCQkJcmV0
dXJuIHV0aWxzLmlzVmFsaWRhdGFibGUob2JzZXJ2YWJsZSkgJiYgIW9ic2VydmFibGUuaXNWYWxp
ZCgpICYmIG9ic2VydmFibGUuaXNNb2RpZmllZCgpOw0KCQkJCX0pOw0KCQkJCXJldHVybiBpbnZh
bGlkQW5kTW9kaWZpZWRQcmVzZW50Ow0KCQkJfTsNCg0KCQkJcmVzdWx0LmZpbHRlciA9IGZ1bmN0
aW9uKHByZWRpY2F0ZSkgew0KCQkJCXByZWRpY2F0ZSA9IHByZWRpY2F0ZSB8fCBmdW5jdGlvbiAo
KSB7IHJldHVybiB0cnVlOyB9Ow0KCQkJCS8vIGVuc3VyZSB3ZSBoYXZlIGxhdGVzdCBjaGFuZ2Vz
DQoJCQkJcmVzdWx0KCk7DQoNCgkJCQlyZXR1cm4ga29VdGlscy5hcnJheUZpbHRlcihjb250ZXh0
LnZhbGlkYXRhYmxlcywgcHJlZGljYXRlKTsNCgkJCX07DQoNCgkJCXJlc3VsdC5maW5kID0gZnVu
Y3Rpb24ocHJlZGljYXRlKSB7DQoJCQkJcHJlZGljYXRlID0gcHJlZGljYXRlIHx8IGZ1bmN0aW9u
ICgpIHsgcmV0dXJuIHRydWU7IH07DQoJCQkJLy8gZW5zdXJlIHdlIGhhdmUgbGF0ZXN0IGNoYW5n
ZXMNCgkJCQlyZXN1bHQoKTsNCg0KCQkJCXJldHVybiBrb1V0aWxzLmFycmF5Rmlyc3QoY29udGV4
dC52YWxpZGF0YWJsZXMsIHByZWRpY2F0ZSk7DQoJCQl9Ow0KDQoJCQlyZXN1bHQuZm9yRWFjaCA9
IGZ1bmN0aW9uKGNhbGxiYWNrKSB7DQoJCQkJY2FsbGJhY2sgPSBjYWxsYmFjayB8fCBmdW5jdGlv
biAoKSB7IH07DQoJCQkJLy8gZW5zdXJlIHdlIGhhdmUgbGF0ZXN0IGNoYW5nZXMNCgkJCQlyZXN1
bHQoKTsNCg0KCQkJCWZvckVhY2goY29udGV4dC52YWxpZGF0YWJsZXMsIGNhbGxiYWNrKTsNCgkJ
CX07DQoNCgkJCXJlc3VsdC5tYXAgPSBmdW5jdGlvbihtYXBwaW5nKSB7DQoJCQkJbWFwcGluZyA9
IG1hcHBpbmcgfHwgZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGl0ZW07IH07DQoJCQkJLy8gZW5z
dXJlIHdlIGhhdmUgbGF0ZXN0IGNoYW5nZXMNCgkJCQlyZXN1bHQoKTsNCg0KCQkJCXJldHVybiBr
b1V0aWxzLmFycmF5TWFwKGNvbnRleHQudmFsaWRhdGFibGVzLCBtYXBwaW5nKTsNCgkJCX07DQoN
CgkJCS8qKg0KCQkJICogQHByaXZhdGUgWW91IHNob3VsZCBub3QgcmVseSBvbiB0aGlzIG1ldGhv
ZCBiZWluZyBoZXJlLg0KCQkJICogSXQncyBhIHByaXZhdGUgbWV0aG9kIGFuZCBpdCBtYXkgY2hh
bmdlIGluIHRoZSBmdXR1cmUuDQoJCQkgKg0KCQkJICogQGRlc2NyaXB0aW9uIFVwZGF0ZXMgdGhl
IHZhbGlkYXRlZCBvYmplY3QgYW5kIGNvbGxlY3RzIGVycm9ycyBmcm9tIGl0Lg0KCQkJICovDQoJ
CQlyZXN1bHQuX3VwZGF0ZVN0YXRlID0gZnVuY3Rpb24obmV3VmFsdWUpIHsNCgkJCQlpZiAoIXV0
aWxzLmlzT2JqZWN0KG5ld1ZhbHVlKSkgew0KCQkJCQl0aHJvdyBuZXcgRXJyb3IoJ0FuIG9iamVj
dCBpcyByZXF1aXJlZC4nKTsNCgkJCQl9DQoJCQkJb2JqID0gbmV3VmFsdWU7DQoJCQkJaWYgKG9w
dGlvbnMub2JzZXJ2YWJsZSkgew0KCQkJCQljb250ZXh0LmdyYXBoTW9uaXRvci52YWx1ZUhhc011
dGF0ZWQoKTsNCgkJCQl9DQoJCQkJZWxzZSB7DQoJCQkJCXJ1blRyYXZlcnNhbChuZXdWYWx1ZSwg
Y29udGV4dCk7DQoJCQkJCXJldHVybiBjb2xsZWN0RXJyb3JzKGNvbnRleHQudmFsaWRhdGFibGVz
KTsNCgkJCQl9DQoJCQl9Ow0KCQkJcmV0dXJuIHJlc3VsdDsNCgkJfSwNCg0KCQlmb3JtYXRNZXNz
YWdlOiBmdW5jdGlvbiAobWVzc2FnZSwgcGFyYW1zLCBvYnNlcnZhYmxlKSB7DQoJCQlpZiAodXRp
bHMuaXNPYmplY3QocGFyYW1zKSAmJiBwYXJhbXMudHlwZUF0dHIpIHsNCgkJCQlwYXJhbXMgPSBw
YXJhbXMudmFsdWU7DQoJCQl9DQoJCQlpZiAodHlwZW9mIChtZXNzYWdlKSA9PT0gJ2Z1bmN0aW9u
Jykgew0KCQkJCXJldHVybiBtZXNzYWdlKHBhcmFtcywgb2JzZXJ2YWJsZSk7DQoJCQl9DQoJCQl2
YXIgcmVwbGFjZW1lbnRzID0gdW53cmFwKHBhcmFtcykgfHwgW107DQoJCQlpZiAoIXV0aWxzLmlz
QXJyYXkocmVwbGFjZW1lbnRzKSkgew0KCQkJCXJlcGxhY2VtZW50cyA9IFtyZXBsYWNlbWVudHNd
Ow0KCQkJfQ0KCQkJcmV0dXJuIG1lc3NhZ2UucmVwbGFjZSgveyhcZCspfS9naSwgZnVuY3Rpb24o
bWF0Y2gsIGluZGV4KSB7DQoJCQkJaWYgKHR5cGVvZiByZXBsYWNlbWVudHNbaW5kZXhdICE9PSAn
dW5kZWZpbmVkJykgew0KCQkJCQlyZXR1cm4gcmVwbGFjZW1lbnRzW2luZGV4XTsNCgkJCQl9DQoJ
CQkJcmV0dXJuIG1hdGNoOw0KCQkJfSk7DQoJCX0sDQoNCgkJLy8gYWRkUnVsZToNCgkJLy8gVGhp
cyB0YWtlcyBpbiBhIGtvLm9ic2VydmFibGUgYW5kIGEgUnVsZSBDb250ZXh0IC0gd2hpY2ggaXMg
anVzdCBhIHJ1bGUgbmFtZSBhbmQgcGFyYW1zIHRvIHN1cHBseSB0byB0aGUgdmFsaWRhdG9yDQoJ
CS8vIGllOiBrdi5hZGRSdWxlKG15T2JzZXJ2YWJsZSwgew0KCQkvLwkJICBydWxlOiAncmVxdWly
ZWQnLA0KCQkvLwkJICBwYXJhbXM6IHRydWUNCgkJLy8JICB9KTsNCgkJLy8NCgkJYWRkUnVsZTog
ZnVuY3Rpb24gKG9ic2VydmFibGUsIHJ1bGUpIHsNCgkJCW9ic2VydmFibGUuZXh0ZW5kKHsgdmFs
aWRhdGFibGU6IHRydWUgfSk7DQoNCgkJCXZhciBoYXNSdWxlID0gISFrb1V0aWxzLmFycmF5Rmly
c3Qob2JzZXJ2YWJsZS5ydWxlcygpLCBmdW5jdGlvbihpdGVtKSB7DQoJCQkJcmV0dXJuIGl0ZW0u
cnVsZSAmJiBpdGVtLnJ1bGUgPT09IHJ1bGUucnVsZTsNCgkJCX0pOw0KDQoJCQlpZiAoIWhhc1J1
bGUpIHsNCgkJCQkvL3B1c2ggYSBSdWxlIENvbnRleHQgdG8gdGhlIG9ic2VydmFibGVzIGxvY2Fs
IGFycmF5IG9mIFJ1bGUgQ29udGV4dHMNCgkJCQlvYnNlcnZhYmxlLnJ1bGVzLnB1c2gocnVsZSk7
DQoJCQl9DQoJCQlyZXR1cm4gb2JzZXJ2YWJsZTsNCgkJfSwNCg0KCQkvLyBhZGRBbm9ueW1vdXNS
dWxlOg0KCQkvLyBBbm9ueW1vdXMgUnVsZXMgZXNzZW50aWFsbHkgaGF2ZSBhbGwgdGhlIHByb3Bl
cnRpZXMgb2YgYSBSdWxlLCBidXQgYXJlIG9ubHkgc3BlY2lmaWMgZm9yIGEgY2VydGFpbiBwcm9w
ZXJ0eQ0KCQkvLyBhbmQgZGV2ZWxvcGVycyB0eXBpY2FsbHkgYXJlIHdhbnRpbmcgdG8gYWRkIHRo
ZW0gb24gdGhlIGZseSBvciBub3QgcmVnaXN0ZXIgYSBydWxlIHdpdGggdGhlICdrdi5ydWxlcycg
b2JqZWN0DQoJCS8vDQoJCS8vIEV4YW1wbGU6DQoJCS8vIHZhciB0ZXN0ID0ga28ub2JzZXJ2YWJs
ZSgnc29tZXRoaW5nJykuZXh0ZW5keygNCgkJLy8JICB2YWxpZGF0aW9uOiB7DQoJCS8vCQkgIHZh
bGlkYXRvcjogZnVuY3Rpb24odmFsLCBzb21lT3RoZXJWYWwpew0KCQkvLwkJCSAgcmV0dXJuIHRy
dWU7DQoJCS8vCQkgIH0sDQoJCS8vCQkgIG1lc3NhZ2U6ICJTb21ldGhpbmcgbXVzdCBiZSByZWFs
bHkgd3JvbmchJywNCgkJLy8JCSAgcGFyYW1zOiB0cnVlDQoJCS8vCSAgfQ0KCQkvLyAgKX07DQoJ
CWFkZEFub255bW91c1J1bGU6IGZ1bmN0aW9uIChvYnNlcnZhYmxlLCBydWxlT2JqKSB7DQoJCQlp
ZiAocnVsZU9ialsnbWVzc2FnZSddID09PSB1bmRlZmluZWQpIHsNCgkJCQlydWxlT2JqWydtZXNz
YWdlJ10gPSAnRXJyb3InOw0KCQkJfQ0KDQoJCQkvL21ha2Ugc3VyZSBvbmx5SWYgaXMgaG9ub3Vy
ZWQNCgkJCWlmIChydWxlT2JqLm9ubHlJZikgew0KCQkJCXJ1bGVPYmouY29uZGl0aW9uID0gcnVs
ZU9iai5vbmx5SWY7DQoJCQl9DQoNCgkJCS8vYWRkIHRoZSBhbm9ueW1vdXMgcnVsZSB0byB0aGUg
b2JzZXJ2YWJsZQ0KCQkJa3YuYWRkUnVsZShvYnNlcnZhYmxlLCBydWxlT2JqKTsNCgkJfSwNCg0K
CQlhZGRFeHRlbmRlcjogZnVuY3Rpb24gKHJ1bGVOYW1lKSB7DQoJCQlrby5leHRlbmRlcnNbcnVs
ZU5hbWVdID0gZnVuY3Rpb24gKG9ic2VydmFibGUsIHBhcmFtcykgew0KCQkJCS8vcGFyYW1zIGNh
biBjb21lIGluIGEgZmV3IGZsYXZvcnMNCgkJCQkvLyAxLiBKdXN0IHRoZSBwYXJhbXMgdG8gYmUg
cGFzc2VkIHRvIHRoZSB2YWxpZGF0b3INCgkJCQkvLyAyLiBBbiBvYmplY3QgY29udGFpbmluZyB0
aGUgTWVzc2FnZSB0byBiZSB1c2VkIGFuZCB0aGUgUGFyYW1zIHRvIHBhc3MgdG8gdGhlIHZhbGlk
YXRvcg0KCQkJCS8vIDMuIEEgY29uZGl0aW9uIHdoZW4gdGhlIHZhbGlkYXRpb24gcnVsZSB0byBi
ZSBhcHBsaWVkDQoJCQkJLy8NCgkJCQkvLyBFeGFtcGxlOg0KCQkJCS8vIHZhciB0ZXN0ID0ga28u
b2JzZXJ2YWJsZSgzKS5leHRlbmQoew0KCQkJCS8vCSAgbWF4OiB7DQoJCQkJLy8JCSAgbWVzc2Fn
ZTogJ1RoaXMgc3BlY2lhbCBmaWVsZCBoYXMgYSBNYXggb2YgezB9JywNCgkJCQkvLwkJICBwYXJh
bXM6IDIsDQoJCQkJLy8JCSAgb25seUlmOiBmdW5jdGlvbigpIHsNCgkJCQkvLwkJCQkJICByZXR1
cm4gc3BlY2lhbEZpZWxkLklzVmlzaWJsZSgpOw0KCQkJCS8vCQkJCSAgfQ0KCQkJCS8vCSAgfQ0K
CQkJCS8vICApfTsNCgkJCQkvLw0KCQkJCWlmIChwYXJhbXMgJiYgKHBhcmFtcy5tZXNzYWdlIHx8
IHBhcmFtcy5vbmx5SWYpKSB7IC8vaWYgaXQgaGFzIGEgbWVzc2FnZSBvciBjb25kaXRpb24gb2Jq
ZWN0LCB0aGVuIGl0cyBhbiBvYmplY3QgbGl0ZXJhbCB0byB1c2UNCgkJCQkJcmV0dXJuIGt2LmFk
ZFJ1bGUob2JzZXJ2YWJsZSwgew0KCQkJCQkJcnVsZTogcnVsZU5hbWUsDQoJCQkJCQltZXNzYWdl
OiBwYXJhbXMubWVzc2FnZSwNCgkJCQkJCXBhcmFtczogdXRpbHMuaXNFbXB0eVZhbChwYXJhbXMu
cGFyYW1zKSA/IHRydWUgOiBwYXJhbXMucGFyYW1zLA0KCQkJCQkJY29uZGl0aW9uOiBwYXJhbXMu
b25seUlmDQoJCQkJCX0pOw0KCQkJCX0gZWxzZSB7DQoJCQkJCXJldHVybiBrdi5hZGRSdWxlKG9i
c2VydmFibGUsIHsNCgkJCQkJCXJ1bGU6IHJ1bGVOYW1lLA0KCQkJCQkJcGFyYW1zOiBwYXJhbXMN
CgkJCQkJfSk7DQoJCQkJfQ0KCQkJfTsNCgkJfSwNCg0KCQkvLyBsb29wcyB0aHJvdWdoIGFsbCBr
di5ydWxlcyBhbmQgYWRkcyB0aGVtIGFzIGV4dGVuZGVycyB0bw0KCQkvLyBrby5leHRlbmRlcnMN
CgkJcmVnaXN0ZXJFeHRlbmRlcnM6IGZ1bmN0aW9uICgpIHsgLy8gcm9vdCBleHRlbmRlcnMgb3B0
aW9uYWwsIHVzZSAndmFsaWRhdGlvbicgZXh0ZW5kZXIgaWYgd291bGQgY2F1c2UgY29uZmxpY3Rz
DQoJCQlpZiAoY29uZmlndXJhdGlvbi5yZWdpc3RlckV4dGVuZGVycykgew0KCQkJCWZvciAodmFy
IHJ1bGVOYW1lIGluIGt2LnJ1bGVzKSB7DQoJCQkJCWlmIChrdi5ydWxlcy5oYXNPd25Qcm9wZXJ0
eShydWxlTmFtZSkpIHsNCgkJCQkJCWlmICgha28uZXh0ZW5kZXJzW3J1bGVOYW1lXSkgew0KCQkJ
CQkJCWt2LmFkZEV4dGVuZGVyKHJ1bGVOYW1lKTsNCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCX0NCgkJ
CX0NCgkJfSwNCg0KCQkvL2NyZWF0ZXMgYSBzcGFuIG5leHQgdG8gdGhlIEBlbGVtZW50IHdpdGgg
dGhlIHNwZWNpZmllZCBlcnJvciBjbGFzcw0KCQlpbnNlcnRWYWxpZGF0aW9uTWVzc2FnZTogZnVu
Y3Rpb24gKGVsZW1lbnQpIHsNCgkJCXZhciBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgn
U1BBTicpOw0KCQkJc3Bhbi5jbGFzc05hbWUgPSB1dGlscy5nZXRDb25maWdPcHRpb25zKGVsZW1l
bnQpLmVycm9yTWVzc2FnZUNsYXNzOw0KCQkJdXRpbHMuaW5zZXJ0QWZ0ZXIoZWxlbWVudCwgc3Bh
bik7DQoJCQlyZXR1cm4gc3BhbjsNCgkJfSwNCg0KCQkvLyBpZiBodG1sLTUgdmFsaWRhdGlvbiBh
dHRyaWJ1dGVzIGhhdmUgYmVlbiBzcGVjaWZpZWQsIHRoaXMgcGFyc2VzDQoJCS8vIHRoZSBhdHRy
aWJ1dGVzIG9uIEBlbGVtZW50DQoJCXBhcnNlSW5wdXRWYWxpZGF0aW9uQXR0cmlidXRlczogZnVu
Y3Rpb24gKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IpIHsNCgkJCWZvckVhY2goa3YuY29uZmlndXJh
dGlvbi5odG1sNUF0dHJpYnV0ZXMsIGZ1bmN0aW9uIChhdHRyKSB7DQoJCQkJaWYgKHV0aWxzLmhh
c0F0dHJpYnV0ZShlbGVtZW50LCBhdHRyKSkgew0KDQoJCQkJCXZhciBwYXJhbXMgPSBlbGVtZW50
LmdldEF0dHJpYnV0ZShhdHRyKSB8fCB0cnVlOw0KDQoJCQkJCWlmIChhdHRyID09PSAnbWluJyB8
fCBhdHRyID09PSAnbWF4JykNCgkJCQkJew0KCQkJCQkJLy8gSWYgd2UncmUgdmFsaWRhdGluZyBi
YXNlZCBvbiB0aGUgbWluIGFuZCBtYXggYXR0cmlidXRlcywgd2UnbGwNCgkJCQkJCS8vIG5lZWQg
dG8ga25vdyB3aGF0IHRoZSAndHlwZScgYXR0cmlidXRlIGlzIHNldCB0bw0KCQkJCQkJdmFyIHR5
cGVBdHRyID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3R5cGUnKTsNCgkJCQkJCWlmICh0eXBlb2Yg
dHlwZUF0dHIgPT09ICJ1bmRlZmluZWQiIHx8ICF0eXBlQXR0cikNCgkJCQkJCXsNCgkJCQkJCQkv
LyBGcm9tIGh0dHA6Ly93d3cudzMub3JnL1RSL2h0bWwtbWFya3VwL2lucHV0Og0KCQkJCQkJCS8v
ICAgQW4gaW5wdXQgZWxlbWVudCB3aXRoIG5vIHR5cGUgYXR0cmlidXRlIHNwZWNpZmllZCByZXBy
ZXNlbnRzIHRoZQ0KCQkJCQkJCS8vICAgc2FtZSB0aGluZyBhcyBhbiBpbnB1dCBlbGVtZW50IHdp
dGggaXRzIHR5cGUgYXR0cmlidXRlIHNldCB0byAidGV4dCIuDQoJCQkJCQkJdHlwZUF0dHIgPSAi
dGV4dCI7DQoJCQkJCQl9DQoJCQkJCQlwYXJhbXMgPSB7dHlwZUF0dHI6IHR5cGVBdHRyLCB2YWx1
ZTogcGFyYW1zfTsNCgkJCQkJfQ0KDQoJCQkJCWt2LmFkZFJ1bGUodmFsdWVBY2Nlc3NvcigpLCB7
DQoJCQkJCQlydWxlOiBhdHRyLA0KCQkJCQkJcGFyYW1zOiBwYXJhbXMNCgkJCQkJfSk7DQoJCQkJ
fQ0KCQkJfSk7DQoNCgkJCXZhciBjdXJyZW50VHlwZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCd0
eXBlJyk7DQoJCQlmb3JFYWNoKGt2LmNvbmZpZ3VyYXRpb24uaHRtbDVJbnB1dFR5cGVzLCBmdW5j
dGlvbiAodHlwZSkgew0KCQkJCWlmICh0eXBlID09PSBjdXJyZW50VHlwZSkgew0KCQkJCQlrdi5h
ZGRSdWxlKHZhbHVlQWNjZXNzb3IoKSwgew0KCQkJCQkJcnVsZTogKHR5cGUgPT09ICdkYXRlJykg
PyAnZGF0ZUlTTycgOiB0eXBlLA0KCQkJCQkJcGFyYW1zOiB0cnVlDQoJCQkJCX0pOw0KCQkJCX0N
CgkJCX0pOw0KCQl9LA0KDQoJCS8vIHdyaXRlcyBodG1sNSB2YWxpZGF0aW9uIGF0dHJpYnV0ZXMg
b24gdGhlIGVsZW1lbnQgcGFzc2VkIGluDQoJCXdyaXRlSW5wdXRWYWxpZGF0aW9uQXR0cmlidXRl
czogZnVuY3Rpb24gKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IpIHsNCgkJCXZhciBvYnNlcnZhYmxl
ID0gdmFsdWVBY2Nlc3NvcigpOw0KDQoJCQlpZiAoIW9ic2VydmFibGUgfHwgIW9ic2VydmFibGUu
cnVsZXMpIHsNCgkJCQlyZXR1cm47DQoJCQl9DQoNCgkJCXZhciBjb250ZXh0cyA9IG9ic2VydmFi
bGUucnVsZXMoKTsgLy8gb2JzZXJ2YWJsZSBhcnJheQ0KDQoJCQkvLyBsb29wIHRocm91Z2ggdGhl
IGF0dHJpYnV0ZXMgYW5kIGFkZCB0aGUgaW5mb3JtYXRpb24gbmVlZGVkDQoJCQlmb3JFYWNoKGt2
LmNvbmZpZ3VyYXRpb24uaHRtbDVBdHRyaWJ1dGVzLCBmdW5jdGlvbiAoYXR0cikgew0KCQkJCXZh
ciBjdHggPSBrb1V0aWxzLmFycmF5Rmlyc3QoY29udGV4dHMsIGZ1bmN0aW9uIChjdHgpIHsNCgkJ
CQkJcmV0dXJuIGN0eC5ydWxlICYmIGN0eC5ydWxlLnRvTG93ZXJDYXNlKCkgPT09IGF0dHIudG9M
b3dlckNhc2UoKTsNCgkJCQl9KTsNCg0KCQkJCWlmICghY3R4KSB7DQoJCQkJCXJldHVybjsNCgkJ
CQl9DQoNCgkJCQkvLyB3ZSBoYXZlIGEgcnVsZSBtYXRjaGluZyBhIHZhbGlkYXRpb24gYXR0cmli
dXRlIGF0IHRoaXMgcG9pbnQNCgkJCQkvLyBzbyBsZXRzIGFkZCBpdCB0byB0aGUgZWxlbWVudCBh
bG9uZyB3aXRoIHRoZSBwYXJhbXMNCgkJCQlrby5jb21wdXRlZCh7DQoJCQkJCXJlYWQ6IGZ1bmN0
aW9uKCkgew0KCQkJCQkJdmFyIHBhcmFtcyA9IGtvLnVud3JhcChjdHgucGFyYW1zKTsNCg0KCQkJ
CQkJLy8gd2UgaGF2ZSB0byBkbyBzb21lIHNwZWNpYWwgdGhpbmdzIGZvciB0aGUgcGF0dGVybiB2
YWxpZGF0aW9uDQoJCQkJCQlpZiAoY3R4LnJ1bGUgPT09ICJwYXR0ZXJuIiAmJiBwYXJhbXMgaW5z
dGFuY2VvZiBSZWdFeHApIHsNCgkJCQkJCQkvLyB3ZSBuZWVkIHRoZSBwdXJlIHN0cmluZyByZXBy
ZXNlbnRhdGlvbiBvZiB0aGUgUmVnRXhwciB3aXRob3V0IHRoZSAvL2dpIHN0dWZmDQoJCQkJCQkJ
cGFyYW1zID0gcGFyYW1zLnNvdXJjZTsNCgkJCQkJCX0NCg0KCQkJCQkJZWxlbWVudC5zZXRBdHRy
aWJ1dGUoYXR0ciwgcGFyYW1zKTsNCgkJCQkJfSwNCgkJCQkJZGlzcG9zZVdoZW5Ob2RlSXNSZW1v
dmVkOiBlbGVtZW50DQoJCQkJfSk7DQoJCQl9KTsNCg0KCQkJY29udGV4dHMgPSBudWxsOw0KCQl9
LA0KDQoJCS8vdGFrZSBhbiBleGlzdGluZyBiaW5kaW5nIGhhbmRsZXIgYW5kIG1ha2UgaXQgY2F1
c2UgYXV0b21hdGljIHZhbGlkYXRpb25zDQoJCW1ha2VCaW5kaW5nSGFuZGxlclZhbGlkYXRhYmxl
OiBmdW5jdGlvbiAoaGFuZGxlck5hbWUpIHsNCgkJCXZhciBpbml0ID0ga28uYmluZGluZ0hhbmRs
ZXJzW2hhbmRsZXJOYW1lXS5pbml0Ow0KDQoJCQlrby5iaW5kaW5nSGFuZGxlcnNbaGFuZGxlck5h
bWVdLmluaXQgPSBmdW5jdGlvbiAoZWxlbWVudCwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3NB
Y2Nlc3Nvciwgdmlld01vZGVsLCBiaW5kaW5nQ29udGV4dCkgew0KDQoJCQkJaW5pdChlbGVtZW50
LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5nc0FjY2Vzc29yLCB2aWV3TW9kZWwsIGJpbmRpbmdD
b250ZXh0KTsNCg0KCQkJCXJldHVybiBrby5iaW5kaW5nSGFuZGxlcnNbJ3ZhbGlkYXRpb25Db3Jl
J10uaW5pdChlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5nc0FjY2Vzc29yLCB2aWV3
TW9kZWwsIGJpbmRpbmdDb250ZXh0KTsNCgkJCX07DQoJCX0sDQoNCgkJLy8gdmlzaXQgYW4gb2Jq
ZWN0cyBwcm9wZXJ0aWVzIGFuZCBhcHBseSB2YWxpZGF0aW9uIHJ1bGVzIGZyb20gYSBkZWZpbml0
aW9uDQoJCXNldFJ1bGVzOiBmdW5jdGlvbiAodGFyZ2V0LCBkZWZpbml0aW9uKSB7DQoJCQl2YXIg
c2V0UnVsZXMgPSBmdW5jdGlvbiAodGFyZ2V0LCBkZWZpbml0aW9uKSB7DQoJCQkJaWYgKCF0YXJn
ZXQgfHwgIWRlZmluaXRpb24pIHsgcmV0dXJuOyB9DQoNCgkJCQlmb3IgKHZhciBwcm9wIGluIGRl
ZmluaXRpb24pIHsNCgkJCQkJaWYgKCFkZWZpbml0aW9uLmhhc093blByb3BlcnR5KHByb3ApKSB7
IGNvbnRpbnVlOyB9DQoJCQkJCXZhciBydWxlRGVmaW5pdGlvbnMgPSBkZWZpbml0aW9uW3Byb3Bd
Ow0KDQoJCQkJCS8vY2hlY2sgdGhlIHRhcmdldCBwcm9wZXJ0eSBleGlzdHMgYW5kIGhhcyBhIHZh
bHVlDQoJCQkJCWlmICghdGFyZ2V0W3Byb3BdKSB7IGNvbnRpbnVlOyB9DQoJCQkJCXZhciB0YXJn
ZXRWYWx1ZSA9IHRhcmdldFtwcm9wXSwNCgkJCQkJCXVud3JhcHBlZFRhcmdldFZhbHVlID0gdW53
cmFwKHRhcmdldFZhbHVlKSwNCgkJCQkJCXJ1bGVzID0ge30sDQoJCQkJCQlub25SdWxlcyA9IHt9
Ow0KDQoJCQkJCWZvciAodmFyIHJ1bGUgaW4gcnVsZURlZmluaXRpb25zKSB7DQoJCQkJCQlpZiAo
IXJ1bGVEZWZpbml0aW9ucy5oYXNPd25Qcm9wZXJ0eShydWxlKSkgeyBjb250aW51ZTsgfQ0KCQkJ
CQkJaWYgKGt2LnJ1bGVzW3J1bGVdKSB7DQoJCQkJCQkJcnVsZXNbcnVsZV0gPSBydWxlRGVmaW5p
dGlvbnNbcnVsZV07DQoJCQkJCQl9IGVsc2Ugew0KCQkJCQkJCW5vblJ1bGVzW3J1bGVdID0gcnVs
ZURlZmluaXRpb25zW3J1bGVdOw0KCQkJCQkJfQ0KCQkJCQl9DQoNCgkJCQkJLy9hcHBseSBydWxl
cw0KCQkJCQlpZiAoa28uaXNPYnNlcnZhYmxlKHRhcmdldFZhbHVlKSkgew0KCQkJCQkJdGFyZ2V0
VmFsdWUuZXh0ZW5kKHJ1bGVzKTsNCgkJCQkJfQ0KDQoJCQkJCS8vdGhlbiBhcHBseSBjaGlsZCBy
dWxlcw0KCQkJCQkvL2lmIGl0J3MgYW4gYXJyYXksIGFwcGx5IHJ1bGVzIHRvIGFsbCBjaGlsZHJl
bg0KCQkJCQlpZiAodW53cmFwcGVkVGFyZ2V0VmFsdWUgJiYgdXRpbHMuaXNBcnJheSh1bndyYXBw
ZWRUYXJnZXRWYWx1ZSkpIHsNCgkJCQkJCWZvciAodmFyIGkgPSAwOyBpIDwgdW53cmFwcGVkVGFy
Z2V0VmFsdWUubGVuZ3RoOyBpKyspIHsNCgkJCQkJCQlzZXRSdWxlcyh1bndyYXBwZWRUYXJnZXRW
YWx1ZVtpXSwgbm9uUnVsZXMpOw0KCQkJCQkJfQ0KCQkJCQkJLy9vdGhlcndpc2UsIGp1c3QgYXBw
bHkgdG8gdGhpcyBwcm9wZXJ0eQ0KCQkJCQl9IGVsc2Ugew0KCQkJCQkJc2V0UnVsZXModW53cmFw
cGVkVGFyZ2V0VmFsdWUsIG5vblJ1bGVzKTsNCgkJCQkJfQ0KCQkJCX0NCgkJCX07DQoJCQlzZXRS
dWxlcyh0YXJnZXQsIGRlZmluaXRpb24pOw0KCQl9DQoJfTsNCg0KfSgpKTsNCg0KLy8gZXhwb3Nl
IGFwaSBwdWJsaWNseQ0KZXh0ZW5kKGtvLnZhbGlkYXRpb24sIGFwaSk7DQo7Ly9WYWxpZGF0aW9u
IFJ1bGVzOg0KLy8gWW91IGNhbiB2aWV3IGFuZCBvdmVycmlkZSBtZXNzYWdlcyBvciBydWxlcyB2
aWE6DQovLyBrdi5ydWxlc1tydWxlTmFtZV0NCi8vDQovLyBUbyBpbXBsZW1lbnQgYSBjdXN0b20g
UnVsZSwgc2ltcGx5IHVzZSB0aGlzIHRlbXBsYXRlOg0KLy8ga3YucnVsZXNbJzxjdXN0b20gcnVs
ZSBuYW1lPiddID0gew0KLy8gICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uICh2YWwsIHBhcmFtKSB7
DQovLyAgICAgICAgICA8Y3VzdG9tIGxvZ2ljPg0KLy8gICAgICAgICAgcmV0dXJuIDx0cnVlIG9y
IGZhbHNlPjsNCi8vICAgICAgfSwNCi8vICAgICAgbWVzc2FnZTogJzxjdXN0b20gdmFsaWRhdGlv
biBtZXNzYWdlPicgLy9vcHRpb25hbGx5IHlvdSBjYW4gYWxzbyB1c2UgYSAnezB9JyB0byBkZW5v
dGUgYSBwbGFjZWhvbGRlciB0aGF0IHdpbGwgYmUgcmVwbGFjZWQgd2l0aCB5b3VyICdwYXJhbScN
Ci8vIH07DQovLw0KLy8gRXhhbXBsZToNCi8vIGt2LnJ1bGVzWydtdXN0RXF1YWwnXSA9IHsNCi8v
ICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiggdmFsLCBtdXN0RXF1YWxWYWwgKXsNCi8vICAgICAg
ICAgIHJldHVybiB2YWwgPT09IG11c3RFcXVhbFZhbDsNCi8vICAgICAgfSwNCi8vICAgICAgbWVz
c2FnZTogJ1RoaXMgZmllbGQgbXVzdCBlcXVhbCB7MH0nDQovLyB9Ow0KLy8NCmt2LnJ1bGVzID0g
e307DQprdi5ydWxlc1sncmVxdWlyZWQnXSA9IHsNCgl2YWxpZGF0b3I6IGZ1bmN0aW9uICh2YWws
IHJlcXVpcmVkKSB7DQoJCXZhciB0ZXN0VmFsOw0KDQoJCWlmICh2YWwgPT09IHVuZGVmaW5lZCB8
fCB2YWwgPT09IG51bGwpIHsNCgkJCXJldHVybiAhcmVxdWlyZWQ7DQoJCX0NCg0KCQl0ZXN0VmFs
ID0gdmFsOw0KCQlpZiAodHlwZW9mICh2YWwpID09PSAnc3RyaW5nJykgew0KCQkJaWYgKFN0cmlu
Zy5wcm90b3R5cGUudHJpbSkgew0KCQkJCXRlc3RWYWwgPSB2YWwudHJpbSgpOw0KCQkJfQ0KCQkJ
ZWxzZSB7DQoJCQkJdGVzdFZhbCA9IHZhbC5yZXBsYWNlKC9eXHMrfFxzKyQvZywgJycpOw0KCQkJ
fQ0KCQl9DQoNCgkJaWYgKCFyZXF1aXJlZCkgey8vIGlmIHRoZXkgcGFzc2VkOiB7IHJlcXVpcmVk
OiBmYWxzZSB9LCB0aGVuIGRvbid0IHJlcXVpcmUgdGhpcw0KCQkJcmV0dXJuIHRydWU7DQoJCX0N
Cg0KCQlyZXR1cm4gKCh0ZXN0VmFsICsgJycpLmxlbmd0aCA+IDApOw0KCX0sDQoJbWVzc2FnZTog
J1RoaXMgZmllbGQgaXMgcmVxdWlyZWQuJw0KfTsNCg0KZnVuY3Rpb24gbWluTWF4VmFsaWRhdG9y
RmFjdG9yeSh2YWxpZGF0b3JOYW1lKSB7DQogICAgdmFyIGlzTWF4VmFsaWRhdGlvbiA9IHZhbGlk
YXRvck5hbWUgPT09ICJtYXgiOw0KDQogICAgcmV0dXJuIGZ1bmN0aW9uICh2YWwsIG9wdGlvbnMp
IHsNCiAgICAgICAgaWYgKGt2LnV0aWxzLmlzRW1wdHlWYWwodmFsKSkgew0KICAgICAgICAgICAg
cmV0dXJuIHRydWU7DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgY29tcGFyaXNvblZhbHVlLCB0
eXBlOw0KICAgICAgICBpZiAob3B0aW9ucy50eXBlQXR0ciA9PT0gdW5kZWZpbmVkKSB7DQogICAg
ICAgICAgICAvLyBUaGlzIHZhbGlkYXRvciBpcyBiZWluZyBjYWxsZWQgZnJvbSBqYXZhc2NyaXB0
IHJhdGhlciB0aGFuDQogICAgICAgICAgICAvLyBiZWluZyBib3VuZCBmcm9tIG1hcmt1cA0KICAg
ICAgICAgICAgdHlwZSA9ICJ0ZXh0IjsNCiAgICAgICAgICAgIGNvbXBhcmlzb25WYWx1ZSA9IG9w
dGlvbnM7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0eXBlID0gb3B0aW9ucy50eXBl
QXR0cjsNCiAgICAgICAgICAgIGNvbXBhcmlzb25WYWx1ZSA9IG9wdGlvbnMudmFsdWU7DQogICAg
ICAgIH0NCg0KICAgICAgICAvLyBGcm9tIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMTIvV0QtaHRt
bDUtMjAxMjEwMjUvY29tbW9uLWlucHV0LWVsZW1lbnQtYXR0cmlidXRlcy5odG1sI2F0dHItaW5w
dXQtbWluLA0KICAgICAgICAvLyBpZiB0aGUgdmFsdWUgaXMgcGFyc2VhYmxlIHRvIGEgbnVtYmVy
LCB0aGVuIHRoZSBtaW5pbXVtIHNob3VsZCBiZSBudW1lcmljDQogICAgICAgIGlmICghaXNOYU4o
Y29tcGFyaXNvblZhbHVlKSAmJiAhKGNvbXBhcmlzb25WYWx1ZSBpbnN0YW5jZW9mIERhdGUpKSB7
DQogICAgICAgICAgICB0eXBlID0gIm51bWJlciI7DQogICAgICAgIH0NCg0KICAgICAgICB2YXIg
cmVnZXgsIHZhbE1hdGNoZXMsIGNvbXBhcmlzb25WYWx1ZU1hdGNoZXM7DQogICAgICAgIHN3aXRj
aCAodHlwZS50b0xvd2VyQ2FzZSgpKSB7DQogICAgICAgICAgICBjYXNlICJ3ZWVrIjoNCiAgICAg
ICAgICAgICAgICByZWdleCA9IC9eKFxkezR9KS1XKFxkezJ9KSQvOw0KICAgICAgICAgICAgICAg
IHZhbE1hdGNoZXMgPSB2YWwubWF0Y2gocmVnZXgpOw0KICAgICAgICAgICAgICAgIGlmICh2YWxN
YXRjaGVzID09PSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigi
SW52YWxpZCB2YWx1ZSBmb3IgIiArIHZhbGlkYXRvck5hbWUgKyAiIGF0dHJpYnV0ZSBmb3Igd2Vl
ayBpbnB1dC4gIFNob3VsZCBsb29rIGxpa2UgIiArDQogICAgICAgICAgICAgICAgICAgICAgICAi
JzIwMDAtVzMzJyBodHRwOi8vd3d3LnczLm9yZy9UUi9odG1sLW1hcmt1cC9pbnB1dC53ZWVrLmh0
bWwjaW5wdXQud2Vlay5hdHRycy5taW4iKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAg
ICAgICAgY29tcGFyaXNvblZhbHVlTWF0Y2hlcyA9IGNvbXBhcmlzb25WYWx1ZS5tYXRjaChyZWdl
eCk7DQogICAgICAgICAgICAgICAgLy8gSWYgbm8gcmVnZXggbWF0Y2hlcyB3ZXJlIGZvdW5kLCB2
YWxpZGF0aW9uIGZhaWxzDQogICAgICAgICAgICAgICAgaWYgKCFjb21wYXJpc29uVmFsdWVNYXRj
aGVzKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAg
ICB9DQoNCiAgICAgICAgICAgICAgICBpZiAoaXNNYXhWYWxpZGF0aW9uKSB7DQogICAgICAgICAg
ICAgICAgICAgIHJldHVybiAodmFsTWF0Y2hlc1sxXSA8IGNvbXBhcmlzb25WYWx1ZU1hdGNoZXNb
MV0pIHx8IC8vIG9sZGVyIHllYXINCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNhbWUgeWVh
ciwgb2xkZXIgd2Vlaw0KICAgICAgICAgICAgICAgICAgICAgICAgKCh2YWxNYXRjaGVzWzFdID09
PSBjb21wYXJpc29uVmFsdWVNYXRjaGVzWzFdKSAmJiAodmFsTWF0Y2hlc1syXSA8PSBjb21wYXJp
c29uVmFsdWVNYXRjaGVzWzJdKSk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAg
ICAgICAgICAgICAgcmV0dXJuICh2YWxNYXRjaGVzWzFdID4gY29tcGFyaXNvblZhbHVlTWF0Y2hl
c1sxXSkgfHwgLy8gbmV3ZXIgeWVhcg0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2FtZSB5
ZWFyLCBuZXdlciB3ZWVrDQogICAgICAgICAgICAgICAgICAgICAgICAoKHZhbE1hdGNoZXNbMV0g
PT09IGNvbXBhcmlzb25WYWx1ZU1hdGNoZXNbMV0pICYmICh2YWxNYXRjaGVzWzJdID49IGNvbXBh
cmlzb25WYWx1ZU1hdGNoZXNbMl0pKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAg
ICAgYnJlYWs7DQoNCiAgICAgICAgICAgIGNhc2UgIm1vbnRoIjoNCiAgICAgICAgICAgICAgICBy
ZWdleCA9IC9eKFxkezR9KS0oXGR7Mn0pJC87DQogICAgICAgICAgICAgICAgdmFsTWF0Y2hlcyA9
IHZhbC5tYXRjaChyZWdleCk7DQogICAgICAgICAgICAgICAgaWYgKHZhbE1hdGNoZXMgPT09IG51
bGwpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHZhbHVl
IGZvciAiICsgdmFsaWRhdG9yTmFtZSArICIgYXR0cmlidXRlIGZvciBtb250aCBpbnB1dC4gIFNo
b3VsZCBsb29rIGxpa2UgIiArDQogICAgICAgICAgICAgICAgICAgICAgICAiJzIwMDAtMDMnIGh0
dHA6Ly93d3cudzMub3JnL1RSL2h0bWwtbWFya3VwL2lucHV0Lm1vbnRoLmh0bWwjaW5wdXQubW9u
dGguYXR0cnMubWluIik7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGNvbXBh
cmlzb25WYWx1ZU1hdGNoZXMgPSBjb21wYXJpc29uVmFsdWUubWF0Y2gocmVnZXgpOw0KICAgICAg
ICAgICAgICAgIC8vIElmIG5vIHJlZ2V4IG1hdGNoZXMgd2VyZSBmb3VuZCwgdmFsaWRhdGlvbiBm
YWlscw0KICAgICAgICAgICAgICAgIGlmICghY29tcGFyaXNvblZhbHVlTWF0Y2hlcykgew0KICAg
ICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICAgICAgfQ0KDQogICAg
ICAgICAgICAgICAgaWYgKGlzTWF4VmFsaWRhdGlvbikgew0KICAgICAgICAgICAgICAgICAgICBy
ZXR1cm4gKCh2YWxNYXRjaGVzWzFdIDwgY29tcGFyaXNvblZhbHVlTWF0Y2hlc1sxXSkgfHwgLy8g
b2xkZXIgeWVhcg0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2FtZSB5ZWFyLCBvbGRlciBt
b250aA0KICAgICAgICAgICAgICAgICAgICAgICAgKCh2YWxNYXRjaGVzWzFdID09PSBjb21wYXJp
c29uVmFsdWVNYXRjaGVzWzFdKSAmJiAodmFsTWF0Y2hlc1syXSA8PSBjb21wYXJpc29uVmFsdWVN
YXRjaGVzWzJdKSkpOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAg
ICAgIHJldHVybiAodmFsTWF0Y2hlc1sxXSA+IGNvbXBhcmlzb25WYWx1ZU1hdGNoZXNbMV0pIHx8
IC8vIG5ld2VyIHllYXINCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNhbWUgeWVhciwgbmV3
ZXIgbW9udGgNCiAgICAgICAgICAgICAgICAgICAgICAgICgodmFsTWF0Y2hlc1sxXSA9PT0gY29t
cGFyaXNvblZhbHVlTWF0Y2hlc1sxXSkgJiYgKHZhbE1hdGNoZXNbMl0gPj0gY29tcGFyaXNvblZh
bHVlTWF0Y2hlc1syXSkpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBicmVh
azsNCg0KICAgICAgICAgICAgY2FzZSAibnVtYmVyIjoNCiAgICAgICAgICAgIGNhc2UgInJhbmdl
IjoNCiAgICAgICAgICAgICAgICBpZiAoaXNNYXhWYWxpZGF0aW9uKSB7DQogICAgICAgICAgICAg
ICAgICAgIHJldHVybiAoIWlzTmFOKHZhbCkgJiYgcGFyc2VGbG9hdCh2YWwpIDw9IHBhcnNlRmxv
YXQoY29tcGFyaXNvblZhbHVlKSk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAg
ICAgICAgICAgICAgcmV0dXJuICghaXNOYU4odmFsKSAmJiBwYXJzZUZsb2F0KHZhbCkgPj0gcGFy
c2VGbG9hdChjb21wYXJpc29uVmFsdWUpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAg
ICAgICAgYnJlYWs7DQoNCiAgICAgICAgICAgIGRlZmF1bHQ6DQogICAgICAgICAgICAgICAgaWYg
KGlzTWF4VmFsaWRhdGlvbikgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsIDw9IGNv
bXBhcmlzb25WYWx1ZTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAg
ICAgICByZXR1cm4gdmFsID49IGNvbXBhcmlzb25WYWx1ZTsNCiAgICAgICAgICAgICAgICB9DQog
ICAgICAgIH0NCiAgICB9Ow0KfQ0KDQprdi5ydWxlc1snbWluJ10gPSB7DQoJdmFsaWRhdG9yOiBt
aW5NYXhWYWxpZGF0b3JGYWN0b3J5KCJtaW4iKSwNCgltZXNzYWdlOiAnUGxlYXNlIGVudGVyIGEg
dmFsdWUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHswfS4nDQp9Ow0KDQprdi5ydWxlc1snbWF4
J10gPSB7DQoJdmFsaWRhdG9yOiBtaW5NYXhWYWxpZGF0b3JGYWN0b3J5KCJtYXgiKSwNCgltZXNz
YWdlOiAnUGxlYXNlIGVudGVyIGEgdmFsdWUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHswfS4nDQp9
Ow0KDQprdi5ydWxlc1snbWluTGVuZ3RoJ10gPSB7DQoJdmFsaWRhdG9yOiBmdW5jdGlvbiAodmFs
LCBtaW5MZW5ndGgpIHsNCgkJaWYoa3YudXRpbHMuaXNFbXB0eVZhbCh2YWwpKSB7IHJldHVybiB0
cnVlOyB9DQoJCXZhciBub3JtYWxpemVkVmFsID0ga3YudXRpbHMuaXNOdW1iZXIodmFsKSA/ICgn
JyArIHZhbCkgOiB2YWw7DQoJCXJldHVybiBub3JtYWxpemVkVmFsLmxlbmd0aCA+PSBtaW5MZW5n
dGg7DQoJfSwNCgltZXNzYWdlOiAnUGxlYXNlIGVudGVyIGF0IGxlYXN0IHswfSBjaGFyYWN0ZXJz
LicNCn07DQoNCmt2LnJ1bGVzWydtYXhMZW5ndGgnXSA9IHsNCgl2YWxpZGF0b3I6IGZ1bmN0aW9u
ICh2YWwsIG1heExlbmd0aCkgew0KCQlpZihrdi51dGlscy5pc0VtcHR5VmFsKHZhbCkpIHsgcmV0
dXJuIHRydWU7IH0NCgkJdmFyIG5vcm1hbGl6ZWRWYWwgPSBrdi51dGlscy5pc051bWJlcih2YWwp
ID8gKCcnICsgdmFsKSA6IHZhbDsNCgkJcmV0dXJuIG5vcm1hbGl6ZWRWYWwubGVuZ3RoIDw9IG1h
eExlbmd0aDsNCgl9LA0KCW1lc3NhZ2U6ICdQbGVhc2UgZW50ZXIgbm8gbW9yZSB0aGFuIHswfSBj
aGFyYWN0ZXJzLicNCn07DQoNCmt2LnJ1bGVzWydwYXR0ZXJuJ10gPSB7DQoJdmFsaWRhdG9yOiBm
dW5jdGlvbiAodmFsLCByZWdleCkgew0KCQlyZXR1cm4ga3YudXRpbHMuaXNFbXB0eVZhbCh2YWwp
IHx8IHZhbC50b1N0cmluZygpLm1hdGNoKHJlZ2V4KSAhPT0gbnVsbDsNCgl9LA0KCW1lc3NhZ2U6
ICdQbGVhc2UgY2hlY2sgdGhpcyB2YWx1ZS4nDQp9Ow0KDQprdi5ydWxlc1snc3RlcCddID0gew0K
CXZhbGlkYXRvcjogZnVuY3Rpb24gKHZhbCwgc3RlcCkgew0KDQoJCS8vIGluIG9yZGVyIHRvIGhh
bmRsZSBzdGVwcyBvZiAuMSAmIC4wMSBldGMuLiBNb2R1bHVzIHdvbid0IHdvcmsNCgkJLy8gaWYg
dGhlIHZhbHVlIGlzIGEgZGVjaW1hbCwgc28gd2UgaGF2ZSB0byBjb3JyZWN0IGZvciB0aGF0DQoJ
CWlmIChrdi51dGlscy5pc0VtcHR5VmFsKHZhbCkgfHwgc3RlcCA9PT0gJ2FueScpIHsgcmV0dXJu
IHRydWU7IH0NCgkJdmFyIGRpZiA9ICh2YWwgKiAxMDApICUgKHN0ZXAgKiAxMDApOw0KCQlyZXR1
cm4gTWF0aC5hYnMoZGlmKSA8IDAuMDAwMDEgfHwgTWF0aC5hYnMoMSAtIGRpZikgPCAwLjAwMDAx
Ow0KCX0sDQoJbWVzc2FnZTogJ1RoZSB2YWx1ZSBtdXN0IGluY3JlbWVudCBieSB7MH0uJw0KfTsN
Cg0Ka3YucnVsZXNbJ2VtYWlsJ10gPSB7DQoJdmFsaWRhdG9yOiBmdW5jdGlvbiAodmFsLCB2YWxp
ZGF0ZSkgew0KCQlpZiAoIXZhbGlkYXRlKSB7IHJldHVybiB0cnVlOyB9DQoNCgkJLy9JIHRoaW5r
IGFuIGVtcHR5IGVtYWlsIGFkZHJlc3MgaXMgYWxzbyBhIHZhbGlkIGVudHJ5DQoJCS8vaWYgb25l
IHdhbnQncyB0byBlbmZvcmNlIGVudHJ5IGl0IHNob3VsZCBiZSBkb25lIHdpdGggJ3JlcXVpcmVk
OiB0cnVlJw0KCQlyZXR1cm4ga3YudXRpbHMuaXNFbXB0eVZhbCh2YWwpIHx8ICgNCgkJCS8vIGpx
dWVyeSB2YWxpZGF0ZSByZWdleCAtIHRoYW5rcyBTY290dCBHb256YWxleg0KCQkJdmFsaWRhdGUg
JiYgL14oKChbYS16XXxcZHxbISNcJCUmJ1wqXCtcLVwvPVw/XF5fYHtcfH1+XXxbXHUwMEEwLVx1
RDdGRlx1RjkwMC1cdUZEQ0ZcdUZERjAtXHVGRkVGXSkrKFwuKFthLXpdfFxkfFshI1wkJSYnXCpc
K1wtXC89XD9cXl9ge1x8fX5dfFtcdTAwQTAtXHVEN0ZGXHVGOTAwLVx1RkRDRlx1RkRGMC1cdUZG
RUZdKSspKil8KChceDIyKSgoKChceDIwfFx4MDkpKihceDBkXHgwYSkpPyhceDIwfFx4MDkpKyk/
KChbXHgwMS1ceDA4XHgwYlx4MGNceDBlLVx4MWZceDdmXXxceDIxfFtceDIzLVx4NWJdfFtceDVk
LVx4N2VdfFtcdTAwQTAtXHVEN0ZGXHVGOTAwLVx1RkRDRlx1RkRGMC1cdUZGRUZdKXwoXFwoW1x4
MDEtXHgwOVx4MGJceDBjXHgwZC1ceDdmXXxbXHUwMEEwLVx1RDdGRlx1RjkwMC1cdUZEQ0ZcdUZE
RjAtXHVGRkVGXSkpKSkqKCgoXHgyMHxceDA5KSooXHgwZFx4MGEpKT8oXHgyMHxceDA5KSspPyhc
eDIyKSkpQCgoKFthLXpdfFxkfFtcdTAwQTAtXHVEN0ZGXHVGOTAwLVx1RkRDRlx1RkRGMC1cdUZG
RUZdKXwoKFthLXpdfFxkfFtcdTAwQTAtXHVEN0ZGXHVGOTAwLVx1RkRDRlx1RkRGMC1cdUZGRUZd
KShbYS16XXxcZHwtfFwufF98fnxbXHUwMEEwLVx1RDdGRlx1RjkwMC1cdUZEQ0ZcdUZERjAtXHVG
RkVGXSkqKFthLXpdfFxkfFtcdTAwQTAtXHVEN0ZGXHVGOTAwLVx1RkRDRlx1RkRGMC1cdUZGRUZd
KSkpXC4pKygoW2Etel18W1x1MDBBMC1cdUQ3RkZcdUY5MDAtXHVGRENGXHVGREYwLVx1RkZFRl0p
fCgoW2Etel18W1x1MDBBMC1cdUQ3RkZcdUY5MDAtXHVGRENGXHVGREYwLVx1RkZFRl0pKFthLXpd
fFxkfC18XC58X3x+fFtcdTAwQTAtXHVEN0ZGXHVGOTAwLVx1RkRDRlx1RkRGMC1cdUZGRUZdKSoo
W2Etel18W1x1MDBBMC1cdUQ3RkZcdUY5MDAtXHVGRENGXHVGREYwLVx1RkZFRl0pKSkkL2kudGVz
dCh2YWwpDQoJCSk7DQoJfSwNCgltZXNzYWdlOiAnUGxlYXNlIGVudGVyIGEgcHJvcGVyIGVtYWls
IGFkZHJlc3MuJw0KfTsNCg0Ka3YucnVsZXNbJ2RhdGUnXSA9IHsNCgl2YWxpZGF0b3I6IGZ1bmN0
aW9uICh2YWx1ZSwgdmFsaWRhdGUpIHsNCgkJaWYgKCF2YWxpZGF0ZSkgeyByZXR1cm4gdHJ1ZTsg
fQ0KCQlyZXR1cm4ga3YudXRpbHMuaXNFbXB0eVZhbCh2YWx1ZSkgfHwgKHZhbGlkYXRlICYmICEv
SW52YWxpZHxOYU4vLnRlc3QobmV3IERhdGUodmFsdWUpKSk7DQoJfSwNCgltZXNzYWdlOiAnUGxl
YXNlIGVudGVyIGEgcHJvcGVyIGRhdGUuJw0KfTsNCg0Ka3YucnVsZXNbJ2RhdGVJU08nXSA9IHsN
Cgl2YWxpZGF0b3I6IGZ1bmN0aW9uICh2YWx1ZSwgdmFsaWRhdGUpIHsNCgkJaWYgKCF2YWxpZGF0
ZSkgeyByZXR1cm4gdHJ1ZTsgfQ0KCQlyZXR1cm4ga3YudXRpbHMuaXNFbXB0eVZhbCh2YWx1ZSkg
fHwgKHZhbGlkYXRlICYmIC9eXGR7NH1bLS9dKD86MD9bMS05XXwxWzAxMl0pWy0vXSg/OjA/WzEt
OV18WzEyXVswLTldfDNbMDFdKSQvLnRlc3QodmFsdWUpKTsNCgl9LA0KCW1lc3NhZ2U6ICdQbGVh
c2UgZW50ZXIgYSBwcm9wZXIgZGF0ZS4nDQp9Ow0KDQprdi5ydWxlc1snbnVtYmVyJ10gPSB7DQoJ
dmFsaWRhdG9yOiBmdW5jdGlvbiAodmFsdWUsIHZhbGlkYXRlKSB7DQoJCWlmICghdmFsaWRhdGUp
IHsgcmV0dXJuIHRydWU7IH0NCgkJcmV0dXJuIGt2LnV0aWxzLmlzRW1wdHlWYWwodmFsdWUpIHx8
ICh2YWxpZGF0ZSAmJiAvXi0/KD86XGQrfFxkezEsM30oPzosXGR7M30pKyk/KD86XC5cZCspPyQv
LnRlc3QodmFsdWUpKTsNCgl9LA0KCW1lc3NhZ2U6ICdQbGVhc2UgZW50ZXIgYSBudW1iZXIuJw0K
fTsNCg0Ka3YucnVsZXNbJ2RpZ2l0J10gPSB7DQoJdmFsaWRhdG9yOiBmdW5jdGlvbiAodmFsdWUs
IHZhbGlkYXRlKSB7DQoJCWlmICghdmFsaWRhdGUpIHsgcmV0dXJuIHRydWU7IH0NCgkJcmV0dXJu
IGt2LnV0aWxzLmlzRW1wdHlWYWwodmFsdWUpIHx8ICh2YWxpZGF0ZSAmJiAvXlxkKyQvLnRlc3Qo
dmFsdWUpKTsNCgl9LA0KCW1lc3NhZ2U6ICdQbGVhc2UgZW50ZXIgYSBkaWdpdC4nDQp9Ow0KDQpr
di5ydWxlc1sncGhvbmVVUyddID0gew0KCXZhbGlkYXRvcjogZnVuY3Rpb24gKHBob25lTnVtYmVy
LCB2YWxpZGF0ZSkgew0KCQlpZiAoIXZhbGlkYXRlKSB7IHJldHVybiB0cnVlOyB9DQoJCWlmIChr
di51dGlscy5pc0VtcHR5VmFsKHBob25lTnVtYmVyKSkgeyByZXR1cm4gdHJ1ZTsgfSAvLyBtYWtl
cyBpdCBvcHRpb25hbCwgdXNlICdyZXF1aXJlZCcgcnVsZSBpZiBpdCBzaG91bGQgYmUgcmVxdWly
ZWQNCgkJaWYgKHR5cGVvZiAocGhvbmVOdW1iZXIpICE9PSAnc3RyaW5nJykgeyByZXR1cm4gZmFs
c2U7IH0NCgkJcGhvbmVOdW1iZXIgPSBwaG9uZU51bWJlci5yZXBsYWNlKC9ccysvZywgIiIpOw0K
CQlyZXR1cm4gdmFsaWRhdGUgJiYgcGhvbmVOdW1iZXIubGVuZ3RoID4gOSAmJiBwaG9uZU51bWJl
ci5tYXRjaCgvXigxLT8pPyhcKFsyLTldXGR7Mn1cKXxbMi05XVxkezJ9KS0/WzItOV1cZHsyfS0/
XGR7NH0kLyk7DQoJfSwNCgltZXNzYWdlOiAnUGxlYXNlIHNwZWNpZnkgYSB2YWxpZCBwaG9uZSBu
dW1iZXIuJw0KfTsNCg0Ka3YucnVsZXNbJ2VxdWFsJ10gPSB7DQoJdmFsaWRhdG9yOiBmdW5jdGlv
biAodmFsLCBwYXJhbXMpIHsNCgkJdmFyIG90aGVyVmFsdWUgPSBwYXJhbXM7DQoJCXJldHVybiB2
YWwgPT09IGt2LnV0aWxzLmdldFZhbHVlKG90aGVyVmFsdWUpOw0KCX0sDQoJbWVzc2FnZTogJ1Zh
bHVlcyBtdXN0IGVxdWFsLicNCn07DQoNCmt2LnJ1bGVzWydub3RFcXVhbCddID0gew0KCXZhbGlk
YXRvcjogZnVuY3Rpb24gKHZhbCwgcGFyYW1zKSB7DQoJCXZhciBvdGhlclZhbHVlID0gcGFyYW1z
Ow0KCQlyZXR1cm4gdmFsICE9PSBrdi51dGlscy5nZXRWYWx1ZShvdGhlclZhbHVlKTsNCgl9LA0K
CW1lc3NhZ2U6ICdQbGVhc2UgY2hvb3NlIGFub3RoZXIgdmFsdWUuJw0KfTsNCg0KLy91bmlxdWUg
aW4gY29sbGVjdGlvbg0KLy8gb3B0aW9ucyBhcmU6DQovLyAgICBjb2xsZWN0aW9uOiBhcnJheSBv
ciBmdW5jdGlvbiByZXR1cm5pbmcgKG9ic2VydmFibGUpIGFycmF5DQovLyAgICAgICAgICAgICAg
aW4gd2hpY2ggdGhlIHZhbHVlIGhhcyB0byBiZSB1bmlxdWUNCi8vICAgIHZhbHVlQWNjZXNzb3I6
IGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB2YWx1ZSBmcm9tIGFuIG9iamVjdCBzdG9yZWQgaW4gY29s
bGVjdGlvbg0KLy8gICAgICAgICAgICAgIGlmIGl0IGlzIG51bGwgdGhlIHZhbHVlIGlzIGNvbXBh
cmVkIGRpcmVjdGx5DQovLyAgICBleHRlcm5hbDogc2V0IHRvIHRydWUgd2hlbiBvYmplY3QgeW91
IGFyZSB2YWxpZGF0aW5nIGlzIGF1dG9tYXRpY2FsbHkgdXBkYXRpbmcgY29sbGVjdGlvbg0Ka3Yu
cnVsZXNbJ3VuaXF1ZSddID0gew0KCXZhbGlkYXRvcjogZnVuY3Rpb24gKHZhbCwgb3B0aW9ucykg
ew0KCQl2YXIgYyA9IGt2LnV0aWxzLmdldFZhbHVlKG9wdGlvbnMuY29sbGVjdGlvbiksDQoJCQll
eHRlcm5hbCA9IGt2LnV0aWxzLmdldFZhbHVlKG9wdGlvbnMuZXh0ZXJuYWxWYWx1ZSksDQoJCQlj
b3VudGVyID0gMDsNCg0KCQlpZiAoIXZhbCB8fCAhYykgeyByZXR1cm4gdHJ1ZTsgfQ0KDQoJCWtv
VXRpbHMuYXJyYXlGaWx0ZXIoYywgZnVuY3Rpb24gKGl0ZW0pIHsNCgkJCWlmICh2YWwgPT09IChv
cHRpb25zLnZhbHVlQWNjZXNzb3IgPyBvcHRpb25zLnZhbHVlQWNjZXNzb3IoaXRlbSkgOiBpdGVt
KSkgeyBjb3VudGVyKys7IH0NCgkJfSk7DQoJCS8vIGlmIHZhbHVlIGlzIGV4dGVybmFsIGV2ZW4g
MSBzYW1lIHZhbHVlIGluIGNvbGxlY3Rpb24gbWVhbnMgdGhlIHZhbHVlIGlzIG5vdCB1bmlxdWUN
CgkJcmV0dXJuIGNvdW50ZXIgPCAoISFleHRlcm5hbCA/IDEgOiAyKTsNCgl9LA0KCW1lc3NhZ2U6
ICdQbGVhc2UgbWFrZSBzdXJlIHRoZSB2YWx1ZSBpcyB1bmlxdWUuJw0KfTsNCg0KDQovL25vdyBy
ZWdpc3RlciBhbGwgb2YgdGhlc2UhDQooZnVuY3Rpb24gKCkgew0KCWt2LnJlZ2lzdGVyRXh0ZW5k
ZXJzKCk7DQp9KCkpOw0KOy8vIFRoZSBjb3JlIGJpbmRpbmcgaGFuZGxlcg0KLy8gdGhpcyBhbGxv
d3MgdXMgdG8gc2V0dXAgYW55IHZhbHVlIGJpbmRpbmcgdGhhdCBpbnRlcm5hbGx5IGFsd2F5cw0K
Ly8gcGVyZm9ybXMgdGhlIHNhbWUgZnVuY3Rpb25hbGl0eQ0Ka28uYmluZGluZ0hhbmRsZXJzWyd2
YWxpZGF0aW9uQ29yZSddID0gKGZ1bmN0aW9uICgpIHsNCg0KCXJldHVybiB7DQoJCWluaXQ6IGZ1
bmN0aW9uIChlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5nc0FjY2Vzc29yLCB2aWV3
TW9kZWwsIGJpbmRpbmdDb250ZXh0KSB7DQoJCQl2YXIgY29uZmlnID0ga3YudXRpbHMuZ2V0Q29u
ZmlnT3B0aW9ucyhlbGVtZW50KTsNCgkJCXZhciBvYnNlcnZhYmxlID0gdmFsdWVBY2Nlc3Nvcigp
Ow0KDQoJCQkvLyBwYXJzZSBodG1sNSBpbnB1dCB2YWxpZGF0aW9uIGF0dHJpYnV0ZXMsIG9wdGlv
bmFsIGZlYXR1cmUNCgkJCWlmIChjb25maWcucGFyc2VJbnB1dEF0dHJpYnV0ZXMpIHsNCgkJCQlr
di51dGlscy5hc3luYyhmdW5jdGlvbiAoKSB7IGt2LnBhcnNlSW5wdXRWYWxpZGF0aW9uQXR0cmli
dXRlcyhlbGVtZW50LCB2YWx1ZUFjY2Vzc29yKTsgfSk7DQoJCQl9DQoNCgkJCS8vIGlmIHJlcXVl
c3RlZCBpbnNlcnQgbWVzc2FnZSBlbGVtZW50IGFuZCBhcHBseSBiaW5kaW5ncw0KCQkJaWYgKGNv
bmZpZy5pbnNlcnRNZXNzYWdlcyAmJiBrdi51dGlscy5pc1ZhbGlkYXRhYmxlKG9ic2VydmFibGUp
KSB7DQoNCgkJCQkvLyBpbnNlcnQgdGhlIDxzcGFuPjwvc3Bhbj4NCgkJCQl2YXIgdmFsaWRhdGlv
bk1lc3NhZ2VFbGVtZW50ID0ga3YuaW5zZXJ0VmFsaWRhdGlvbk1lc3NhZ2UoZWxlbWVudCk7DQoN
CgkJCQkvLyBpZiB3ZSdyZSB0b2xkIHRvIHVzZSBhIHRlbXBsYXRlLCBtYWtlIHN1cmUgdGhhdCBn
ZXRzIHJlbmRlcmVkDQoJCQkJaWYgKGNvbmZpZy5tZXNzYWdlVGVtcGxhdGUpIHsNCgkJCQkJa28u
cmVuZGVyVGVtcGxhdGUoY29uZmlnLm1lc3NhZ2VUZW1wbGF0ZSwgeyBmaWVsZDogb2JzZXJ2YWJs
ZSB9LCBudWxsLCB2YWxpZGF0aW9uTWVzc2FnZUVsZW1lbnQsICdyZXBsYWNlTm9kZScpOw0KCQkJ
CX0gZWxzZSB7DQoJCQkJCWtvLmFwcGx5QmluZGluZ3NUb05vZGUodmFsaWRhdGlvbk1lc3NhZ2VF
bGVtZW50LCB7IHZhbGlkYXRpb25NZXNzYWdlOiBvYnNlcnZhYmxlIH0pOw0KCQkJCX0NCgkJCX0N
Cg0KCQkJLy8gd3JpdGUgdGhlIGh0bWw1IGF0dHJpYnV0ZXMgaWYgaW5kaWNhdGVkIGJ5IHRoZSBj
b25maWcNCgkJCWlmIChjb25maWcud3JpdGVJbnB1dEF0dHJpYnV0ZXMgJiYga3YudXRpbHMuaXNW
YWxpZGF0YWJsZShvYnNlcnZhYmxlKSkgew0KDQoJCQkJa3Yud3JpdGVJbnB1dFZhbGlkYXRpb25B
dHRyaWJ1dGVzKGVsZW1lbnQsIHZhbHVlQWNjZXNzb3IpOw0KCQkJfQ0KDQoJCQkvLyBpZiByZXF1
ZXN0ZWQsIGFkZCBiaW5kaW5nIHRvIGRlY29yYXRlIGVsZW1lbnQNCgkJCWlmIChjb25maWcuZGVj
b3JhdGVJbnB1dEVsZW1lbnQgJiYga3YudXRpbHMuaXNWYWxpZGF0YWJsZShvYnNlcnZhYmxlKSkg
ew0KCQkJCWtvLmFwcGx5QmluZGluZ3NUb05vZGUoZWxlbWVudCwgeyB2YWxpZGF0aW9uRWxlbWVu
dDogb2JzZXJ2YWJsZSB9KTsNCgkJCX0NCgkJfQ0KCX07DQoNCn0oKSk7DQoNCi8vIG92ZXJyaWRl
IGZvciBLTydzIGRlZmF1bHQgJ3ZhbHVlJywgJ2NoZWNrZWQnLCAndGV4dElucHV0JyBhbmQgc2Vs
ZWN0ZWRPcHRpb25zIGJpbmRpbmdzDQprdi5tYWtlQmluZGluZ0hhbmRsZXJWYWxpZGF0YWJsZSgi
dmFsdWUiKTsNCmt2Lm1ha2VCaW5kaW5nSGFuZGxlclZhbGlkYXRhYmxlKCJjaGVja2VkIik7DQpp
ZiAoa28uYmluZGluZ0hhbmRsZXJzLnRleHRJbnB1dCkgew0KCWt2Lm1ha2VCaW5kaW5nSGFuZGxl
clZhbGlkYXRhYmxlKCJ0ZXh0SW5wdXQiKTsNCn0NCmt2Lm1ha2VCaW5kaW5nSGFuZGxlclZhbGlk
YXRhYmxlKCJzZWxlY3RlZE9wdGlvbnMiKTsNCg0KDQprby5iaW5kaW5nSGFuZGxlcnNbJ3ZhbGlk
YXRpb25NZXNzYWdlJ10gPSB7IC8vIGluZGl2aWR1YWwgZXJyb3IgbWVzc2FnZSwgaWYgbW9kaWZp
ZWQgb3IgcG9zdCBiaW5kaW5nDQoJdXBkYXRlOiBmdW5jdGlvbiAoZWxlbWVudCwgdmFsdWVBY2Nl
c3Nvcikgew0KCQl2YXIgb2JzdiA9IHZhbHVlQWNjZXNzb3IoKSwNCgkJCWNvbmZpZyA9IGt2LnV0
aWxzLmdldENvbmZpZ09wdGlvbnMoZWxlbWVudCksDQoJCQl2YWwgPSB1bndyYXAob2JzdiksDQoJ
CQltc2cgPSBudWxsLA0KCQkJaXNNb2RpZmllZCA9IGZhbHNlLA0KCQkJaXNWYWxpZCA9IGZhbHNl
Ow0KDQoJCWlmIChvYnN2ID09PSBudWxsIHx8IHR5cGVvZiBvYnN2ID09PSAndW5kZWZpbmVkJykg
ew0KCQkJdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgYmluZCB2YWxpZGF0aW9uTWVzc2FnZSB0byB1
bmRlZmluZWQgdmFsdWUuIGRhdGEtYmluZCBleHByZXNzaW9uOiAnICsNCgkJCQllbGVtZW50Lmdl
dEF0dHJpYnV0ZSgnZGF0YS1iaW5kJykpOw0KCQl9DQoNCgkJaWYgKCFvYnN2LmlzVmFsaWQgfHwg
IW9ic3YuaXNNb2RpZmllZCkgew0KCQkJdGhyb3cgbmV3IEVycm9yKCJPYnNlcnZhYmxlIGlzIG5v
dCB2YWxpZGF0YWJsZSIpOw0KCQl9DQoNCgkJaXNNb2RpZmllZCA9IG9ic3YuaXNNb2RpZmllZCgp
Ow0KCQlpc1ZhbGlkID0gb2Jzdi5pc1ZhbGlkKCk7DQoNCgkJdmFyIGVycm9yID0gbnVsbDsNCgkJ
aWYgKCFjb25maWcubWVzc2FnZXNPbk1vZGlmaWVkIHx8IGlzTW9kaWZpZWQpIHsNCgkJCWVycm9y
ID0gaXNWYWxpZCA/IG51bGwgOiBvYnN2LmVycm9yOw0KCQl9DQoNCgkJdmFyIGlzVmlzaWJsZSA9
ICFjb25maWcubWVzc2FnZXNPbk1vZGlmaWVkIHx8IGlzTW9kaWZpZWQgPyAhaXNWYWxpZCA6IGZh
bHNlOw0KCQl2YXIgaXNDdXJyZW50bHlWaXNpYmxlID0gZWxlbWVudC5zdHlsZS5kaXNwbGF5ICE9
PSAibm9uZSI7DQoNCgkJaWYgKGNvbmZpZy5hbGxvd0h0bWxNZXNzYWdlcykgew0KCQkJa29VdGls
cy5zZXRIdG1sKGVsZW1lbnQsIGVycm9yKTsNCgkJfSBlbHNlIHsNCgkJCWtvLmJpbmRpbmdIYW5k
bGVycy50ZXh0LnVwZGF0ZShlbGVtZW50LCBmdW5jdGlvbiAoKSB7IHJldHVybiBlcnJvcjsgfSk7
DQoJCX0NCg0KCQlpZiAoaXNDdXJyZW50bHlWaXNpYmxlICYmICFpc1Zpc2libGUpIHsNCgkJCWVs
ZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJzsNCgkJfSBlbHNlIGlmICghaXNDdXJyZW50bHlW
aXNpYmxlICYmIGlzVmlzaWJsZSkgew0KCQkJZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJyc7DQoJ
CX0NCgl9DQp9Ow0KDQprby5iaW5kaW5nSGFuZGxlcnNbJ3ZhbGlkYXRpb25FbGVtZW50J10gPSB7
DQoJdXBkYXRlOiBmdW5jdGlvbiAoZWxlbWVudCwgdmFsdWVBY2Nlc3NvciwgYWxsQmluZGluZ3NB
Y2Nlc3Nvcikgew0KCQl2YXIgb2JzdiA9IHZhbHVlQWNjZXNzb3IoKSwNCgkJCWNvbmZpZyA9IGt2
LnV0aWxzLmdldENvbmZpZ09wdGlvbnMoZWxlbWVudCksDQoJCQl2YWwgPSB1bndyYXAob2Jzdiks
DQoJCQltc2cgPSBudWxsLA0KCQkJaXNNb2RpZmllZCA9IGZhbHNlLA0KCQkJaXNWYWxpZCA9IGZh
bHNlOw0KDQoJCWlmIChvYnN2ID09PSBudWxsIHx8IHR5cGVvZiBvYnN2ID09PSAndW5kZWZpbmVk
Jykgew0KCQkJdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgYmluZCB2YWxpZGF0aW9uRWxlbWVudCB0
byB1bmRlZmluZWQgdmFsdWUuIGRhdGEtYmluZCBleHByZXNzaW9uOiAnICsNCgkJCQllbGVtZW50
LmdldEF0dHJpYnV0ZSgnZGF0YS1iaW5kJykpOw0KCQl9DQoNCgkJaWYgKCFvYnN2LmlzVmFsaWQg
fHwgIW9ic3YuaXNNb2RpZmllZCkgew0KCQkJdGhyb3cgbmV3IEVycm9yKCJPYnNlcnZhYmxlIGlz
IG5vdCB2YWxpZGF0YWJsZSIpOw0KCQl9DQoNCgkJaXNNb2RpZmllZCA9IG9ic3YuaXNNb2RpZmll
ZCgpOw0KCQlpc1ZhbGlkID0gb2Jzdi5pc1ZhbGlkKCk7DQoNCgkJLy8gY3JlYXRlIGFuIGV2YWx1
YXRvciBmdW5jdGlvbiB0aGF0IHdpbGwgcmV0dXJuIHNvbWV0aGluZyBsaWtlOg0KCQkvLyBjc3M6
IHsgdmFsaWRhdGlvbkVsZW1lbnQ6IHRydWUgfQ0KCQl2YXIgY3NzU2V0dGluZ3NBY2Nlc3NvciA9
IGZ1bmN0aW9uICgpIHsNCgkJCXZhciBjc3MgPSB7fTsNCg0KCQkJdmFyIHNob3VsZFNob3cgPSAo
KCFjb25maWcuZGVjb3JhdGVFbGVtZW50T25Nb2RpZmllZCB8fCBpc01vZGlmaWVkKSA/ICFpc1Zh
bGlkIDogZmFsc2UpOw0KDQoJCQkvLyBjc3M6IHsgdmFsaWRhdGlvbkVsZW1lbnQ6IGZhbHNlIH0N
CgkJCWNzc1tjb25maWcuZXJyb3JFbGVtZW50Q2xhc3NdID0gc2hvdWxkU2hvdzsNCg0KCQkJcmV0
dXJuIGNzczsNCgkJfTsNCg0KCQkvL2FkZCBvciByZW1vdmUgY2xhc3Mgb24gdGhlIGVsZW1lbnQ7
DQoJCWtvLmJpbmRpbmdIYW5kbGVycy5jc3MudXBkYXRlKGVsZW1lbnQsIGNzc1NldHRpbmdzQWNj
ZXNzb3IsIGFsbEJpbmRpbmdzQWNjZXNzb3IpOw0KCQlpZiAoIWNvbmZpZy5lcnJvcnNBc1RpdGxl
KSB7IHJldHVybjsgfQ0KDQoJCWtvLmJpbmRpbmdIYW5kbGVycy5hdHRyLnVwZGF0ZShlbGVtZW50
LCBmdW5jdGlvbiAoKSB7DQoJCQl2YXINCgkJCQloYXNNb2RpZmljYXRpb24gPSAhY29uZmlnLmVy
cm9yc0FzVGl0bGVPbk1vZGlmaWVkIHx8IGlzTW9kaWZpZWQsDQoJCQkJdGl0bGUgPSBrdi51dGls
cy5nZXRPcmlnaW5hbEVsZW1lbnRUaXRsZShlbGVtZW50KTsNCg0KCQkJaWYgKGhhc01vZGlmaWNh
dGlvbiAmJiAhaXNWYWxpZCkgew0KCQkJCXJldHVybiB7IHRpdGxlOiBvYnN2LmVycm9yLCAnZGF0
YS1vcmlnLXRpdGxlJzogdGl0bGUgfTsNCgkJCX0gZWxzZSBpZiAoIWhhc01vZGlmaWNhdGlvbiB8
fCBpc1ZhbGlkKSB7DQoJCQkJcmV0dXJuIHsgdGl0bGU6IHRpdGxlLCAnZGF0YS1vcmlnLXRpdGxl
JzogbnVsbCB9Ow0KCQkJfQ0KCQl9KTsNCgl9DQp9Ow0KDQovLyBWYWxpZGF0aW9uT3B0aW9uczoN
Ci8vIFRoaXMgYmluZGluZyBoYW5kbGVyIGFsbG93cyB5b3UgdG8gb3ZlcnJpZGUgdGhlIGluaXRp
YWwgY29uZmlnIGJ5IHNldHRpbmcgYW55IG9mIHRoZSBvcHRpb25zIGZvciBhIHNwZWNpZmljIGVs
ZW1lbnQgb3IgY29udGV4dCBvZiBlbGVtZW50cw0KLy8NCi8vIEV4YW1wbGU6DQovLyA8ZGl2IGRh
dGEtYmluZD0idmFsaWRhdGlvbk9wdGlvbnM6IHsgaW5zZXJ0TWVzc2FnZXM6IHRydWUsIG1lc3Nh
Z2VUZW1wbGF0ZTogJ2N1c3RvbVRlbXBsYXRlJywgZXJyb3JNZXNzYWdlQ2xhc3M6ICdteVNwZWNp
YWxDbGFzcyd9Ij4NCi8vICAgICAgPGlucHV0IHR5cGU9InRleHQiIGRhdGEtYmluZD0idmFsdWU6
IHNvbWVWYWx1ZSIvPg0KLy8gICAgICA8aW5wdXQgdHlwZT0idGV4dCIgZGF0YS1iaW5kPSJ2YWx1
ZTogc29tZVZhbHVlMiIvPg0KLy8gPC9kaXY+DQprby5iaW5kaW5nSGFuZGxlcnNbJ3ZhbGlkYXRp
b25PcHRpb25zJ10gPSAoZnVuY3Rpb24gKCkgew0KCXJldHVybiB7DQoJCWluaXQ6IGZ1bmN0aW9u
IChlbGVtZW50LCB2YWx1ZUFjY2Vzc29yLCBhbGxCaW5kaW5nc0FjY2Vzc29yLCB2aWV3TW9kZWws
IGJpbmRpbmdDb250ZXh0KSB7DQoJCQl2YXIgb3B0aW9ucyA9IHVud3JhcCh2YWx1ZUFjY2Vzc29y
KCkpOw0KCQkJaWYgKG9wdGlvbnMpIHsNCgkJCQl2YXIgbmV3Q29uZmlnID0gZXh0ZW5kKHt9LCBr
di5jb25maWd1cmF0aW9uKTsNCgkJCQlleHRlbmQobmV3Q29uZmlnLCBvcHRpb25zKTsNCg0KCQkJ
CS8vc3RvcmUgdGhlIHZhbGlkYXRpb24gb3B0aW9ucyBvbiB0aGUgbm9kZSBzbyB3ZSBjYW4gcmV0
cmlldmUgaXQgbGF0ZXINCgkJCQlrdi51dGlscy5zZXREb21EYXRhKGVsZW1lbnQsIG5ld0NvbmZp
Zyk7DQoJCQl9DQoJCX0NCgl9Ow0KfSgpKTsNCjsvLyBWYWxpZGF0aW9uIEV4dGVuZGVyOg0KLy8g
VGhpcyBpcyBmb3IgY3JlYXRpbmcgY3VzdG9tIHZhbGlkYXRpb24gbG9naWMgb24gdGhlIGZseQ0K
Ly8gRXhhbXBsZToNCi8vIHZhciB0ZXN0ID0ga28ub2JzZXJ2YWJsZSgnc29tZXRoaW5nJykuZXh0
ZW5keygNCi8vICAgICAgdmFsaWRhdGlvbjogew0KLy8gICAgICAgICAgdmFsaWRhdG9yOiBmdW5j
dGlvbih2YWwsIHNvbWVPdGhlclZhbCl7DQovLyAgICAgICAgICAgICAgcmV0dXJuIHRydWU7DQov
LyAgICAgICAgICB9LA0KLy8gICAgICAgICAgbWVzc2FnZTogIlNvbWV0aGluZyBtdXN0IGJlIHJl
YWxseSB3cm9uZyEnLA0KLy8gICAgICAgICAgcGFyYW1zOiB0cnVlDQovLyAgICAgIH0NCi8vICAp
fTsNCmtvLmV4dGVuZGVyc1sndmFsaWRhdGlvbiddID0gZnVuY3Rpb24gKG9ic2VydmFibGUsIHJ1
bGVzKSB7IC8vIGFsbG93IHNpbmdsZSBydWxlIG9yIGFycmF5DQoJZm9yRWFjaChrdi51dGlscy5p
c0FycmF5KHJ1bGVzKSA/IHJ1bGVzIDogW3J1bGVzXSwgZnVuY3Rpb24gKHJ1bGUpIHsNCgkJLy8g
dGhlICdydWxlJyBiZWluZyBwYXNzZWQgaW4gaGVyZSBoYXMgbm8gbmFtZSB0byBpZGVudGlmeSBh
IGNvcmUgUnVsZSwNCgkJLy8gc28gd2UgYWRkIGl0IGFzIGFuIGFub255bW91cyBydWxlDQoJCS8v
IElmIHRoZSBkZXZlbG9wZXIgaXMgd2FudGluZyB0byB1c2UgYSBjb3JlIFJ1bGUsIGJ1dCB1c2Ug
YSBkaWZmZXJlbnQgbWVzc2FnZSBzZWUgdGhlICdhZGRFeHRlbmRlcicgbG9naWMgZm9yIGV4YW1w
bGVzDQoJCWt2LmFkZEFub255bW91c1J1bGUob2JzZXJ2YWJsZSwgcnVsZSk7DQoJfSk7DQoJcmV0
dXJuIG9ic2VydmFibGU7DQp9Ow0KDQovL1RoaXMgaXMgdGhlIGV4dGVuZGVyIHRoYXQgbWFrZXMg
YSBLbm9ja291dCBPYnNlcnZhYmxlIGFsc28gJ1ZhbGlkYXRhYmxlJw0KLy9leGFtcGxlcyBpbmNs
dWRlOg0KLy8gMS4gdmFyIHRlc3QgPSBrby5vYnNlcnZhYmxlKCdzb21ldGhpbmcnKS5leHRlbmQo
e3ZhbGlkYXRhYmxlOiB0cnVlfSk7DQovLyB0aGlzIHdpbGwgZW5zdXJlIHRoYXQgdGhlIE9ic2Vy
dmFibGUgb2JqZWN0IGlzIHNldHVwIHByb3Blcmx5IHRvIHJlc3BvbmQgdG8gcnVsZXMNCi8vDQov
LyAyLiB0ZXN0LmV4dGVuZCh7dmFsaWRhdGFibGU6IGZhbHNlfSk7DQovLyB0aGlzIHdpbGwgcmVt
b3ZlIHRoZSB2YWxpZGF0aW9uIHByb3BlcnRpZXMgZnJvbSB0aGUgT2JzZXJ2YWJsZSBvYmplY3Qg
c2hvdWxkIHlvdSBuZWVkIHRvIGRvIHRoYXQuDQprby5leHRlbmRlcnNbJ3ZhbGlkYXRhYmxlJ10g
PSBmdW5jdGlvbiAob2JzZXJ2YWJsZSwgb3B0aW9ucykgew0KCWlmICgha3YudXRpbHMuaXNPYmpl
Y3Qob3B0aW9ucykpIHsNCgkJb3B0aW9ucyA9IHsgZW5hYmxlOiBvcHRpb25zIH07DQoJfQ0KDQoJ
aWYgKCEoJ2VuYWJsZScgaW4gb3B0aW9ucykpIHsNCgkJb3B0aW9ucy5lbmFibGUgPSB0cnVlOw0K
CX0NCg0KCWlmIChvcHRpb25zLmVuYWJsZSAmJiAha3YudXRpbHMuaXNWYWxpZGF0YWJsZShvYnNl
cnZhYmxlKSkgew0KCQl2YXIgY29uZmlnID0ga3YuY29uZmlndXJhdGlvbi52YWxpZGF0ZSB8fCB7
fTsNCgkJdmFyIHZhbGlkYXRpb25PcHRpb25zID0gew0KCQkJdGhyb3R0bGVFdmFsdWF0aW9uIDog
b3B0aW9ucy50aHJvdHRsZSB8fCBjb25maWcudGhyb3R0bGUNCgkJfTsNCg0KCQlvYnNlcnZhYmxl
LmVycm9yID0ga28ub2JzZXJ2YWJsZShudWxsKTsgLy8gaG9sZHMgdGhlIGVycm9yIG1lc3NhZ2Us
IHdlIG9ubHkgbmVlZCBvbmUgc2luY2Ugd2Ugc3RvcCBwcm9jZXNzaW5nIHZhbGlkYXRvcnMgd2hl
biBvbmUgaXMgaW52YWxpZA0KDQoJCS8vIG9ic2VydmFibGUucnVsZXM6DQoJCS8vIE9ic2VydmFi
bGVBcnJheSBvZiBSdWxlIENvbnRleHRzLCB3aGVyZSBhIFJ1bGUgQ29udGV4dCBpcyBzaW1wbHkg
dGhlIG5hbWUgb2YgYSBydWxlIGFuZCB0aGUgcGFyYW1zIHRvIHN1cHBseSB0byBpdA0KCQkvLw0K
CQkvLyBSdWxlIENvbnRleHQgPSB7IHJ1bGU6ICc8cnVsZSBuYW1lPicsIHBhcmFtczogJzxwYXNz
ZWQgaW4gcGFyYW1zPicsIG1lc3NhZ2U6ICc8T3ZlcnJpZGUgb2YgZGVmYXVsdCBNZXNzYWdlPicg
fQ0KCQlvYnNlcnZhYmxlLnJ1bGVzID0ga28ub2JzZXJ2YWJsZUFycmF5KCk7IC8vaG9sZHMgdGhl
IHJ1bGUgQ29udGV4dHMgdG8gdXNlIGFzIHBhcnQgb2YgdmFsaWRhdGlvbg0KDQoJCS8vaW4gY2Fz
ZSBhc3luYyB2YWxpZGF0aW9uIGlzIG9jY3VycmluZw0KCQlvYnNlcnZhYmxlLmlzVmFsaWRhdGlu
ZyA9IGtvLm9ic2VydmFibGUoZmFsc2UpOw0KDQoJCS8vdGhlIHRydWUgaG9sZGVyIG9mIHdoZXRo
ZXIgdGhlIG9ic2VydmFibGUgaXMgdmFsaWQgb3Igbm90DQoJCW9ic2VydmFibGUuX192YWxpZF9f
ID0ga28ub2JzZXJ2YWJsZSh0cnVlKTsNCg0KCQlvYnNlcnZhYmxlLmlzTW9kaWZpZWQgPSBrby5v
YnNlcnZhYmxlKGZhbHNlKTsNCg0KCQkvLyBhIHNlbWktcHJvdGVjdGVkIG9ic2VydmFibGUNCgkJ
b2JzZXJ2YWJsZS5pc1ZhbGlkID0ga28uY29tcHV0ZWQob2JzZXJ2YWJsZS5fX3ZhbGlkX18pOw0K
DQoJCS8vbWFudWFsbHkgc2V0IGVycm9yIHN0YXRlDQoJCW9ic2VydmFibGUuc2V0RXJyb3IgPSBm
dW5jdGlvbiAoZXJyb3IpIHsNCgkJCXZhciBwcmV2aW91c0Vycm9yID0gb2JzZXJ2YWJsZS5lcnJv
ci5wZWVrKCk7DQoJCQl2YXIgcHJldmlvdXNJc1ZhbGlkID0gb2JzZXJ2YWJsZS5fX3ZhbGlkX18u
cGVlaygpOw0KDQoJCQlvYnNlcnZhYmxlLmVycm9yKGVycm9yKTsNCgkJCW9ic2VydmFibGUuX192
YWxpZF9fKGZhbHNlKTsNCg0KCQkJaWYgKHByZXZpb3VzRXJyb3IgIT09IGVycm9yICYmICFwcmV2
aW91c0lzVmFsaWQpIHsNCgkJCQkvLyBpZiB0aGUgb2JzZXJ2YWJsZSB3YXMgbm90IHZhbGlkIGJl
Zm9yZSB0aGVuIGlzVmFsaWQgd2lsbCBub3QgbXV0YXRlLA0KCQkJCS8vIGhlbmNlIGNhdXNpbmcg
YW55IGdyb3VwaW5nIHRvIG5vdCBkaXNwbGF5IHRoZSBsYXRlc3QgZXJyb3IuDQoJCQkJb2JzZXJ2
YWJsZS5pc1ZhbGlkLm5vdGlmeVN1YnNjcmliZXJzKCk7DQoJCQl9DQoJCX07DQoNCgkJLy9tYW51
YWxseSBjbGVhciBlcnJvciBzdGF0ZQ0KCQlvYnNlcnZhYmxlLmNsZWFyRXJyb3IgPSBmdW5jdGlv
biAoKSB7DQoJCQlvYnNlcnZhYmxlLmVycm9yKG51bGwpOw0KCQkJb2JzZXJ2YWJsZS5fX3ZhbGlk
X18odHJ1ZSk7DQoJCQlyZXR1cm4gb2JzZXJ2YWJsZTsNCgkJfTsNCg0KCQkvL3N1YnNjcmliZSB0
byBjaGFuZ2VzIGluIHRoZSBvYnNlcnZhYmxlDQoJCXZhciBoX2NoYW5nZSA9IG9ic2VydmFibGUu
c3Vic2NyaWJlKGZ1bmN0aW9uICgpIHsNCgkJCW9ic2VydmFibGUuaXNNb2RpZmllZCh0cnVlKTsN
CgkJfSk7DQoNCgkJLy8gd2UgdXNlIGEgY29tcHV0ZWQgaGVyZSB0byBlbnN1cmUgdGhhdCBhbnl0
aW1lIGEgZGVwZW5kZW5jeSBjaGFuZ2VzLCB0aGUNCgkJLy8gdmFsaWRhdGlvbiBsb2dpYyBldmFs
dWF0ZXMNCgkJdmFyIGhfb2JzVmFsaWRhdGlvblRyaWdnZXIgPSBrby5jb21wdXRlZChleHRlbmQo
ew0KCQkJcmVhZDogZnVuY3Rpb24gKCkgew0KCQkJCXZhciBvYnMgPSBvYnNlcnZhYmxlKCksDQoJ
CQkJCXJ1bGVDb250ZXh0cyA9IG9ic2VydmFibGUucnVsZXMoKTsNCg0KCQkJCWt2LnZhbGlkYXRl
T2JzZXJ2YWJsZShvYnNlcnZhYmxlKTsNCg0KCQkJCXJldHVybiB0cnVlOw0KCQkJfQ0KCQl9LCB2
YWxpZGF0aW9uT3B0aW9ucykpOw0KDQoJCWV4dGVuZChoX29ic1ZhbGlkYXRpb25UcmlnZ2VyLCB2
YWxpZGF0aW9uT3B0aW9ucyk7DQoNCgkJb2JzZXJ2YWJsZS5fZGlzcG9zZVZhbGlkYXRpb24gPSBm
dW5jdGlvbiAoKSB7DQoJCQkvL2ZpcnN0IGRpc3Bvc2Ugb2YgdGhlIHN1YnNjcmlwdGlvbnMNCgkJ
CW9ic2VydmFibGUuaXNWYWxpZC5kaXNwb3NlKCk7DQoJCQlvYnNlcnZhYmxlLnJ1bGVzLnJlbW92
ZUFsbCgpOw0KCQkJaWYgKG9ic2VydmFibGUuaXNNb2RpZmllZC5nZXRTdWJzY3JpcHRpb25zQ291
bnQoKSA+IDApIHsNCgkJCQlvYnNlcnZhYmxlLmlzTW9kaWZpZWQuX3N1YnNjcmlwdGlvbnNbJ2No
YW5nZSddID0gW107DQoJCQl9DQoJCQlpZiAob2JzZXJ2YWJsZS5pc1ZhbGlkYXRpbmcuZ2V0U3Vi
c2NyaXB0aW9uc0NvdW50KCkgPiAwKSB7DQoJCQkJb2JzZXJ2YWJsZS5pc1ZhbGlkYXRpbmcuX3N1
YnNjcmlwdGlvbnNbJ2NoYW5nZSddID0gW107DQoJCQl9DQoJCQlpZiAob2JzZXJ2YWJsZS5fX3Zh
bGlkX18uZ2V0U3Vic2NyaXB0aW9uc0NvdW50KCkgPiAwKSB7DQoJCQkJb2JzZXJ2YWJsZS5fX3Zh
bGlkX18uX3N1YnNjcmlwdGlvbnNbJ2NoYW5nZSddID0gW107DQoJCQl9DQoJCQloX2NoYW5nZS5k
aXNwb3NlKCk7DQoJCQloX29ic1ZhbGlkYXRpb25UcmlnZ2VyLmRpc3Bvc2UoKTsNCg0KCQkJZGVs
ZXRlIG9ic2VydmFibGVbJ3J1bGVzJ107DQoJCQlkZWxldGUgb2JzZXJ2YWJsZVsnZXJyb3InXTsN
CgkJCWRlbGV0ZSBvYnNlcnZhYmxlWydpc1ZhbGlkJ107DQoJCQlkZWxldGUgb2JzZXJ2YWJsZVsn
aXNWYWxpZGF0aW5nJ107DQoJCQlkZWxldGUgb2JzZXJ2YWJsZVsnX192YWxpZF9fJ107DQoJCQlk
ZWxldGUgb2JzZXJ2YWJsZVsnaXNNb2RpZmllZCddOw0KCQl9Ow0KCX0gZWxzZSBpZiAob3B0aW9u
cy5lbmFibGUgPT09IGZhbHNlICYmIG9ic2VydmFibGUuX2Rpc3Bvc2VWYWxpZGF0aW9uKSB7DQoJ
CW9ic2VydmFibGUuX2Rpc3Bvc2VWYWxpZGF0aW9uKCk7DQoJfQ0KCXJldHVybiBvYnNlcnZhYmxl
Ow0KfTsNCg0KZnVuY3Rpb24gdmFsaWRhdGVTeW5jKG9ic2VydmFibGUsIHJ1bGUsIGN0eCkgew0K
CS8vRXhlY3V0ZSB0aGUgdmFsaWRhdG9yIGFuZCBzZWUgaWYgaXRzIHZhbGlkDQoJaWYgKCFydWxl
LnZhbGlkYXRvcihvYnNlcnZhYmxlKCksIChjdHgucGFyYW1zID09PSB1bmRlZmluZWQgPyB0cnVl
IDogdW53cmFwKGN0eC5wYXJhbXMpKSkpIHsgLy8gZGVmYXVsdCBwYXJhbSBpcyB0cnVlLCBlZy4g
cmVxdWlyZWQgPSB0cnVlDQoNCgkJLy9ub3QgdmFsaWQsIHNvIGZvcm1hdCB0aGUgZXJyb3IgbWVz
c2FnZSBhbmQgc3RpY2sgaXQgaW4gdGhlICdlcnJvcicgdmFyaWFibGUNCgkJb2JzZXJ2YWJsZS5z
ZXRFcnJvcihrdi5mb3JtYXRNZXNzYWdlKA0KCQkJCQljdHgubWVzc2FnZSB8fCBydWxlLm1lc3Nh
Z2UsDQoJCQkJCXVud3JhcChjdHgucGFyYW1zKSwNCgkJCQkJb2JzZXJ2YWJsZSkpOw0KCQlyZXR1
cm4gZmFsc2U7DQoJfSBlbHNlIHsNCgkJcmV0dXJuIHRydWU7DQoJfQ0KfQ0KDQpmdW5jdGlvbiB2
YWxpZGF0ZUFzeW5jKG9ic2VydmFibGUsIHJ1bGUsIGN0eCkgew0KCW9ic2VydmFibGUuaXNWYWxp
ZGF0aW5nKHRydWUpOw0KDQoJdmFyIGNhbGxCYWNrID0gZnVuY3Rpb24gKHZhbE9iaikgew0KCQl2
YXIgaXNWYWxpZCA9IGZhbHNlLA0KCQkJbXNnID0gJyc7DQoNCgkJaWYgKCFvYnNlcnZhYmxlLl9f
dmFsaWRfXygpKSB7DQoNCgkJCS8vIHNpbmNlIHdlJ3JlIHJldHVybmluZyBlYXJseSwgbWFrZSBz
dXJlIHdlIHR1cm4gdGhpcyBvZmYNCgkJCW9ic2VydmFibGUuaXNWYWxpZGF0aW5nKGZhbHNlKTsN
Cg0KCQkJcmV0dXJuOyAvL2lmIGl0cyBhbHJlYWR5IE5PVCB2YWxpZCwgZG9uJ3QgYWRkIHRvIHRo
YXQNCgkJfQ0KDQoJCS8vd2Ugd2VyZSBoYW5kZWQgYmFjayBhIGNvbXBsZXggb2JqZWN0DQoJCWlm
ICh2YWxPYmpbJ21lc3NhZ2UnXSkgew0KCQkJaXNWYWxpZCA9IHZhbE9iai5pc1ZhbGlkOw0KCQkJ
bXNnID0gdmFsT2JqLm1lc3NhZ2U7DQoJCX0gZWxzZSB7DQoJCQlpc1ZhbGlkID0gdmFsT2JqOw0K
CQl9DQoNCgkJaWYgKCFpc1ZhbGlkKSB7DQoJCQkvL25vdCB2YWxpZCwgc28gZm9ybWF0IHRoZSBl
cnJvciBtZXNzYWdlIGFuZCBzdGljayBpdCBpbiB0aGUgJ2Vycm9yJyB2YXJpYWJsZQ0KCQkJb2Jz
ZXJ2YWJsZS5lcnJvcihrdi5mb3JtYXRNZXNzYWdlKA0KCQkJCW1zZyB8fCBjdHgubWVzc2FnZSB8
fCBydWxlLm1lc3NhZ2UsDQoJCQkJdW53cmFwKGN0eC5wYXJhbXMpLA0KCQkJCW9ic2VydmFibGUp
KTsNCgkJCW9ic2VydmFibGUuX192YWxpZF9fKGlzVmFsaWQpOw0KCQl9DQoNCgkJLy8gdGVsbCBp
dCB0aGF0IHdlJ3JlIGRvbmUNCgkJb2JzZXJ2YWJsZS5pc1ZhbGlkYXRpbmcoZmFsc2UpOw0KCX07
DQoNCgkvL2ZpcmUgdGhlIHZhbGlkYXRvciBhbmQgaGFuZCBpdCB0aGUgY2FsbGJhY2sNCglydWxl
LnZhbGlkYXRvcihvYnNlcnZhYmxlKCksIHVud3JhcChjdHgucGFyYW1zIHx8IHRydWUpLCBjYWxs
QmFjayk7DQp9DQoNCmt2LnZhbGlkYXRlT2JzZXJ2YWJsZSA9IGZ1bmN0aW9uIChvYnNlcnZhYmxl
KSB7DQoJdmFyIGkgPSAwLA0KCQlydWxlLCAvLyB0aGUgcnVsZSB2YWxpZGF0b3IgdG8gZXhlY3V0
ZQ0KCQljdHgsIC8vIHRoZSBjdXJyZW50IFJ1bGUgQ29udGV4dCBmb3IgdGhlIGxvb3ANCgkJcnVs
ZUNvbnRleHRzID0gb2JzZXJ2YWJsZS5ydWxlcygpLCAvL2NhY2hlIGZvciBpdGVyYXRvcg0KCQls
ZW4gPSBydWxlQ29udGV4dHMubGVuZ3RoOyAvL2NhY2hlIGZvciBpdGVyYXRvcg0KDQoJZm9yICg7
IGkgPCBsZW47IGkrKykgew0KDQoJCS8vZ2V0IHRoZSBSdWxlIENvbnRleHQgaW5mbyB0byBnaXZl
IHRvIHRoZSBjb3JlIFJ1bGUNCgkJY3R4ID0gcnVsZUNvbnRleHRzW2ldOw0KDQoJCS8vIGNoZWNr
cyBhbiAnb25seUlmJyBjb25kaXRpb24NCgkJaWYgKGN0eC5jb25kaXRpb24gJiYgIWN0eC5jb25k
aXRpb24oKSkgew0KCQkJY29udGludWU7DQoJCX0NCg0KCQkvL2dldCB0aGUgY29yZSBSdWxlIHRv
IHVzZSBmb3IgdmFsaWRhdGlvbg0KCQlydWxlID0gY3R4LnJ1bGUgPyBrdi5ydWxlc1tjdHgucnVs
ZV0gOiBjdHg7DQoNCgkJaWYgKHJ1bGVbJ2FzeW5jJ10gfHwgY3R4Wydhc3luYyddKSB7DQoJCQkv
L3J1biBhc3luYyB2YWxpZGF0aW9uDQoJCQl2YWxpZGF0ZUFzeW5jKG9ic2VydmFibGUsIHJ1bGUs
IGN0eCk7DQoNCgkJfSBlbHNlIHsNCgkJCS8vcnVuIG5vcm1hbCBzeW5jIHZhbGlkYXRpb24NCgkJ
CWlmICghdmFsaWRhdGVTeW5jKG9ic2VydmFibGUsIHJ1bGUsIGN0eCkpIHsNCgkJCQlyZXR1cm4g
ZmFsc2U7IC8vYnJlYWsgb3V0IG9mIHRoZSBsb29wDQoJCQl9DQoJCX0NCgl9DQoJLy9maW5hbGx5
IGlmIHdlIGdvdCB0aGlzIGZhciwgbWFrZSB0aGUgb2JzZXJ2YWJsZSB2YWxpZCBhZ2FpbiENCglv
YnNlcnZhYmxlLmNsZWFyRXJyb3IoKTsNCglyZXR1cm4gdHJ1ZTsNCn07DQo7DQp2YXIgX2xvY2Fs
ZXMgPSB7fTsNCnZhciBfY3VycmVudExvY2FsZTsNCg0Ka3YuZGVmaW5lTG9jYWxlID0gZnVuY3Rp
b24obmFtZSwgdmFsdWVzKSB7DQoJaWYgKG5hbWUgJiYgdmFsdWVzKSB7DQoJCV9sb2NhbGVzW25h
bWUudG9Mb3dlckNhc2UoKV0gPSB2YWx1ZXM7DQoJCXJldHVybiB2YWx1ZXM7DQoJfQ0KCXJldHVy
biBudWxsOw0KfTsNCg0Ka3YubG9jYWxlID0gZnVuY3Rpb24obmFtZSkgew0KCWlmIChuYW1lKSB7
DQoJCW5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7DQoNCgkJaWYgKF9sb2NhbGVzLmhhc093blBy
b3BlcnR5KG5hbWUpKSB7DQoJCQlrdi5sb2NhbGl6ZShfbG9jYWxlc1tuYW1lXSk7DQoJCQlfY3Vy
cmVudExvY2FsZSA9IG5hbWU7DQoJCX0NCgkJZWxzZSB7DQoJCQl0aHJvdyBuZXcgRXJyb3IoJ0xv
Y2FsaXphdGlvbiAnICsgbmFtZSArICcgaGFzIG5vdCBiZWVuIGxvYWRlZC4nKTsNCgkJfQ0KCX0N
CglyZXR1cm4gX2N1cnJlbnRMb2NhbGU7DQp9Ow0KDQovL3F1aWNrIGZ1bmN0aW9uIHRvIG92ZXJy
aWRlIHJ1bGUgbWVzc2FnZXMNCmt2LmxvY2FsaXplID0gZnVuY3Rpb24gKG1zZ1RyYW5zbGF0aW9u
cykgew0KCXZhciBydWxlcyA9IGt2LnJ1bGVzOw0KDQoJLy9sb29wIHRoZSBwcm9wZXJ0aWVzIGlu
IHRoZSBvYmplY3QgYW5kIGFzc2lnbiB0aGUgbXNnIHRvIHRoZSBydWxlDQoJZm9yICh2YXIgcnVs
ZU5hbWUgaW4gbXNnVHJhbnNsYXRpb25zKSB7DQoJCWlmIChydWxlcy5oYXNPd25Qcm9wZXJ0eShy
dWxlTmFtZSkpIHsNCgkJCXJ1bGVzW3J1bGVOYW1lXS5tZXNzYWdlID0gbXNnVHJhbnNsYXRpb25z
W3J1bGVOYW1lXTsNCgkJfQ0KCX0NCn07DQoNCi8vIFBvcHVsYXRlIGRlZmF1bHQgbG9jYWxlICh0
aGlzIHdpbGwgbWFrZSBlbi1VUy5qcyBzb21ld2hhdCByZWR1bmRhbnQpDQooZnVuY3Rpb24oKSB7
DQoJdmFyIGxvY2FsZURhdGEgPSB7fTsNCgl2YXIgcnVsZXMgPSBrdi5ydWxlczsNCg0KCWZvciAo
dmFyIHJ1bGVOYW1lIGluIHJ1bGVzKSB7DQoJCWlmIChydWxlcy5oYXNPd25Qcm9wZXJ0eShydWxl
TmFtZSkpIHsNCgkJCWxvY2FsZURhdGFbcnVsZU5hbWVdID0gcnVsZXNbcnVsZU5hbWVdLm1lc3Nh
Z2U7DQoJCX0NCgl9DQoJa3YuZGVmaW5lTG9jYWxlKCdlbi11cycsIGxvY2FsZURhdGEpOw0KfSko
KTsNCg0KLy8gTm8gbmVlZCB0byBpbnZva2UgbG9jYWxlIGJlY2F1c2UgdGhlIG1lc3NhZ2VzIGFy
ZSBhbHJlYWR5IGRlZmluZWQgYWxvbmcgd2l0aCB0aGUgcnVsZXMgZm9yIGVuLVVTDQpfY3VycmVu
dExvY2FsZSA9ICdlbi11cyc7DQo7LyoqDQogKiBQb3NzaWJsZSBpbnZvY2F0aW9uczoNCiAqIAkJ
YXBwbHlCaW5kaW5nc1dpdGhWYWxpZGF0aW9uKHZpZXdNb2RlbCkNCiAqIAkJYXBwbHlCaW5kaW5n
c1dpdGhWYWxpZGF0aW9uKHZpZXdNb2RlbCwgb3B0aW9ucykNCiAqIAkJYXBwbHlCaW5kaW5nc1dp
dGhWYWxpZGF0aW9uKHZpZXdNb2RlbCwgcm9vdE5vZGUpDQogKgkJYXBwbHlCaW5kaW5nc1dpdGhW
YWxpZGF0aW9uKHZpZXdNb2RlbCwgcm9vdE5vZGUsIG9wdGlvbnMpDQogKi8NCmtvLmFwcGx5Qmlu
ZGluZ3NXaXRoVmFsaWRhdGlvbiA9IGZ1bmN0aW9uICh2aWV3TW9kZWwsIHJvb3ROb2RlLCBvcHRp
b25zKSB7DQoJdmFyIG5vZGUgPSBkb2N1bWVudC5ib2R5LA0KCQljb25maWc7DQoNCglpZiAocm9v
dE5vZGUgJiYgcm9vdE5vZGUubm9kZVR5cGUpIHsNCgkJbm9kZSA9IHJvb3ROb2RlOw0KCQljb25m
aWcgPSBvcHRpb25zOw0KCX0NCgllbHNlIHsNCgkJY29uZmlnID0gcm9vdE5vZGU7DQoJfQ0KDQoJ
a3YuaW5pdCgpOw0KDQoJaWYgKGNvbmZpZykgew0KCQljb25maWcgPSBleHRlbmQoZXh0ZW5kKHt9
LCBrdi5jb25maWd1cmF0aW9uKSwgY29uZmlnKTsNCgkJa3YudXRpbHMuc2V0RG9tRGF0YShub2Rl
LCBjb25maWcpOw0KCX0NCg0KCWtvLmFwcGx5QmluZGluZ3Modmlld01vZGVsLCBub2RlKTsNCn07
DQoNCi8vb3ZlcnJpZGUgdGhlIG9yaWdpbmFsIGFwcGx5QmluZGluZ3Mgc28gdGhhdCB3ZSBjYW4g
ZW5zdXJlIGFsbCBuZXcgcnVsZXMgYW5kIHdoYXQgbm90IGFyZSBjb3JyZWN0bHkgcmVnaXN0ZXJl
ZA0KdmFyIG9yaWdBcHBseUJpbmRpbmdzID0ga28uYXBwbHlCaW5kaW5nczsNCmtvLmFwcGx5Qmlu
ZGluZ3MgPSBmdW5jdGlvbiAodmlld01vZGVsLCByb290Tm9kZSkgew0KDQoJa3YuaW5pdCgpOw0K
DQoJb3JpZ0FwcGx5QmluZGluZ3Modmlld01vZGVsLCByb290Tm9kZSk7DQp9Ow0KDQprby52YWxp
ZGF0ZWRPYnNlcnZhYmxlID0gZnVuY3Rpb24gKGluaXRpYWxWYWx1ZSwgb3B0aW9ucykgew0KCWlm
ICghb3B0aW9ucyAmJiAha3YudXRpbHMuaXNPYmplY3QoaW5pdGlhbFZhbHVlKSkgew0KCQlyZXR1
cm4ga28ub2JzZXJ2YWJsZShpbml0aWFsVmFsdWUpLmV4dGVuZCh7IHZhbGlkYXRhYmxlOiB0cnVl
IH0pOw0KCX0NCg0KCXZhciBvYnN2ID0ga28ub2JzZXJ2YWJsZShpbml0aWFsVmFsdWUpOw0KCW9i
c3YuZXJyb3JzID0ga3YuZ3JvdXAoa3YudXRpbHMuaXNPYmplY3QoaW5pdGlhbFZhbHVlKSA/IGlu
aXRpYWxWYWx1ZSA6IHt9LCBvcHRpb25zKTsNCglvYnN2LmlzVmFsaWQgPSBrby5vYnNlcnZhYmxl
KG9ic3YuZXJyb3JzKCkubGVuZ3RoID09PSAwKTsNCg0KCWlmIChrby5pc09ic2VydmFibGUob2Jz
di5lcnJvcnMpKSB7DQoJCW9ic3YuZXJyb3JzLnN1YnNjcmliZShmdW5jdGlvbihlcnJvcnMpIHsN
CgkJCW9ic3YuaXNWYWxpZChlcnJvcnMubGVuZ3RoID09PSAwKTsNCgkJfSk7DQoJfQ0KCWVsc2Ug
ew0KCQlrby5jb21wdXRlZChvYnN2LmVycm9ycykuc3Vic2NyaWJlKGZ1bmN0aW9uIChlcnJvcnMp
IHsNCgkJCW9ic3YuaXNWYWxpZChlcnJvcnMubGVuZ3RoID09PSAwKTsNCgkJfSk7DQoJfQ0KDQoJ
b2Jzdi5zdWJzY3JpYmUoZnVuY3Rpb24obmV3VmFsdWUpIHsNCgkJaWYgKCFrdi51dGlscy5pc09i
amVjdChuZXdWYWx1ZSkpIHsNCgkJCS8qDQoJCQkgKiBUaGUgdmFsaWRhdGlvbiBncm91cCB3b3Jr
cyBvbiBvYmplY3RzLg0KCQkJICogU2luY2UgdGhlIG5ldyB2YWx1ZSBpcyBhIHByaW1pdGl2ZSAo
c2NhbGFyLCBudWxsIG9yIHVuZGVmaW5lZCkgd2UgbmVlZA0KCQkJICogdG8gY3JlYXRlIGFuIGVt
cHR5IG9iamVjdCB0byBwYXNzIGFsb25nLg0KCQkJICovDQoJCQluZXdWYWx1ZSA9IHt9Ow0KCQl9
DQoJCS8vIEZvcmNlIHRoZSBncm91cCB0byByZWZyZXNoDQoJCW9ic3YuZXJyb3JzLl91cGRhdGVT
dGF0ZShuZXdWYWx1ZSk7DQoJCW9ic3YuaXNWYWxpZChvYnN2LmVycm9ycygpLmxlbmd0aCA9PT0g
MCk7DQoJfSk7DQoNCglyZXR1cm4gb2JzdjsNCn07DQo7fSkpOw==
----field----
field: {C06867FE-9A43-4C7D-B739-48780492D06F}
name: Extension
key: extension
content-length: 2

js
----field----
field: {6F47A0A5-9C94-4B48-ABEB-42D38DEF6054}
name: Mime Type
key: mime type
content-length: 24

application/x-javascript
----field----
field: {6954B7C7-2487-423F-8600-436CB3B6DC0E}
name: Size
key: size
content-length: 5

49513
----field----
field: {06D5295C-ED2F-4A54-9BF2-26228D113318}
name: __Icon
key: __icon
content-length: 61

-/media/87C29E4EC4C04524B1F1876ADAE457ED.ashx?h=16&thn=1&w=16
----field----
field: {BA3F86A2-4A1C-4D78-B63D-91C2779C1B5E}
name: __Sortorder
key: __sortorder
content-length: 3

800
----version----
language: de-DE
version: 1
revision: 7f9656e8-3387-4b00-98a1-a7326a2b1e68

----field----
field: {52807595-0F8F-4B20-8D2A-CB71D28C6103}
name: __Owner
key: __owner
content-length: 14

sitecore\admin
----field----
field: {25BED78C-4957-4165-998A-CA1B52F67497}
name: __Created
key: __created
content-length: 16

20171120T053119Z
----field----
field: {5DD74568-4D4B-44C1-B513-0AF5F4CDA34F}
name: __Created by
key: __created by
content-length: 14

sitecore\admin
----field----
field: {8CDC337E-A112-42FB-BBB4-4143751E123F}
name: __Revision
key: __revision
content-length: 36

7f9656e8-3387-4b00-98a1-a7326a2b1e68
----field----
field: {D9CF14B1-FA16-4BA6-9288-E8A174D4D522}
name: __Updated
key: __updated
content-length: 16

20171120T053119Z
----field----
field: {BADD9CF9-53E0-4D0C-BCC0-2D784C282F6A}
name: __Updated by
key: __updated by
content-length: 14

sitecore\admin
----version----
language: en
version: 1
revision: 388480a7-86b6-4c24-a3b9-9f0d156de250

----field----
field: {25BED78C-4957-4165-998A-CA1B52F67497}
name: __Created
key: __created
content-length: 16

20171120T053119Z
----field----
field: {8CDC337E-A112-42FB-BBB4-4143751E123F}
name: __Revision
key: __revision
content-length: 36

388480a7-86b6-4c24-a3b9-9f0d156de250
----field----
field: {D9CF14B1-FA16-4BA6-9288-E8A174D4D522}
name: __Updated
key: __updated
content-length: 16

20171120T060639Z
----field----
field: {BADD9CF9-53E0-4D0C-BCC0-2D784C282F6A}
name: __Updated by
key: __updated by
content-length: 14

sitecore\admin
----version----
language: fr-FR
version: 1
revision: 9add169d-8c59-4909-8437-d1a72e95a7df

----field----
field: {52807595-0F8F-4B20-8D2A-CB71D28C6103}
name: __Owner
key: __owner
content-length: 14

sitecore\admin
----field----
field: {25BED78C-4957-4165-998A-CA1B52F67497}
name: __Created
key: __created
content-length: 16

20171120T053119Z
----field----
field: {5DD74568-4D4B-44C1-B513-0AF5F4CDA34F}
name: __Created by
key: __created by
content-length: 14

sitecore\admin
----field----
field: {8CDC337E-A112-42FB-BBB4-4143751E123F}
name: __Revision
key: __revision
content-length: 36

9add169d-8c59-4909-8437-d1a72e95a7df
----field----
field: {D9CF14B1-FA16-4BA6-9288-E8A174D4D522}
name: __Updated
key: __updated
content-length: 16

20171120T053119Z
----field----
field: {BADD9CF9-53E0-4D0C-BCC0-2D784C282F6A}
name: __Updated by
key: __updated by
content-length: 14

sitecore\admin
----version----
language: ja-JP
version: 1
revision: e4351d6f-9e5c-4fe7-8d27-7af297beafc0

----field----
field: {52807595-0F8F-4B20-8D2A-CB71D28C6103}
name: __Owner
key: __owner
content-length: 14

sitecore\admin
----field----
field: {25BED78C-4957-4165-998A-CA1B52F67497}
name: __Created
key: __created
content-length: 16

20171120T053119Z
----field----
field: {5DD74568-4D4B-44C1-B513-0AF5F4CDA34F}
name: __Created by
key: __created by
content-length: 14

sitecore\admin
----field----
field: {8CDC337E-A112-42FB-BBB4-4143751E123F}
name: __Revision
key: __revision
content-length: 36

e4351d6f-9e5c-4fe7-8d27-7af297beafc0
----field----
field: {D9CF14B1-FA16-4BA6-9288-E8A174D4D522}
name: __Updated
key: __updated
content-length: 16

20171120T053119Z
----field----
field: {BADD9CF9-53E0-4D0C-BCC0-2D784C282F6A}
name: __Updated by
key: __updated by
content-length: 14

sitecore\admin
