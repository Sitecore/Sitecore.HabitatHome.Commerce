----item----
version: 1
id: {641190DD-97E2-4472-803E-C0697317CADF}
database: master
path: /sitecore/media library/Themes/Habitat Sites/Habitat Home Store/scripts/vendors/jquery-321
parent: {0F96D50A-CE5F-456F-837D-A416B6D71B99}
name: jquery-321
master: {00000000-0000-0000-0000-000000000000}
template: {962B53C4-F93B-4DF9-9821-415C867B8903}
templatekey: File
created: 20180325T025031Z

----field----
field: {40E50ED9-BA07-4702-992E-A912738D32DC}
name: Blob
key: blob
content-length: 380820

LyohDQogKiBqUXVlcnkgSmF2YVNjcmlwdCBMaWJyYXJ5IHYzLjIuMQ0KICogaHR0cHM6Ly9qcXVl
cnkuY29tLw0KICoNCiAqIEluY2x1ZGVzIFNpenpsZS5qcw0KICogaHR0cHM6Ly9zaXp6bGVqcy5j
b20vDQogKg0KICogQ29weXJpZ2h0IEpTIEZvdW5kYXRpb24gYW5kIG90aGVyIGNvbnRyaWJ1dG9y
cw0KICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlDQogKiBodHRwczovL2pxdWVyeS5v
cmcvbGljZW5zZQ0KICoNCiAqIERhdGU6IDIwMTctMDMtMjBUMTg6NTlaDQogKi8NCiggZnVuY3Rp
b24oIGdsb2JhbCwgZmFjdG9yeSApIHsNCg0KCSJ1c2Ugc3RyaWN0IjsNCg0KCWlmICggdHlwZW9m
IG1vZHVsZSA9PT0gIm9iamVjdCIgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSAib2JqZWN0
IiApIHsNCg0KCQkvLyBGb3IgQ29tbW9uSlMgYW5kIENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRz
IHdoZXJlIGEgcHJvcGVyIGB3aW5kb3dgDQoJCS8vIGlzIHByZXNlbnQsIGV4ZWN1dGUgdGhlIGZh
Y3RvcnkgYW5kIGdldCBqUXVlcnkuDQoJCS8vIEZvciBlbnZpcm9ubWVudHMgdGhhdCBkbyBub3Qg
aGF2ZSBhIGB3aW5kb3dgIHdpdGggYSBgZG9jdW1lbnRgDQoJCS8vIChzdWNoIGFzIE5vZGUuanMp
LCBleHBvc2UgYSBmYWN0b3J5IGFzIG1vZHVsZS5leHBvcnRzLg0KCQkvLyBUaGlzIGFjY2VudHVh
dGVzIHRoZSBuZWVkIGZvciB0aGUgY3JlYXRpb24gb2YgYSByZWFsIGB3aW5kb3dgLg0KCQkvLyBl
LmcuIHZhciBqUXVlcnkgPSByZXF1aXJlKCJqcXVlcnkiKSh3aW5kb3cpOw0KCQkvLyBTZWUgdGlj
a2V0ICMxNDU0OSBmb3IgbW9yZSBpbmZvLg0KCQltb2R1bGUuZXhwb3J0cyA9IGdsb2JhbC5kb2N1
bWVudCA/DQoJCQlmYWN0b3J5KCBnbG9iYWwsIHRydWUgKSA6DQoJCQlmdW5jdGlvbiggdyApIHsN
CgkJCQlpZiAoICF3LmRvY3VtZW50ICkgew0KCQkJCQl0aHJvdyBuZXcgRXJyb3IoICJqUXVlcnkg
cmVxdWlyZXMgYSB3aW5kb3cgd2l0aCBhIGRvY3VtZW50IiApOw0KCQkJCX0NCgkJCQlyZXR1cm4g
ZmFjdG9yeSggdyApOw0KCQkJfTsNCgl9IGVsc2Ugew0KCQlmYWN0b3J5KCBnbG9iYWwgKTsNCgl9
DQoNCi8vIFBhc3MgdGhpcyBpZiB3aW5kb3cgaXMgbm90IGRlZmluZWQgeWV0DQp9ICkoIHR5cGVv
ZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiID8gd2luZG93IDogdGhpcywgZnVuY3Rpb24oIHdpbmRv
dywgbm9HbG9iYWwgKSB7DQoNCi8vIEVkZ2UgPD0gMTIgLSAxMyssIEZpcmVmb3ggPD0xOCAtIDQ1
KywgSUUgMTAgLSAxMSwgU2FmYXJpIDUuMSAtIDkrLCBpT1MgNiAtIDkuMQ0KLy8gdGhyb3cgZXhj
ZXB0aW9ucyB3aGVuIG5vbi1zdHJpY3QgY29kZSAoZS5nLiwgQVNQLk5FVCA0LjUpIGFjY2Vzc2Vz
IHN0cmljdCBtb2RlDQovLyBhcmd1bWVudHMuY2FsbGVlLmNhbGxlciAodHJhYy0xMzMzNSkuIEJ1
dCBhcyBvZiBqUXVlcnkgMy4wICgyMDE2KSwgc3RyaWN0IG1vZGUgc2hvdWxkIGJlIGNvbW1vbg0K
Ly8gZW5vdWdoIHRoYXQgYWxsIHN1Y2ggYXR0ZW1wdHMgYXJlIGd1YXJkZWQgaW4gYSB0cnkgYmxv
Y2suDQoidXNlIHN0cmljdCI7DQoNCnZhciBhcnIgPSBbXTsNCg0KdmFyIGRvY3VtZW50ID0gd2lu
ZG93LmRvY3VtZW50Ow0KDQp2YXIgZ2V0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7DQoN
CnZhciBzbGljZSA9IGFyci5zbGljZTsNCg0KdmFyIGNvbmNhdCA9IGFyci5jb25jYXQ7DQoNCnZh
ciBwdXNoID0gYXJyLnB1c2g7DQoNCnZhciBpbmRleE9mID0gYXJyLmluZGV4T2Y7DQoNCnZhciBj
bGFzczJ0eXBlID0ge307DQoNCnZhciB0b1N0cmluZyA9IGNsYXNzMnR5cGUudG9TdHJpbmc7DQoN
CnZhciBoYXNPd24gPSBjbGFzczJ0eXBlLmhhc093blByb3BlcnR5Ow0KDQp2YXIgZm5Ub1N0cmlu
ZyA9IGhhc093bi50b1N0cmluZzsNCg0KdmFyIE9iamVjdEZ1bmN0aW9uU3RyaW5nID0gZm5Ub1N0
cmluZy5jYWxsKCBPYmplY3QgKTsNCg0KdmFyIHN1cHBvcnQgPSB7fTsNCg0KDQoNCglmdW5jdGlv
biBET01FdmFsKCBjb2RlLCBkb2MgKSB7DQoJCWRvYyA9IGRvYyB8fCBkb2N1bWVudDsNCg0KCQl2
YXIgc2NyaXB0ID0gZG9jLmNyZWF0ZUVsZW1lbnQoICJzY3JpcHQiICk7DQoNCgkJc2NyaXB0LnRl
eHQgPSBjb2RlOw0KCQlkb2MuaGVhZC5hcHBlbmRDaGlsZCggc2NyaXB0ICkucGFyZW50Tm9kZS5y
ZW1vdmVDaGlsZCggc2NyaXB0ICk7DQoJfQ0KLyogZ2xvYmFsIFN5bWJvbCAqLw0KLy8gRGVmaW5p
bmcgdGhpcyBnbG9iYWwgaW4gLmVzbGludHJjLmpzb24gd291bGQgY3JlYXRlIGEgZGFuZ2VyIG9m
IHVzaW5nIHRoZSBnbG9iYWwNCi8vIHVuZ3VhcmRlZCBpbiBhbm90aGVyIHBsYWNlLCBpdCBzZWVt
cyBzYWZlciB0byBkZWZpbmUgZ2xvYmFsIG9ubHkgZm9yIHRoaXMgbW9kdWxlDQoNCg0KDQp2YXIN
Cgl2ZXJzaW9uID0gIjMuMi4xIiwNCg0KCS8vIERlZmluZSBhIGxvY2FsIGNvcHkgb2YgalF1ZXJ5
DQoJalF1ZXJ5ID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0ICkgew0KDQoJCS8vIFRoZSBq
UXVlcnkgb2JqZWN0IGlzIGFjdHVhbGx5IGp1c3QgdGhlIGluaXQgY29uc3RydWN0b3IgJ2VuaGFu
Y2VkJw0KCQkvLyBOZWVkIGluaXQgaWYgalF1ZXJ5IGlzIGNhbGxlZCAoanVzdCBhbGxvdyBlcnJv
ciB0byBiZSB0aHJvd24gaWYgbm90IGluY2x1ZGVkKQ0KCQlyZXR1cm4gbmV3IGpRdWVyeS5mbi5p
bml0KCBzZWxlY3RvciwgY29udGV4dCApOw0KCX0sDQoNCgkvLyBTdXBwb3J0OiBBbmRyb2lkIDw9
NC4wIG9ubHkNCgkvLyBNYWtlIHN1cmUgd2UgdHJpbSBCT00gYW5kIE5CU1ANCglydHJpbSA9IC9e
W1xzXHVGRUZGXHhBMF0rfFtcc1x1RkVGRlx4QTBdKyQvZywNCg0KCS8vIE1hdGNoZXMgZGFzaGVk
IHN0cmluZyBmb3IgY2FtZWxpemluZw0KCXJtc1ByZWZpeCA9IC9eLW1zLS8sDQoJcmRhc2hBbHBo
YSA9IC8tKFthLXpdKS9nLA0KDQoJLy8gVXNlZCBieSBqUXVlcnkuY2FtZWxDYXNlIGFzIGNhbGxi
YWNrIHRvIHJlcGxhY2UoKQ0KCWZjYW1lbENhc2UgPSBmdW5jdGlvbiggYWxsLCBsZXR0ZXIgKSB7
DQoJCXJldHVybiBsZXR0ZXIudG9VcHBlckNhc2UoKTsNCgl9Ow0KDQpqUXVlcnkuZm4gPSBqUXVl
cnkucHJvdG90eXBlID0gew0KDQoJLy8gVGhlIGN1cnJlbnQgdmVyc2lvbiBvZiBqUXVlcnkgYmVp
bmcgdXNlZA0KCWpxdWVyeTogdmVyc2lvbiwNCg0KCWNvbnN0cnVjdG9yOiBqUXVlcnksDQoNCgkv
LyBUaGUgZGVmYXVsdCBsZW5ndGggb2YgYSBqUXVlcnkgb2JqZWN0IGlzIDANCglsZW5ndGg6IDAs
DQoNCgl0b0FycmF5OiBmdW5jdGlvbigpIHsNCgkJcmV0dXJuIHNsaWNlLmNhbGwoIHRoaXMgKTsN
Cgl9LA0KDQoJLy8gR2V0IHRoZSBOdGggZWxlbWVudCBpbiB0aGUgbWF0Y2hlZCBlbGVtZW50IHNl
dCBPUg0KCS8vIEdldCB0aGUgd2hvbGUgbWF0Y2hlZCBlbGVtZW50IHNldCBhcyBhIGNsZWFuIGFy
cmF5DQoJZ2V0OiBmdW5jdGlvbiggbnVtICkgew0KDQoJCS8vIFJldHVybiBhbGwgdGhlIGVsZW1l
bnRzIGluIGEgY2xlYW4gYXJyYXkNCgkJaWYgKCBudW0gPT0gbnVsbCApIHsNCgkJCXJldHVybiBz
bGljZS5jYWxsKCB0aGlzICk7DQoJCX0NCg0KCQkvLyBSZXR1cm4ganVzdCB0aGUgb25lIGVsZW1l
bnQgZnJvbSB0aGUgc2V0DQoJCXJldHVybiBudW0gPCAwID8gdGhpc1sgbnVtICsgdGhpcy5sZW5n
dGggXSA6IHRoaXNbIG51bSBdOw0KCX0sDQoNCgkvLyBUYWtlIGFuIGFycmF5IG9mIGVsZW1lbnRz
IGFuZCBwdXNoIGl0IG9udG8gdGhlIHN0YWNrDQoJLy8gKHJldHVybmluZyB0aGUgbmV3IG1hdGNo
ZWQgZWxlbWVudCBzZXQpDQoJcHVzaFN0YWNrOiBmdW5jdGlvbiggZWxlbXMgKSB7DQoNCgkJLy8g
QnVpbGQgYSBuZXcgalF1ZXJ5IG1hdGNoZWQgZWxlbWVudCBzZXQNCgkJdmFyIHJldCA9IGpRdWVy
eS5tZXJnZSggdGhpcy5jb25zdHJ1Y3RvcigpLCBlbGVtcyApOw0KDQoJCS8vIEFkZCB0aGUgb2xk
IG9iamVjdCBvbnRvIHRoZSBzdGFjayAoYXMgYSByZWZlcmVuY2UpDQoJCXJldC5wcmV2T2JqZWN0
ID0gdGhpczsNCg0KCQkvLyBSZXR1cm4gdGhlIG5ld2x5LWZvcm1lZCBlbGVtZW50IHNldA0KCQly
ZXR1cm4gcmV0Ow0KCX0sDQoNCgkvLyBFeGVjdXRlIGEgY2FsbGJhY2sgZm9yIGV2ZXJ5IGVsZW1l
bnQgaW4gdGhlIG1hdGNoZWQgc2V0Lg0KCWVhY2g6IGZ1bmN0aW9uKCBjYWxsYmFjayApIHsNCgkJ
cmV0dXJuIGpRdWVyeS5lYWNoKCB0aGlzLCBjYWxsYmFjayApOw0KCX0sDQoNCgltYXA6IGZ1bmN0
aW9uKCBjYWxsYmFjayApIHsNCgkJcmV0dXJuIHRoaXMucHVzaFN0YWNrKCBqUXVlcnkubWFwKCB0
aGlzLCBmdW5jdGlvbiggZWxlbSwgaSApIHsNCgkJCXJldHVybiBjYWxsYmFjay5jYWxsKCBlbGVt
LCBpLCBlbGVtICk7DQoJCX0gKSApOw0KCX0sDQoNCglzbGljZTogZnVuY3Rpb24oKSB7DQoJCXJl
dHVybiB0aGlzLnB1c2hTdGFjayggc2xpY2UuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApICk7DQoJ
fSwNCg0KCWZpcnN0OiBmdW5jdGlvbigpIHsNCgkJcmV0dXJuIHRoaXMuZXEoIDAgKTsNCgl9LA0K
DQoJbGFzdDogZnVuY3Rpb24oKSB7DQoJCXJldHVybiB0aGlzLmVxKCAtMSApOw0KCX0sDQoNCgll
cTogZnVuY3Rpb24oIGkgKSB7DQoJCXZhciBsZW4gPSB0aGlzLmxlbmd0aCwNCgkJCWogPSAraSAr
ICggaSA8IDAgPyBsZW4gOiAwICk7DQoJCXJldHVybiB0aGlzLnB1c2hTdGFjayggaiA+PSAwICYm
IGogPCBsZW4gPyBbIHRoaXNbIGogXSBdIDogW10gKTsNCgl9LA0KDQoJZW5kOiBmdW5jdGlvbigp
IHsNCgkJcmV0dXJuIHRoaXMucHJldk9iamVjdCB8fCB0aGlzLmNvbnN0cnVjdG9yKCk7DQoJfSwN
Cg0KCS8vIEZvciBpbnRlcm5hbCB1c2Ugb25seS4NCgkvLyBCZWhhdmVzIGxpa2UgYW4gQXJyYXkn
cyBtZXRob2QsIG5vdCBsaWtlIGEgalF1ZXJ5IG1ldGhvZC4NCglwdXNoOiBwdXNoLA0KCXNvcnQ6
IGFyci5zb3J0LA0KCXNwbGljZTogYXJyLnNwbGljZQ0KfTsNCg0KalF1ZXJ5LmV4dGVuZCA9IGpR
dWVyeS5mbi5leHRlbmQgPSBmdW5jdGlvbigpIHsNCgl2YXIgb3B0aW9ucywgbmFtZSwgc3JjLCBj
b3B5LCBjb3B5SXNBcnJheSwgY2xvbmUsDQoJCXRhcmdldCA9IGFyZ3VtZW50c1sgMCBdIHx8IHt9
LA0KCQlpID0gMSwNCgkJbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCwNCgkJZGVlcCA9IGZhbHNl
Ow0KDQoJLy8gSGFuZGxlIGEgZGVlcCBjb3B5IHNpdHVhdGlvbg0KCWlmICggdHlwZW9mIHRhcmdl
dCA9PT0gImJvb2xlYW4iICkgew0KCQlkZWVwID0gdGFyZ2V0Ow0KDQoJCS8vIFNraXAgdGhlIGJv
b2xlYW4gYW5kIHRoZSB0YXJnZXQNCgkJdGFyZ2V0ID0gYXJndW1lbnRzWyBpIF0gfHwge307DQoJ
CWkrKzsNCgl9DQoNCgkvLyBIYW5kbGUgY2FzZSB3aGVuIHRhcmdldCBpcyBhIHN0cmluZyBvciBz
b21ldGhpbmcgKHBvc3NpYmxlIGluIGRlZXAgY29weSkNCglpZiAoIHR5cGVvZiB0YXJnZXQgIT09
ICJvYmplY3QiICYmICFqUXVlcnkuaXNGdW5jdGlvbiggdGFyZ2V0ICkgKSB7DQoJCXRhcmdldCA9
IHt9Ow0KCX0NCg0KCS8vIEV4dGVuZCBqUXVlcnkgaXRzZWxmIGlmIG9ubHkgb25lIGFyZ3VtZW50
IGlzIHBhc3NlZA0KCWlmICggaSA9PT0gbGVuZ3RoICkgew0KCQl0YXJnZXQgPSB0aGlzOw0KCQlp
LS07DQoJfQ0KDQoJZm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7DQoNCgkJLy8gT25seSBkZWFs
IHdpdGggbm9uLW51bGwvdW5kZWZpbmVkIHZhbHVlcw0KCQlpZiAoICggb3B0aW9ucyA9IGFyZ3Vt
ZW50c1sgaSBdICkgIT0gbnVsbCApIHsNCg0KCQkJLy8gRXh0ZW5kIHRoZSBiYXNlIG9iamVjdA0K
CQkJZm9yICggbmFtZSBpbiBvcHRpb25zICkgew0KCQkJCXNyYyA9IHRhcmdldFsgbmFtZSBdOw0K
CQkJCWNvcHkgPSBvcHRpb25zWyBuYW1lIF07DQoNCgkJCQkvLyBQcmV2ZW50IG5ldmVyLWVuZGlu
ZyBsb29wDQoJCQkJaWYgKCB0YXJnZXQgPT09IGNvcHkgKSB7DQoJCQkJCWNvbnRpbnVlOw0KCQkJ
CX0NCg0KCQkJCS8vIFJlY3Vyc2UgaWYgd2UncmUgbWVyZ2luZyBwbGFpbiBvYmplY3RzIG9yIGFy
cmF5cw0KCQkJCWlmICggZGVlcCAmJiBjb3B5ICYmICggalF1ZXJ5LmlzUGxhaW5PYmplY3QoIGNv
cHkgKSB8fA0KCQkJCQkoIGNvcHlJc0FycmF5ID0gQXJyYXkuaXNBcnJheSggY29weSApICkgKSAp
IHsNCg0KCQkJCQlpZiAoIGNvcHlJc0FycmF5ICkgew0KCQkJCQkJY29weUlzQXJyYXkgPSBmYWxz
ZTsNCgkJCQkJCWNsb25lID0gc3JjICYmIEFycmF5LmlzQXJyYXkoIHNyYyApID8gc3JjIDogW107
DQoNCgkJCQkJfSBlbHNlIHsNCgkJCQkJCWNsb25lID0gc3JjICYmIGpRdWVyeS5pc1BsYWluT2Jq
ZWN0KCBzcmMgKSA/IHNyYyA6IHt9Ow0KCQkJCQl9DQoNCgkJCQkJLy8gTmV2ZXIgbW92ZSBvcmln
aW5hbCBvYmplY3RzLCBjbG9uZSB0aGVtDQoJCQkJCXRhcmdldFsgbmFtZSBdID0galF1ZXJ5LmV4
dGVuZCggZGVlcCwgY2xvbmUsIGNvcHkgKTsNCg0KCQkJCS8vIERvbid0IGJyaW5nIGluIHVuZGVm
aW5lZCB2YWx1ZXMNCgkJCQl9IGVsc2UgaWYgKCBjb3B5ICE9PSB1bmRlZmluZWQgKSB7DQoJCQkJ
CXRhcmdldFsgbmFtZSBdID0gY29weTsNCgkJCQl9DQoJCQl9DQoJCX0NCgl9DQoNCgkvLyBSZXR1
cm4gdGhlIG1vZGlmaWVkIG9iamVjdA0KCXJldHVybiB0YXJnZXQ7DQp9Ow0KDQpqUXVlcnkuZXh0
ZW5kKCB7DQoNCgkvLyBVbmlxdWUgZm9yIGVhY2ggY29weSBvZiBqUXVlcnkgb24gdGhlIHBhZ2UN
CglleHBhbmRvOiAialF1ZXJ5IiArICggdmVyc2lvbiArIE1hdGgucmFuZG9tKCkgKS5yZXBsYWNl
KCAvXEQvZywgIiIgKSwNCg0KCS8vIEFzc3VtZSBqUXVlcnkgaXMgcmVhZHkgd2l0aG91dCB0aGUg
cmVhZHkgbW9kdWxlDQoJaXNSZWFkeTogdHJ1ZSwNCg0KCWVycm9yOiBmdW5jdGlvbiggbXNnICkg
ew0KCQl0aHJvdyBuZXcgRXJyb3IoIG1zZyApOw0KCX0sDQoNCglub29wOiBmdW5jdGlvbigpIHt9
LA0KDQoJaXNGdW5jdGlvbjogZnVuY3Rpb24oIG9iaiApIHsNCgkJcmV0dXJuIGpRdWVyeS50eXBl
KCBvYmogKSA9PT0gImZ1bmN0aW9uIjsNCgl9LA0KDQoJaXNXaW5kb3c6IGZ1bmN0aW9uKCBvYmog
KSB7DQoJCXJldHVybiBvYmogIT0gbnVsbCAmJiBvYmogPT09IG9iai53aW5kb3c7DQoJfSwNCg0K
CWlzTnVtZXJpYzogZnVuY3Rpb24oIG9iaiApIHsNCg0KCQkvLyBBcyBvZiBqUXVlcnkgMy4wLCBp
c051bWVyaWMgaXMgbGltaXRlZCB0bw0KCQkvLyBzdHJpbmdzIGFuZCBudW1iZXJzIChwcmltaXRp
dmVzIG9yIG9iamVjdHMpDQoJCS8vIHRoYXQgY2FuIGJlIGNvZXJjZWQgdG8gZmluaXRlIG51bWJl
cnMgKGdoLTI2NjIpDQoJCXZhciB0eXBlID0galF1ZXJ5LnR5cGUoIG9iaiApOw0KCQlyZXR1cm4g
KCB0eXBlID09PSAibnVtYmVyIiB8fCB0eXBlID09PSAic3RyaW5nIiApICYmDQoNCgkJCS8vIHBh
cnNlRmxvYXQgTmFOcyBudW1lcmljLWNhc3QgZmFsc2UgcG9zaXRpdmVzICgiIikNCgkJCS8vIC4u
LmJ1dCBtaXNpbnRlcnByZXRzIGxlYWRpbmctbnVtYmVyIHN0cmluZ3MsIHBhcnRpY3VsYXJseSBo
ZXggbGl0ZXJhbHMgKCIweC4uLiIpDQoJCQkvLyBzdWJ0cmFjdGlvbiBmb3JjZXMgaW5maW5pdGll
cyB0byBOYU4NCgkJCSFpc05hTiggb2JqIC0gcGFyc2VGbG9hdCggb2JqICkgKTsNCgl9LA0KDQoJ
aXNQbGFpbk9iamVjdDogZnVuY3Rpb24oIG9iaiApIHsNCgkJdmFyIHByb3RvLCBDdG9yOw0KDQoJ
CS8vIERldGVjdCBvYnZpb3VzIG5lZ2F0aXZlcw0KCQkvLyBVc2UgdG9TdHJpbmcgaW5zdGVhZCBv
ZiBqUXVlcnkudHlwZSB0byBjYXRjaCBob3N0IG9iamVjdHMNCgkJaWYgKCAhb2JqIHx8IHRvU3Ry
aW5nLmNhbGwoIG9iaiApICE9PSAiW29iamVjdCBPYmplY3RdIiApIHsNCgkJCXJldHVybiBmYWxz
ZTsNCgkJfQ0KDQoJCXByb3RvID0gZ2V0UHJvdG8oIG9iaiApOw0KDQoJCS8vIE9iamVjdHMgd2l0
aCBubyBwcm90b3R5cGUgKGUuZy4sIGBPYmplY3QuY3JlYXRlKCBudWxsIClgKSBhcmUgcGxhaW4N
CgkJaWYgKCAhcHJvdG8gKSB7DQoJCQlyZXR1cm4gdHJ1ZTsNCgkJfQ0KDQoJCS8vIE9iamVjdHMg
d2l0aCBwcm90b3R5cGUgYXJlIHBsYWluIGlmZiB0aGV5IHdlcmUgY29uc3RydWN0ZWQgYnkgYSBn
bG9iYWwgT2JqZWN0IGZ1bmN0aW9uDQoJCUN0b3IgPSBoYXNPd24uY2FsbCggcHJvdG8sICJjb25z
dHJ1Y3RvciIgKSAmJiBwcm90by5jb25zdHJ1Y3RvcjsNCgkJcmV0dXJuIHR5cGVvZiBDdG9yID09
PSAiZnVuY3Rpb24iICYmIGZuVG9TdHJpbmcuY2FsbCggQ3RvciApID09PSBPYmplY3RGdW5jdGlv
blN0cmluZzsNCgl9LA0KDQoJaXNFbXB0eU9iamVjdDogZnVuY3Rpb24oIG9iaiApIHsNCg0KCQkv
KiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqLw0KCQkvLyBTZWUgaHR0cHM6Ly9naXRo
dWIuY29tL2VzbGludC9lc2xpbnQvaXNzdWVzLzYxMjUNCgkJdmFyIG5hbWU7DQoNCgkJZm9yICgg
bmFtZSBpbiBvYmogKSB7DQoJCQlyZXR1cm4gZmFsc2U7DQoJCX0NCgkJcmV0dXJuIHRydWU7DQoJ
fSwNCg0KCXR5cGU6IGZ1bmN0aW9uKCBvYmogKSB7DQoJCWlmICggb2JqID09IG51bGwgKSB7DQoJ
CQlyZXR1cm4gb2JqICsgIiI7DQoJCX0NCg0KCQkvLyBTdXBwb3J0OiBBbmRyb2lkIDw9Mi4zIG9u
bHkgKGZ1bmN0aW9uaXNoIFJlZ0V4cCkNCgkJcmV0dXJuIHR5cGVvZiBvYmogPT09ICJvYmplY3Qi
IHx8IHR5cGVvZiBvYmogPT09ICJmdW5jdGlvbiIgPw0KCQkJY2xhc3MydHlwZVsgdG9TdHJpbmcu
Y2FsbCggb2JqICkgXSB8fCAib2JqZWN0IiA6DQoJCQl0eXBlb2Ygb2JqOw0KCX0sDQoNCgkvLyBF
dmFsdWF0ZXMgYSBzY3JpcHQgaW4gYSBnbG9iYWwgY29udGV4dA0KCWdsb2JhbEV2YWw6IGZ1bmN0
aW9uKCBjb2RlICkgew0KCQlET01FdmFsKCBjb2RlICk7DQoJfSwNCg0KCS8vIENvbnZlcnQgZGFz
aGVkIHRvIGNhbWVsQ2FzZTsgdXNlZCBieSB0aGUgY3NzIGFuZCBkYXRhIG1vZHVsZXMNCgkvLyBT
dXBwb3J0OiBJRSA8PTkgLSAxMSwgRWRnZSAxMiAtIDEzDQoJLy8gTWljcm9zb2Z0IGZvcmdvdCB0
byBodW1wIHRoZWlyIHZlbmRvciBwcmVmaXggKCM5NTcyKQ0KCWNhbWVsQ2FzZTogZnVuY3Rpb24o
IHN0cmluZyApIHsNCgkJcmV0dXJuIHN0cmluZy5yZXBsYWNlKCBybXNQcmVmaXgsICJtcy0iICku
cmVwbGFjZSggcmRhc2hBbHBoYSwgZmNhbWVsQ2FzZSApOw0KCX0sDQoNCgllYWNoOiBmdW5jdGlv
biggb2JqLCBjYWxsYmFjayApIHsNCgkJdmFyIGxlbmd0aCwgaSA9IDA7DQoNCgkJaWYgKCBpc0Fy
cmF5TGlrZSggb2JqICkgKSB7DQoJCQlsZW5ndGggPSBvYmoubGVuZ3RoOw0KCQkJZm9yICggOyBp
IDwgbGVuZ3RoOyBpKysgKSB7DQoJCQkJaWYgKCBjYWxsYmFjay5jYWxsKCBvYmpbIGkgXSwgaSwg
b2JqWyBpIF0gKSA9PT0gZmFsc2UgKSB7DQoJCQkJCWJyZWFrOw0KCQkJCX0NCgkJCX0NCgkJfSBl
bHNlIHsNCgkJCWZvciAoIGkgaW4gb2JqICkgew0KCQkJCWlmICggY2FsbGJhY2suY2FsbCggb2Jq
WyBpIF0sIGksIG9ialsgaSBdICkgPT09IGZhbHNlICkgew0KCQkJCQlicmVhazsNCgkJCQl9DQoJ
CQl9DQoJCX0NCg0KCQlyZXR1cm4gb2JqOw0KCX0sDQoNCgkvLyBTdXBwb3J0OiBBbmRyb2lkIDw9
NC4wIG9ubHkNCgl0cmltOiBmdW5jdGlvbiggdGV4dCApIHsNCgkJcmV0dXJuIHRleHQgPT0gbnVs
bCA/DQoJCQkiIiA6DQoJCQkoIHRleHQgKyAiIiApLnJlcGxhY2UoIHJ0cmltLCAiIiApOw0KCX0s
DQoNCgkvLyByZXN1bHRzIGlzIGZvciBpbnRlcm5hbCB1c2FnZSBvbmx5DQoJbWFrZUFycmF5OiBm
dW5jdGlvbiggYXJyLCByZXN1bHRzICkgew0KCQl2YXIgcmV0ID0gcmVzdWx0cyB8fCBbXTsNCg0K
CQlpZiAoIGFyciAhPSBudWxsICkgew0KCQkJaWYgKCBpc0FycmF5TGlrZSggT2JqZWN0KCBhcnIg
KSApICkgew0KCQkJCWpRdWVyeS5tZXJnZSggcmV0LA0KCQkJCQl0eXBlb2YgYXJyID09PSAic3Ry
aW5nIiA/DQoJCQkJCVsgYXJyIF0gOiBhcnINCgkJCQkpOw0KCQkJfSBlbHNlIHsNCgkJCQlwdXNo
LmNhbGwoIHJldCwgYXJyICk7DQoJCQl9DQoJCX0NCg0KCQlyZXR1cm4gcmV0Ow0KCX0sDQoNCglp
bkFycmF5OiBmdW5jdGlvbiggZWxlbSwgYXJyLCBpICkgew0KCQlyZXR1cm4gYXJyID09IG51bGwg
PyAtMSA6IGluZGV4T2YuY2FsbCggYXJyLCBlbGVtLCBpICk7DQoJfSwNCg0KCS8vIFN1cHBvcnQ6
IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seQ0KCS8vIHB1c2guYXBwbHkoXywg
YXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXQNCgltZXJnZTogZnVuY3Rpb24oIGZp
cnN0LCBzZWNvbmQgKSB7DQoJCXZhciBsZW4gPSArc2Vjb25kLmxlbmd0aCwNCgkJCWogPSAwLA0K
CQkJaSA9IGZpcnN0Lmxlbmd0aDsNCg0KCQlmb3IgKCA7IGogPCBsZW47IGorKyApIHsNCgkJCWZp
cnN0WyBpKysgXSA9IHNlY29uZFsgaiBdOw0KCQl9DQoNCgkJZmlyc3QubGVuZ3RoID0gaTsNCg0K
CQlyZXR1cm4gZmlyc3Q7DQoJfSwNCg0KCWdyZXA6IGZ1bmN0aW9uKCBlbGVtcywgY2FsbGJhY2ss
IGludmVydCApIHsNCgkJdmFyIGNhbGxiYWNrSW52ZXJzZSwNCgkJCW1hdGNoZXMgPSBbXSwNCgkJ
CWkgPSAwLA0KCQkJbGVuZ3RoID0gZWxlbXMubGVuZ3RoLA0KCQkJY2FsbGJhY2tFeHBlY3QgPSAh
aW52ZXJ0Ow0KDQoJCS8vIEdvIHRocm91Z2ggdGhlIGFycmF5LCBvbmx5IHNhdmluZyB0aGUgaXRl
bXMNCgkJLy8gdGhhdCBwYXNzIHRoZSB2YWxpZGF0b3IgZnVuY3Rpb24NCgkJZm9yICggOyBpIDwg
bGVuZ3RoOyBpKysgKSB7DQoJCQljYWxsYmFja0ludmVyc2UgPSAhY2FsbGJhY2soIGVsZW1zWyBp
IF0sIGkgKTsNCgkJCWlmICggY2FsbGJhY2tJbnZlcnNlICE9PSBjYWxsYmFja0V4cGVjdCApIHsN
CgkJCQltYXRjaGVzLnB1c2goIGVsZW1zWyBpIF0gKTsNCgkJCX0NCgkJfQ0KDQoJCXJldHVybiBt
YXRjaGVzOw0KCX0sDQoNCgkvLyBhcmcgaXMgZm9yIGludGVybmFsIHVzYWdlIG9ubHkNCgltYXA6
IGZ1bmN0aW9uKCBlbGVtcywgY2FsbGJhY2ssIGFyZyApIHsNCgkJdmFyIGxlbmd0aCwgdmFsdWUs
DQoJCQlpID0gMCwNCgkJCXJldCA9IFtdOw0KDQoJCS8vIEdvIHRocm91Z2ggdGhlIGFycmF5LCB0
cmFuc2xhdGluZyBlYWNoIG9mIHRoZSBpdGVtcyB0byB0aGVpciBuZXcgdmFsdWVzDQoJCWlmICgg
aXNBcnJheUxpa2UoIGVsZW1zICkgKSB7DQoJCQlsZW5ndGggPSBlbGVtcy5sZW5ndGg7DQoJCQlm
b3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHsNCgkJCQl2YWx1ZSA9IGNhbGxiYWNrKCBlbGVtc1sg
aSBdLCBpLCBhcmcgKTsNCg0KCQkJCWlmICggdmFsdWUgIT0gbnVsbCApIHsNCgkJCQkJcmV0LnB1
c2goIHZhbHVlICk7DQoJCQkJfQ0KCQkJfQ0KDQoJCS8vIEdvIHRocm91Z2ggZXZlcnkga2V5IG9u
IHRoZSBvYmplY3QsDQoJCX0gZWxzZSB7DQoJCQlmb3IgKCBpIGluIGVsZW1zICkgew0KCQkJCXZh
bHVlID0gY2FsbGJhY2soIGVsZW1zWyBpIF0sIGksIGFyZyApOw0KDQoJCQkJaWYgKCB2YWx1ZSAh
PSBudWxsICkgew0KCQkJCQlyZXQucHVzaCggdmFsdWUgKTsNCgkJCQl9DQoJCQl9DQoJCX0NCg0K
CQkvLyBGbGF0dGVuIGFueSBuZXN0ZWQgYXJyYXlzDQoJCXJldHVybiBjb25jYXQuYXBwbHkoIFtd
LCByZXQgKTsNCgl9LA0KDQoJLy8gQSBnbG9iYWwgR1VJRCBjb3VudGVyIGZvciBvYmplY3RzDQoJ
Z3VpZDogMSwNCg0KCS8vIEJpbmQgYSBmdW5jdGlvbiB0byBhIGNvbnRleHQsIG9wdGlvbmFsbHkg
cGFydGlhbGx5IGFwcGx5aW5nIGFueQ0KCS8vIGFyZ3VtZW50cy4NCglwcm94eTogZnVuY3Rpb24o
IGZuLCBjb250ZXh0ICkgew0KCQl2YXIgdG1wLCBhcmdzLCBwcm94eTsNCg0KCQlpZiAoIHR5cGVv
ZiBjb250ZXh0ID09PSAic3RyaW5nIiApIHsNCgkJCXRtcCA9IGZuWyBjb250ZXh0IF07DQoJCQlj
b250ZXh0ID0gZm47DQoJCQlmbiA9IHRtcDsNCgkJfQ0KDQoJCS8vIFF1aWNrIGNoZWNrIHRvIGRl
dGVybWluZSBpZiB0YXJnZXQgaXMgY2FsbGFibGUsIGluIHRoZSBzcGVjDQoJCS8vIHRoaXMgdGhy
b3dzIGEgVHlwZUVycm9yLCBidXQgd2Ugd2lsbCBqdXN0IHJldHVybiB1bmRlZmluZWQuDQoJCWlm
ICggIWpRdWVyeS5pc0Z1bmN0aW9uKCBmbiApICkgew0KCQkJcmV0dXJuIHVuZGVmaW5lZDsNCgkJ
fQ0KDQoJCS8vIFNpbXVsYXRlZCBiaW5kDQoJCWFyZ3MgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMs
IDIgKTsNCgkJcHJveHkgPSBmdW5jdGlvbigpIHsNCgkJCXJldHVybiBmbi5hcHBseSggY29udGV4
dCB8fCB0aGlzLCBhcmdzLmNvbmNhdCggc2xpY2UuY2FsbCggYXJndW1lbnRzICkgKSApOw0KCQl9
Ow0KDQoJCS8vIFNldCB0aGUgZ3VpZCBvZiB1bmlxdWUgaGFuZGxlciB0byB0aGUgc2FtZSBvZiBv
cmlnaW5hbCBoYW5kbGVyLCBzbyBpdCBjYW4gYmUgcmVtb3ZlZA0KCQlwcm94eS5ndWlkID0gZm4u
Z3VpZCA9IGZuLmd1aWQgfHwgalF1ZXJ5Lmd1aWQrKzsNCg0KCQlyZXR1cm4gcHJveHk7DQoJfSwN
Cg0KCW5vdzogRGF0ZS5ub3csDQoNCgkvLyBqUXVlcnkuc3VwcG9ydCBpcyBub3QgdXNlZCBpbiBD
b3JlIGJ1dCBvdGhlciBwcm9qZWN0cyBhdHRhY2ggdGhlaXINCgkvLyBwcm9wZXJ0aWVzIHRvIGl0
IHNvIGl0IG5lZWRzIHRvIGV4aXN0Lg0KCXN1cHBvcnQ6IHN1cHBvcnQNCn0gKTsNCg0KaWYgKCB0
eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICkgew0KCWpRdWVyeS5mblsgU3ltYm9sLml0ZXJh
dG9yIF0gPSBhcnJbIFN5bWJvbC5pdGVyYXRvciBdOw0KfQ0KDQovLyBQb3B1bGF0ZSB0aGUgY2xh
c3MydHlwZSBtYXANCmpRdWVyeS5lYWNoKCAiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9u
IEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2wiLnNwbGl0KCAiICIgKSwNCmZ1
bmN0aW9uKCBpLCBuYW1lICkgew0KCWNsYXNzMnR5cGVbICJbb2JqZWN0ICIgKyBuYW1lICsgIl0i
IF0gPSBuYW1lLnRvTG93ZXJDYXNlKCk7DQp9ICk7DQoNCmZ1bmN0aW9uIGlzQXJyYXlMaWtlKCBv
YmogKSB7DQoNCgkvLyBTdXBwb3J0OiByZWFsIGlPUyA4LjIgb25seSAobm90IHJlcHJvZHVjaWJs
ZSBpbiBzaW11bGF0b3IpDQoJLy8gYGluYCBjaGVjayB1c2VkIHRvIHByZXZlbnQgSklUIGVycm9y
IChnaC0yMTQ1KQ0KCS8vIGhhc093biBpc24ndCB1c2VkIGhlcmUgZHVlIHRvIGZhbHNlIG5lZ2F0
aXZlcw0KCS8vIHJlZ2FyZGluZyBOb2RlbGlzdCBsZW5ndGggaW4gSUUNCgl2YXIgbGVuZ3RoID0g
ISFvYmogJiYgImxlbmd0aCIgaW4gb2JqICYmIG9iai5sZW5ndGgsDQoJCXR5cGUgPSBqUXVlcnku
dHlwZSggb2JqICk7DQoNCglpZiAoIHR5cGUgPT09ICJmdW5jdGlvbiIgfHwgalF1ZXJ5LmlzV2lu
ZG93KCBvYmogKSApIHsNCgkJcmV0dXJuIGZhbHNlOw0KCX0NCg0KCXJldHVybiB0eXBlID09PSAi
YXJyYXkiIHx8IGxlbmd0aCA9PT0gMCB8fA0KCQl0eXBlb2YgbGVuZ3RoID09PSAibnVtYmVyIiAm
JiBsZW5ndGggPiAwICYmICggbGVuZ3RoIC0gMSApIGluIG9iajsNCn0NCnZhciBTaXp6bGUgPQ0K
LyohDQogKiBTaXp6bGUgQ1NTIFNlbGVjdG9yIEVuZ2luZSB2Mi4zLjMNCiAqIGh0dHBzOi8vc2l6
emxlanMuY29tLw0KICoNCiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIg
Y29udHJpYnV0b3JzDQogKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UNCiAqIGh0dHA6
Ly9qcXVlcnkub3JnL2xpY2Vuc2UNCiAqDQogKiBEYXRlOiAyMDE2LTA4LTA4DQogKi8NCihmdW5j
dGlvbiggd2luZG93ICkgew0KDQp2YXIgaSwNCglzdXBwb3J0LA0KCUV4cHIsDQoJZ2V0VGV4dCwN
Cglpc1hNTCwNCgl0b2tlbml6ZSwNCgljb21waWxlLA0KCXNlbGVjdCwNCglvdXRlcm1vc3RDb250
ZXh0LA0KCXNvcnRJbnB1dCwNCgloYXNEdXBsaWNhdGUsDQoNCgkvLyBMb2NhbCBkb2N1bWVudCB2
YXJzDQoJc2V0RG9jdW1lbnQsDQoJZG9jdW1lbnQsDQoJZG9jRWxlbSwNCglkb2N1bWVudElzSFRN
TCwNCglyYnVnZ3lRU0EsDQoJcmJ1Z2d5TWF0Y2hlcywNCgltYXRjaGVzLA0KCWNvbnRhaW5zLA0K
DQoJLy8gSW5zdGFuY2Utc3BlY2lmaWMgZGF0YQ0KCWV4cGFuZG8gPSAic2l6emxlIiArIDEgKiBu
ZXcgRGF0ZSgpLA0KCXByZWZlcnJlZERvYyA9IHdpbmRvdy5kb2N1bWVudCwNCglkaXJydW5zID0g
MCwNCglkb25lID0gMCwNCgljbGFzc0NhY2hlID0gY3JlYXRlQ2FjaGUoKSwNCgl0b2tlbkNhY2hl
ID0gY3JlYXRlQ2FjaGUoKSwNCgljb21waWxlckNhY2hlID0gY3JlYXRlQ2FjaGUoKSwNCglzb3J0
T3JkZXIgPSBmdW5jdGlvbiggYSwgYiApIHsNCgkJaWYgKCBhID09PSBiICkgew0KCQkJaGFzRHVw
bGljYXRlID0gdHJ1ZTsNCgkJfQ0KCQlyZXR1cm4gMDsNCgl9LA0KDQoJLy8gSW5zdGFuY2UgbWV0
aG9kcw0KCWhhc093biA9ICh7fSkuaGFzT3duUHJvcGVydHksDQoJYXJyID0gW10sDQoJcG9wID0g
YXJyLnBvcCwNCglwdXNoX25hdGl2ZSA9IGFyci5wdXNoLA0KCXB1c2ggPSBhcnIucHVzaCwNCglz
bGljZSA9IGFyci5zbGljZSwNCgkvLyBVc2UgYSBzdHJpcHBlZC1kb3duIGluZGV4T2YgYXMgaXQn
cyBmYXN0ZXIgdGhhbiBuYXRpdmUNCgkvLyBodHRwczovL2pzcGVyZi5jb20vdGhvci1pbmRleG9m
LXZzLWZvci81DQoJaW5kZXhPZiA9IGZ1bmN0aW9uKCBsaXN0LCBlbGVtICkgew0KCQl2YXIgaSA9
IDAsDQoJCQlsZW4gPSBsaXN0Lmxlbmd0aDsNCgkJZm9yICggOyBpIDwgbGVuOyBpKysgKSB7DQoJ
CQlpZiAoIGxpc3RbaV0gPT09IGVsZW0gKSB7DQoJCQkJcmV0dXJuIGk7DQoJCQl9DQoJCX0NCgkJ
cmV0dXJuIC0xOw0KCX0sDQoNCglib29sZWFucyA9ICJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1
dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9v
cHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCIsDQoNCgkvLyBSZWd1bGFy
IGV4cHJlc3Npb25zDQoNCgkvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9jc3MzLXNlbGVjdG9ycy8j
d2hpdGVzcGFjZQ0KCXdoaXRlc3BhY2UgPSAiW1xceDIwXFx0XFxyXFxuXFxmXSIsDQoNCgkvLyBo
dHRwOi8vd3d3LnczLm9yZy9UUi9DU1MyMS9zeW5kYXRhLmh0bWwjdmFsdWUtZGVmLWlkZW50aWZp
ZXINCglpZGVudGlmaWVyID0gIig/OlxcXFwufFtcXHctXXxbXlwwLVxceGEwXSkrIiwNCg0KCS8v
IEF0dHJpYnV0ZSBzZWxlY3RvcnM6IGh0dHA6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jYXR0
cmlidXRlLXNlbGVjdG9ycw0KCWF0dHJpYnV0ZXMgPSAiXFxbIiArIHdoaXRlc3BhY2UgKyAiKigi
ICsgaWRlbnRpZmllciArICIpKD86IiArIHdoaXRlc3BhY2UgKw0KCQkvLyBPcGVyYXRvciAoY2Fw
dHVyZSAyKQ0KCQkiKihbKl4kfCF+XT89KSIgKyB3aGl0ZXNwYWNlICsNCgkJLy8gIkF0dHJpYnV0
ZSB2YWx1ZXMgbXVzdCBiZSBDU1MgaWRlbnRpZmllcnMgW2NhcHR1cmUgNV0gb3Igc3RyaW5ncyBb
Y2FwdHVyZSAzIG9yIGNhcHR1cmUgNF0iDQoJCSIqKD86JygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8
XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCJ8KCIgKyBpZGVudGlmaWVyICsgIikpfCkiICsgd2hp
dGVzcGFjZSArDQoJCSIqXFxdIiwNCg0KCXBzZXVkb3MgPSAiOigiICsgaWRlbnRpZmllciArICIp
KD86XFwoKCIgKw0KCQkvLyBUbyByZWR1Y2UgdGhlIG51bWJlciBvZiBzZWxlY3RvcnMgbmVlZGlu
ZyB0b2tlbml6ZSBpbiB0aGUgcHJlRmlsdGVyLCBwcmVmZXIgYXJndW1lbnRzOg0KCQkvLyAxLiBx
dW90ZWQgKGNhcHR1cmUgMzsgY2FwdHVyZSA0IG9yIGNhcHR1cmUgNSkNCgkJIignKCg/OlxcXFwu
fFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcIil8IiArDQoJCS8vIDIuIHNp
bXBsZSAoY2FwdHVyZSA2KQ0KCQkiKCg/OlxcXFwufFteXFxcXCgpW1xcXV18IiArIGF0dHJpYnV0
ZXMgKyAiKSopfCIgKw0KCQkvLyAzLiBhbnl0aGluZyBlbHNlIChjYXB0dXJlIDIpDQoJCSIuKiIg
Kw0KCQkiKVxcKXwpIiwNCg0KCS8vIExlYWRpbmcgYW5kIG5vbi1lc2NhcGVkIHRyYWlsaW5nIHdo
aXRlc3BhY2UsIGNhcHR1cmluZyBzb21lIG5vbi13aGl0ZXNwYWNlIGNoYXJhY3RlcnMgcHJlY2Vk
aW5nIHRoZSBsYXR0ZXINCglyd2hpdGVzcGFjZSA9IG5ldyBSZWdFeHAoIHdoaXRlc3BhY2UgKyAi
KyIsICJnIiApLA0KCXJ0cmltID0gbmV3IFJlZ0V4cCggIl4iICsgd2hpdGVzcGFjZSArICIrfCgo
PzpefFteXFxcXF0pKD86XFxcXC4pKikiICsgd2hpdGVzcGFjZSArICIrJCIsICJnIiApLA0KDQoJ
cmNvbW1hID0gbmV3IFJlZ0V4cCggIl4iICsgd2hpdGVzcGFjZSArICIqLCIgKyB3aGl0ZXNwYWNl
ICsgIioiICksDQoJcmNvbWJpbmF0b3JzID0gbmV3IFJlZ0V4cCggIl4iICsgd2hpdGVzcGFjZSAr
ICIqKFs+K35dfCIgKyB3aGl0ZXNwYWNlICsgIikiICsgd2hpdGVzcGFjZSArICIqIiApLA0KDQoJ
cmF0dHJpYnV0ZVF1b3RlcyA9IG5ldyBSZWdFeHAoICI9IiArIHdoaXRlc3BhY2UgKyAiKihbXlxc
XSdcIl0qPykiICsgd2hpdGVzcGFjZSArICIqXFxdIiwgImciICksDQoNCglycHNldWRvID0gbmV3
IFJlZ0V4cCggcHNldWRvcyApLA0KCXJpZGVudGlmaWVyID0gbmV3IFJlZ0V4cCggIl4iICsgaWRl
bnRpZmllciArICIkIiApLA0KDQoJbWF0Y2hFeHByID0gew0KCQkiSUQiOiBuZXcgUmVnRXhwKCAi
XiMoIiArIGlkZW50aWZpZXIgKyAiKSIgKSwNCgkJIkNMQVNTIjogbmV3IFJlZ0V4cCggIl5cXC4o
IiArIGlkZW50aWZpZXIgKyAiKSIgKSwNCgkJIlRBRyI6IG5ldyBSZWdFeHAoICJeKCIgKyBpZGVu
dGlmaWVyICsgInxbKl0pIiApLA0KCQkiQVRUUiI6IG5ldyBSZWdFeHAoICJeIiArIGF0dHJpYnV0
ZXMgKSwNCgkJIlBTRVVETyI6IG5ldyBSZWdFeHAoICJeIiArIHBzZXVkb3MgKSwNCgkJIkNISUxE
IjogbmV3IFJlZ0V4cCggIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxv
Zi10eXBlKSg/OlxcKCIgKyB3aGl0ZXNwYWNlICsNCgkJCSIqKGV2ZW58b2RkfCgoWystXXwpKFxc
ZCopbnwpIiArIHdoaXRlc3BhY2UgKyAiKig/OihbKy1dfCkiICsgd2hpdGVzcGFjZSArDQoJCQki
KihcXGQrKXwpKSIgKyB3aGl0ZXNwYWNlICsgIipcXCl8KSIsICJpIiApLA0KCQkiYm9vbCI6IG5l
dyBSZWdFeHAoICJeKD86IiArIGJvb2xlYW5zICsgIikkIiwgImkiICksDQoJCS8vIEZvciB1c2Ug
aW4gbGlicmFyaWVzIGltcGxlbWVudGluZyAuaXMoKQ0KCQkvLyBXZSB1c2UgdGhpcyBmb3IgUE9T
IG1hdGNoaW5nIGluIGBzZWxlY3RgDQoJCSJuZWVkc0NvbnRleHQiOiBuZXcgUmVnRXhwKCAiXiIg
KyB3aGl0ZXNwYWNlICsgIipbPit+XXw6KGV2ZW58b2RkfGVxfGd0fGx0fG50aHxmaXJzdHxsYXN0
KSg/OlxcKCIgKw0KCQkJd2hpdGVzcGFjZSArICIqKCg/Oi1cXGQpP1xcZCopIiArIHdoaXRlc3Bh
Y2UgKyAiKlxcKXwpKD89W14tXXwkKSIsICJpIiApDQoJfSwNCg0KCXJpbnB1dHMgPSAvXig/Omlu
cHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLA0KCXJoZWFkZXIgPSAvXmhcZCQvaSwNCg0K
CXJuYXRpdmUgPSAvXltee10rXHtccypcW25hdGl2ZSBcdy8sDQoNCgkvLyBFYXNpbHktcGFyc2Vh
YmxlL3JldHJpZXZhYmxlIElEIG9yIFRBRyBvciBDTEFTUyBzZWxlY3RvcnMNCglycXVpY2tFeHBy
ID0gL14oPzojKFtcdy1dKyl8KFx3Kyl8XC4oW1x3LV0rKSkkLywNCg0KCXJzaWJsaW5nID0gL1sr
fl0vLA0KDQoJLy8gQ1NTIGVzY2FwZXMNCgkvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9DU1MyMS9z
eW5kYXRhLmh0bWwjZXNjYXBlZC1jaGFyYWN0ZXJzDQoJcnVuZXNjYXBlID0gbmV3IFJlZ0V4cCgg
IlxcXFwoW1xcZGEtZl17MSw2fSIgKyB3aGl0ZXNwYWNlICsgIj98KCIgKyB3aGl0ZXNwYWNlICsg
Iil8LikiLCAiaWciICksDQoJZnVuZXNjYXBlID0gZnVuY3Rpb24oIF8sIGVzY2FwZWQsIGVzY2Fw
ZWRXaGl0ZXNwYWNlICkgew0KCQl2YXIgaGlnaCA9ICIweCIgKyBlc2NhcGVkIC0gMHgxMDAwMDsN
CgkJLy8gTmFOIG1lYW5zIG5vbi1jb2RlcG9pbnQNCgkJLy8gU3VwcG9ydDogRmlyZWZveDwyNA0K
CQkvLyBXb3JrYXJvdW5kIGVycm9uZW91cyBudW1lcmljIGludGVycHJldGF0aW9uIG9mICsiMHgi
DQoJCXJldHVybiBoaWdoICE9PSBoaWdoIHx8IGVzY2FwZWRXaGl0ZXNwYWNlID8NCgkJCWVzY2Fw
ZWQgOg0KCQkJaGlnaCA8IDAgPw0KCQkJCS8vIEJNUCBjb2RlcG9pbnQNCgkJCQlTdHJpbmcuZnJv
bUNoYXJDb2RlKCBoaWdoICsgMHgxMDAwMCApIDoNCgkJCQkvLyBTdXBwbGVtZW50YWwgUGxhbmUg
Y29kZXBvaW50IChzdXJyb2dhdGUgcGFpcikNCgkJCQlTdHJpbmcuZnJvbUNoYXJDb2RlKCBoaWdo
ID4+IDEwIHwgMHhEODAwLCBoaWdoICYgMHgzRkYgfCAweERDMDAgKTsNCgl9LA0KDQoJLy8gQ1NT
IHN0cmluZy9pZGVudGlmaWVyIHNlcmlhbGl6YXRpb24NCgkvLyBodHRwczovL2RyYWZ0cy5jc3N3
Zy5vcmcvY3Nzb20vI2NvbW1vbi1zZXJpYWxpemluZy1pZGlvbXMNCglyY3NzZXNjYXBlID0gLyhb
XDAtXHgxZlx4N2ZdfF4tP1xkKXxeLSR8W15cMC1ceDFmXHg3Zi1cdUZGRkZcdy1dL2csDQoJZmNz
c2VzY2FwZSA9IGZ1bmN0aW9uKCBjaCwgYXNDb2RlUG9pbnQgKSB7DQoJCWlmICggYXNDb2RlUG9p
bnQgKSB7DQoNCgkJCS8vIFUrMDAwMCBOVUxMIGJlY29tZXMgVStGRkZEIFJFUExBQ0VNRU5UIENI
QVJBQ1RFUg0KCQkJaWYgKCBjaCA9PT0gIlwwIiApIHsNCgkJCQlyZXR1cm4gIlx1RkZGRCI7DQoJ
CQl9DQoNCgkJCS8vIENvbnRyb2wgY2hhcmFjdGVycyBhbmQgKGRlcGVuZGVudCB1cG9uIHBvc2l0
aW9uKSBudW1iZXJzIGdldCBlc2NhcGVkIGFzIGNvZGUgcG9pbnRzDQoJCQlyZXR1cm4gY2guc2xp
Y2UoIDAsIC0xICkgKyAiXFwiICsgY2guY2hhckNvZGVBdCggY2gubGVuZ3RoIC0gMSApLnRvU3Ry
aW5nKCAxNiApICsgIiAiOw0KCQl9DQoNCgkJLy8gT3RoZXIgcG90ZW50aWFsbHktc3BlY2lhbCBB
U0NJSSBjaGFyYWN0ZXJzIGdldCBiYWNrc2xhc2gtZXNjYXBlZA0KCQlyZXR1cm4gIlxcIiArIGNo
Ow0KCX0sDQoNCgkvLyBVc2VkIGZvciBpZnJhbWVzDQoJLy8gU2VlIHNldERvY3VtZW50KCkNCgkv
LyBSZW1vdmluZyB0aGUgZnVuY3Rpb24gd3JhcHBlciBjYXVzZXMgYSAiUGVybWlzc2lvbiBEZW5p
ZWQiDQoJLy8gZXJyb3IgaW4gSUUNCgl1bmxvYWRIYW5kbGVyID0gZnVuY3Rpb24oKSB7DQoJCXNl
dERvY3VtZW50KCk7DQoJfSwNCg0KCWRpc2FibGVkQW5jZXN0b3IgPSBhZGRDb21iaW5hdG9yKA0K
CQlmdW5jdGlvbiggZWxlbSApIHsNCgkJCXJldHVybiBlbGVtLmRpc2FibGVkID09PSB0cnVlICYm
ICgiZm9ybSIgaW4gZWxlbSB8fCAibGFiZWwiIGluIGVsZW0pOw0KCQl9LA0KCQl7IGRpcjogInBh
cmVudE5vZGUiLCBuZXh0OiAibGVnZW5kIiB9DQoJKTsNCg0KLy8gT3B0aW1pemUgZm9yIHB1c2gu
YXBwbHkoIF8sIE5vZGVMaXN0ICkNCnRyeSB7DQoJcHVzaC5hcHBseSgNCgkJKGFyciA9IHNsaWNl
LmNhbGwoIHByZWZlcnJlZERvYy5jaGlsZE5vZGVzICkpLA0KCQlwcmVmZXJyZWREb2MuY2hpbGRO
b2Rlcw0KCSk7DQoJLy8gU3VwcG9ydDogQW5kcm9pZDw0LjANCgkvLyBEZXRlY3Qgc2lsZW50bHkg
ZmFpbGluZyBwdXNoLmFwcGx5DQoJYXJyWyBwcmVmZXJyZWREb2MuY2hpbGROb2Rlcy5sZW5ndGgg
XS5ub2RlVHlwZTsNCn0gY2F0Y2ggKCBlICkgew0KCXB1c2ggPSB7IGFwcGx5OiBhcnIubGVuZ3Ro
ID8NCg0KCQkvLyBMZXZlcmFnZSBzbGljZSBpZiBwb3NzaWJsZQ0KCQlmdW5jdGlvbiggdGFyZ2V0
LCBlbHMgKSB7DQoJCQlwdXNoX25hdGl2ZS5hcHBseSggdGFyZ2V0LCBzbGljZS5jYWxsKGVscykg
KTsNCgkJfSA6DQoNCgkJLy8gU3VwcG9ydDogSUU8OQ0KCQkvLyBPdGhlcndpc2UgYXBwZW5kIGRp
cmVjdGx5DQoJCWZ1bmN0aW9uKCB0YXJnZXQsIGVscyApIHsNCgkJCXZhciBqID0gdGFyZ2V0Lmxl
bmd0aCwNCgkJCQlpID0gMDsNCgkJCS8vIENhbid0IHRydXN0IE5vZGVMaXN0Lmxlbmd0aA0KCQkJ
d2hpbGUgKCAodGFyZ2V0W2orK10gPSBlbHNbaSsrXSkgKSB7fQ0KCQkJdGFyZ2V0Lmxlbmd0aCA9
IGogLSAxOw0KCQl9DQoJfTsNCn0NCg0KZnVuY3Rpb24gU2l6emxlKCBzZWxlY3RvciwgY29udGV4
dCwgcmVzdWx0cywgc2VlZCApIHsNCgl2YXIgbSwgaSwgZWxlbSwgbmlkLCBtYXRjaCwgZ3JvdXBz
LCBuZXdTZWxlY3RvciwNCgkJbmV3Q29udGV4dCA9IGNvbnRleHQgJiYgY29udGV4dC5vd25lckRv
Y3VtZW50LA0KDQoJCS8vIG5vZGVUeXBlIGRlZmF1bHRzIHRvIDksIHNpbmNlIGNvbnRleHQgZGVm
YXVsdHMgdG8gZG9jdW1lbnQNCgkJbm9kZVR5cGUgPSBjb250ZXh0ID8gY29udGV4dC5ub2RlVHlw
ZSA6IDk7DQoNCglyZXN1bHRzID0gcmVzdWx0cyB8fCBbXTsNCg0KCS8vIFJldHVybiBlYXJseSBm
cm9tIGNhbGxzIHdpdGggaW52YWxpZCBzZWxlY3RvciBvciBjb250ZXh0DQoJaWYgKCB0eXBlb2Yg
c2VsZWN0b3IgIT09ICJzdHJpbmciIHx8ICFzZWxlY3RvciB8fA0KCQlub2RlVHlwZSAhPT0gMSAm
JiBub2RlVHlwZSAhPT0gOSAmJiBub2RlVHlwZSAhPT0gMTEgKSB7DQoNCgkJcmV0dXJuIHJlc3Vs
dHM7DQoJfQ0KDQoJLy8gVHJ5IHRvIHNob3J0Y3V0IGZpbmQgb3BlcmF0aW9ucyAoYXMgb3Bwb3Nl
ZCB0byBmaWx0ZXJzKSBpbiBIVE1MIGRvY3VtZW50cw0KCWlmICggIXNlZWQgKSB7DQoNCgkJaWYg
KCAoIGNvbnRleHQgPyBjb250ZXh0Lm93bmVyRG9jdW1lbnQgfHwgY29udGV4dCA6IHByZWZlcnJl
ZERvYyApICE9PSBkb2N1bWVudCApIHsNCgkJCXNldERvY3VtZW50KCBjb250ZXh0ICk7DQoJCX0N
CgkJY29udGV4dCA9IGNvbnRleHQgfHwgZG9jdW1lbnQ7DQoNCgkJaWYgKCBkb2N1bWVudElzSFRN
TCApIHsNCg0KCQkJLy8gSWYgdGhlIHNlbGVjdG9yIGlzIHN1ZmZpY2llbnRseSBzaW1wbGUsIHRy
eSB1c2luZyBhICJnZXQqQnkqIiBET00gbWV0aG9kDQoJCQkvLyAoZXhjZXB0aW5nIERvY3VtZW50
RnJhZ21lbnQgY29udGV4dCwgd2hlcmUgdGhlIG1ldGhvZHMgZG9uJ3QgZXhpc3QpDQoJCQlpZiAo
IG5vZGVUeXBlICE9PSAxMSAmJiAobWF0Y2ggPSBycXVpY2tFeHByLmV4ZWMoIHNlbGVjdG9yICkp
ICkgew0KDQoJCQkJLy8gSUQgc2VsZWN0b3INCgkJCQlpZiAoIChtID0gbWF0Y2hbMV0pICkgew0K
DQoJCQkJCS8vIERvY3VtZW50IGNvbnRleHQNCgkJCQkJaWYgKCBub2RlVHlwZSA9PT0gOSApIHsN
CgkJCQkJCWlmICggKGVsZW0gPSBjb250ZXh0LmdldEVsZW1lbnRCeUlkKCBtICkpICkgew0KDQoJ
CQkJCQkJLy8gU3VwcG9ydDogSUUsIE9wZXJhLCBXZWJraXQNCgkJCQkJCQkvLyBUT0RPOiBpZGVu
dGlmeSB2ZXJzaW9ucw0KCQkJCQkJCS8vIGdldEVsZW1lbnRCeUlkIGNhbiBtYXRjaCBlbGVtZW50
cyBieSBuYW1lIGluc3RlYWQgb2YgSUQNCgkJCQkJCQlpZiAoIGVsZW0uaWQgPT09IG0gKSB7DQoJ
CQkJCQkJCXJlc3VsdHMucHVzaCggZWxlbSApOw0KCQkJCQkJCQlyZXR1cm4gcmVzdWx0czsNCgkJ
CQkJCQl9DQoJCQkJCQl9IGVsc2Ugew0KCQkJCQkJCXJldHVybiByZXN1bHRzOw0KCQkJCQkJfQ0K
DQoJCQkJCS8vIEVsZW1lbnQgY29udGV4dA0KCQkJCQl9IGVsc2Ugew0KDQoJCQkJCQkvLyBTdXBw
b3J0OiBJRSwgT3BlcmEsIFdlYmtpdA0KCQkJCQkJLy8gVE9ETzogaWRlbnRpZnkgdmVyc2lvbnMN
CgkJCQkJCS8vIGdldEVsZW1lbnRCeUlkIGNhbiBtYXRjaCBlbGVtZW50cyBieSBuYW1lIGluc3Rl
YWQgb2YgSUQNCgkJCQkJCWlmICggbmV3Q29udGV4dCAmJiAoZWxlbSA9IG5ld0NvbnRleHQuZ2V0
RWxlbWVudEJ5SWQoIG0gKSkgJiYNCgkJCQkJCQljb250YWlucyggY29udGV4dCwgZWxlbSApICYm
DQoJCQkJCQkJZWxlbS5pZCA9PT0gbSApIHsNCg0KCQkJCQkJCXJlc3VsdHMucHVzaCggZWxlbSAp
Ow0KCQkJCQkJCXJldHVybiByZXN1bHRzOw0KCQkJCQkJfQ0KCQkJCQl9DQoNCgkJCQkvLyBUeXBl
IHNlbGVjdG9yDQoJCQkJfSBlbHNlIGlmICggbWF0Y2hbMl0gKSB7DQoJCQkJCXB1c2guYXBwbHko
IHJlc3VsdHMsIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHNlbGVjdG9yICkgKTsNCgkJ
CQkJcmV0dXJuIHJlc3VsdHM7DQoNCgkJCQkvLyBDbGFzcyBzZWxlY3Rvcg0KCQkJCX0gZWxzZSBp
ZiAoIChtID0gbWF0Y2hbM10pICYmIHN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSAmJg0K
CQkJCQljb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgKSB7DQoNCgkJCQkJcHVzaC5hcHBs
eSggcmVzdWx0cywgY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCBtICkgKTsNCgkJCQkJ
cmV0dXJuIHJlc3VsdHM7DQoJCQkJfQ0KCQkJfQ0KDQoJCQkvLyBUYWtlIGFkdmFudGFnZSBvZiBx
dWVyeVNlbGVjdG9yQWxsDQoJCQlpZiAoIHN1cHBvcnQucXNhICYmDQoJCQkJIWNvbXBpbGVyQ2Fj
aGVbIHNlbGVjdG9yICsgIiAiIF0gJiYNCgkJCQkoIXJidWdneVFTQSB8fCAhcmJ1Z2d5UVNBLnRl
c3QoIHNlbGVjdG9yICkpICkgew0KDQoJCQkJaWYgKCBub2RlVHlwZSAhPT0gMSApIHsNCgkJCQkJ
bmV3Q29udGV4dCA9IGNvbnRleHQ7DQoJCQkJCW5ld1NlbGVjdG9yID0gc2VsZWN0b3I7DQoNCgkJ
CQkvLyBxU0EgbG9va3Mgb3V0c2lkZSBFbGVtZW50IGNvbnRleHQsIHdoaWNoIGlzIG5vdCB3aGF0
IHdlIHdhbnQNCgkJCQkvLyBUaGFua3MgdG8gQW5kcmV3IER1cG9udCBmb3IgdGhpcyB3b3JrYXJv
dW5kIHRlY2huaXF1ZQ0KCQkJCS8vIFN1cHBvcnQ6IElFIDw9OA0KCQkJCS8vIEV4Y2x1ZGUgb2Jq
ZWN0IGVsZW1lbnRzDQoJCQkJfSBlbHNlIGlmICggY29udGV4dC5ub2RlTmFtZS50b0xvd2VyQ2Fz
ZSgpICE9PSAib2JqZWN0IiApIHsNCg0KCQkJCQkvLyBDYXB0dXJlIHRoZSBjb250ZXh0IElELCBz
ZXR0aW5nIGl0IGZpcnN0IGlmIG5lY2Vzc2FyeQ0KCQkJCQlpZiAoIChuaWQgPSBjb250ZXh0Lmdl
dEF0dHJpYnV0ZSggImlkIiApKSApIHsNCgkJCQkJCW5pZCA9IG5pZC5yZXBsYWNlKCByY3NzZXNj
YXBlLCBmY3NzZXNjYXBlICk7DQoJCQkJCX0gZWxzZSB7DQoJCQkJCQljb250ZXh0LnNldEF0dHJp
YnV0ZSggImlkIiwgKG5pZCA9IGV4cGFuZG8pICk7DQoJCQkJCX0NCg0KCQkJCQkvLyBQcmVmaXgg
ZXZlcnkgc2VsZWN0b3IgaW4gdGhlIGxpc3QNCgkJCQkJZ3JvdXBzID0gdG9rZW5pemUoIHNlbGVj
dG9yICk7DQoJCQkJCWkgPSBncm91cHMubGVuZ3RoOw0KCQkJCQl3aGlsZSAoIGktLSApIHsNCgkJ
CQkJCWdyb3Vwc1tpXSA9ICIjIiArIG5pZCArICIgIiArIHRvU2VsZWN0b3IoIGdyb3Vwc1tpXSAp
Ow0KCQkJCQl9DQoJCQkJCW5ld1NlbGVjdG9yID0gZ3JvdXBzLmpvaW4oICIsIiApOw0KDQoJCQkJ
CS8vIEV4cGFuZCBjb250ZXh0IGZvciBzaWJsaW5nIHNlbGVjdG9ycw0KCQkJCQluZXdDb250ZXh0
ID0gcnNpYmxpbmcudGVzdCggc2VsZWN0b3IgKSAmJiB0ZXN0Q29udGV4dCggY29udGV4dC5wYXJl
bnROb2RlICkgfHwNCgkJCQkJCWNvbnRleHQ7DQoJCQkJfQ0KDQoJCQkJaWYgKCBuZXdTZWxlY3Rv
ciApIHsNCgkJCQkJdHJ5IHsNCgkJCQkJCXB1c2guYXBwbHkoIHJlc3VsdHMsDQoJCQkJCQkJbmV3
Q29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCBuZXdTZWxlY3RvciApDQoJCQkJCQkpOw0KCQkJCQkJ
cmV0dXJuIHJlc3VsdHM7DQoJCQkJCX0gY2F0Y2ggKCBxc2FFcnJvciApIHsNCgkJCQkJfSBmaW5h
bGx5IHsNCgkJCQkJCWlmICggbmlkID09PSBleHBhbmRvICkgew0KCQkJCQkJCWNvbnRleHQucmVt
b3ZlQXR0cmlidXRlKCAiaWQiICk7DQoJCQkJCQl9DQoJCQkJCX0NCgkJCQl9DQoJCQl9DQoJCX0N
Cgl9DQoNCgkvLyBBbGwgb3RoZXJzDQoJcmV0dXJuIHNlbGVjdCggc2VsZWN0b3IucmVwbGFjZSgg
cnRyaW0sICIkMSIgKSwgY29udGV4dCwgcmVzdWx0cywgc2VlZCApOw0KfQ0KDQovKioNCiAqIENy
ZWF0ZSBrZXktdmFsdWUgY2FjaGVzIG9mIGxpbWl0ZWQgc2l6ZQ0KICogQHJldHVybnMge2Z1bmN0
aW9uKHN0cmluZywgb2JqZWN0KX0gUmV0dXJucyB0aGUgT2JqZWN0IGRhdGEgYWZ0ZXIgc3Rvcmlu
ZyBpdCBvbiBpdHNlbGYgd2l0aA0KICoJcHJvcGVydHkgbmFtZSB0aGUgKHNwYWNlLXN1ZmZpeGVk
KSBzdHJpbmcgYW5kIChpZiB0aGUgY2FjaGUgaXMgbGFyZ2VyIHRoYW4gRXhwci5jYWNoZUxlbmd0
aCkNCiAqCWRlbGV0aW5nIHRoZSBvbGRlc3QgZW50cnkNCiAqLw0KZnVuY3Rpb24gY3JlYXRlQ2Fj
aGUoKSB7DQoJdmFyIGtleXMgPSBbXTsNCg0KCWZ1bmN0aW9uIGNhY2hlKCBrZXksIHZhbHVlICkg
ew0KCQkvLyBVc2UgKGtleSArICIgIikgdG8gYXZvaWQgY29sbGlzaW9uIHdpdGggbmF0aXZlIHBy
b3RvdHlwZSBwcm9wZXJ0aWVzIChzZWUgSXNzdWUgIzE1NykNCgkJaWYgKCBrZXlzLnB1c2goIGtl
eSArICIgIiApID4gRXhwci5jYWNoZUxlbmd0aCApIHsNCgkJCS8vIE9ubHkga2VlcCB0aGUgbW9z
dCByZWNlbnQgZW50cmllcw0KCQkJZGVsZXRlIGNhY2hlWyBrZXlzLnNoaWZ0KCkgXTsNCgkJfQ0K
CQlyZXR1cm4gKGNhY2hlWyBrZXkgKyAiICIgXSA9IHZhbHVlKTsNCgl9DQoJcmV0dXJuIGNhY2hl
Ow0KfQ0KDQovKioNCiAqIE1hcmsgYSBmdW5jdGlvbiBmb3Igc3BlY2lhbCB1c2UgYnkgU2l6emxl
DQogKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gbWFyaw0KICovDQpmdW5j
dGlvbiBtYXJrRnVuY3Rpb24oIGZuICkgew0KCWZuWyBleHBhbmRvIF0gPSB0cnVlOw0KCXJldHVy
biBmbjsNCn0NCg0KLyoqDQogKiBTdXBwb3J0IHRlc3RpbmcgdXNpbmcgYW4gZWxlbWVudA0KICog
QHBhcmFtIHtGdW5jdGlvbn0gZm4gUGFzc2VkIHRoZSBjcmVhdGVkIGVsZW1lbnQgYW5kIHJldHVy
bnMgYSBib29sZWFuIHJlc3VsdA0KICovDQpmdW5jdGlvbiBhc3NlcnQoIGZuICkgew0KCXZhciBl
bCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImZpZWxkc2V0Iik7DQoNCgl0cnkgew0KCQlyZXR1
cm4gISFmbiggZWwgKTsNCgl9IGNhdGNoIChlKSB7DQoJCXJldHVybiBmYWxzZTsNCgl9IGZpbmFs
bHkgew0KCQkvLyBSZW1vdmUgZnJvbSBpdHMgcGFyZW50IGJ5IGRlZmF1bHQNCgkJaWYgKCBlbC5w
YXJlbnROb2RlICkgew0KCQkJZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggZWwgKTsNCgkJfQ0K
CQkvLyByZWxlYXNlIG1lbW9yeSBpbiBJRQ0KCQllbCA9IG51bGw7DQoJfQ0KfQ0KDQovKioNCiAq
IEFkZHMgdGhlIHNhbWUgaGFuZGxlciBmb3IgYWxsIG9mIHRoZSBzcGVjaWZpZWQgYXR0cnMNCiAq
IEBwYXJhbSB7U3RyaW5nfSBhdHRycyBQaXBlLXNlcGFyYXRlZCBsaXN0IG9mIGF0dHJpYnV0ZXMN
CiAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXIgVGhlIG1ldGhvZCB0aGF0IHdpbGwgYmUgYXBw
bGllZA0KICovDQpmdW5jdGlvbiBhZGRIYW5kbGUoIGF0dHJzLCBoYW5kbGVyICkgew0KCXZhciBh
cnIgPSBhdHRycy5zcGxpdCgifCIpLA0KCQlpID0gYXJyLmxlbmd0aDsNCg0KCXdoaWxlICggaS0t
ICkgew0KCQlFeHByLmF0dHJIYW5kbGVbIGFycltpXSBdID0gaGFuZGxlcjsNCgl9DQp9DQoNCi8q
Kg0KICogQ2hlY2tzIGRvY3VtZW50IG9yZGVyIG9mIHR3byBzaWJsaW5ncw0KICogQHBhcmFtIHtF
bGVtZW50fSBhDQogKiBAcGFyYW0ge0VsZW1lbnR9IGINCiAqIEByZXR1cm5zIHtOdW1iZXJ9IFJl
dHVybnMgbGVzcyB0aGFuIDAgaWYgYSBwcmVjZWRlcyBiLCBncmVhdGVyIHRoYW4gMCBpZiBhIGZv
bGxvd3MgYg0KICovDQpmdW5jdGlvbiBzaWJsaW5nQ2hlY2soIGEsIGIgKSB7DQoJdmFyIGN1ciA9
IGIgJiYgYSwNCgkJZGlmZiA9IGN1ciAmJiBhLm5vZGVUeXBlID09PSAxICYmIGIubm9kZVR5cGUg
PT09IDEgJiYNCgkJCWEuc291cmNlSW5kZXggLSBiLnNvdXJjZUluZGV4Ow0KDQoJLy8gVXNlIElF
IHNvdXJjZUluZGV4IGlmIGF2YWlsYWJsZSBvbiBib3RoIG5vZGVzDQoJaWYgKCBkaWZmICkgew0K
CQlyZXR1cm4gZGlmZjsNCgl9DQoNCgkvLyBDaGVjayBpZiBiIGZvbGxvd3MgYQ0KCWlmICggY3Vy
ICkgew0KCQl3aGlsZSAoIChjdXIgPSBjdXIubmV4dFNpYmxpbmcpICkgew0KCQkJaWYgKCBjdXIg
PT09IGIgKSB7DQoJCQkJcmV0dXJuIC0xOw0KCQkJfQ0KCQl9DQoJfQ0KDQoJcmV0dXJuIGEgPyAx
IDogLTE7DQp9DQoNCi8qKg0KICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9z
IGZvciBpbnB1dCB0eXBlcw0KICogQHBhcmFtIHtTdHJpbmd9IHR5cGUNCiAqLw0KZnVuY3Rpb24g
Y3JlYXRlSW5wdXRQc2V1ZG8oIHR5cGUgKSB7DQoJcmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkgew0K
CQl2YXIgbmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsNCgkJcmV0dXJuIG5hbWUg
PT09ICJpbnB1dCIgJiYgZWxlbS50eXBlID09PSB0eXBlOw0KCX07DQp9DQoNCi8qKg0KICogUmV0
dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciBidXR0b25zDQogKiBAcGFyYW0g
e1N0cmluZ30gdHlwZQ0KICovDQpmdW5jdGlvbiBjcmVhdGVCdXR0b25Qc2V1ZG8oIHR5cGUgKSB7
DQoJcmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkgew0KCQl2YXIgbmFtZSA9IGVsZW0ubm9kZU5hbWUu
dG9Mb3dlckNhc2UoKTsNCgkJcmV0dXJuIChuYW1lID09PSAiaW5wdXQiIHx8IG5hbWUgPT09ICJi
dXR0b24iKSAmJiBlbGVtLnR5cGUgPT09IHR5cGU7DQoJfTsNCn0NCg0KLyoqDQogKiBSZXR1cm5z
IGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIDplbmFibGVkLzpkaXNhYmxlZA0KICog
QHBhcmFtIHtCb29sZWFufSBkaXNhYmxlZCB0cnVlIGZvciA6ZGlzYWJsZWQ7IGZhbHNlIGZvciA6
ZW5hYmxlZA0KICovDQpmdW5jdGlvbiBjcmVhdGVEaXNhYmxlZFBzZXVkbyggZGlzYWJsZWQgKSB7
DQoNCgkvLyBLbm93biA6ZGlzYWJsZWQgZmFsc2UgcG9zaXRpdmVzOiBmaWVsZHNldFtkaXNhYmxl
ZF0gPiBsZWdlbmQ6bnRoLW9mLXR5cGUobisyKSA6Y2FuLWRpc2FibGUNCglyZXR1cm4gZnVuY3Rp
b24oIGVsZW0gKSB7DQoNCgkJLy8gT25seSBjZXJ0YWluIGVsZW1lbnRzIGNhbiBtYXRjaCA6ZW5h
YmxlZCBvciA6ZGlzYWJsZWQNCgkJLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0
aXBhZ2Uvc2NyaXB0aW5nLmh0bWwjc2VsZWN0b3ItZW5hYmxlZA0KCQkvLyBodHRwczovL2h0bWwu
c3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zY3JpcHRpbmcuaHRtbCNzZWxlY3Rvci1kaXNhYmxl
ZA0KCQlpZiAoICJmb3JtIiBpbiBlbGVtICkgew0KDQoJCQkvLyBDaGVjayBmb3IgaW5oZXJpdGVk
IGRpc2FibGVkbmVzcyBvbiByZWxldmFudCBub24tZGlzYWJsZWQgZWxlbWVudHM6DQoJCQkvLyAq
IGxpc3RlZCBmb3JtLWFzc29jaWF0ZWQgZWxlbWVudHMgaW4gYSBkaXNhYmxlZCBmaWVsZHNldA0K
CQkJLy8gICBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9mb3Jtcy5odG1s
I2NhdGVnb3J5LWxpc3RlZA0KCQkJLy8gICBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211
bHRpcGFnZS9mb3Jtcy5odG1sI2NvbmNlcHQtZmUtZGlzYWJsZWQNCgkJCS8vICogb3B0aW9uIGVs
ZW1lbnRzIGluIGEgZGlzYWJsZWQgb3B0Z3JvdXANCgkJCS8vICAgaHR0cHM6Ly9odG1sLnNwZWMu
d2hhdHdnLm9yZy9tdWx0aXBhZ2UvZm9ybXMuaHRtbCNjb25jZXB0LW9wdGlvbi1kaXNhYmxlZA0K
CQkJLy8gQWxsIHN1Y2ggZWxlbWVudHMgaGF2ZSBhICJmb3JtIiBwcm9wZXJ0eS4NCgkJCWlmICgg
ZWxlbS5wYXJlbnROb2RlICYmIGVsZW0uZGlzYWJsZWQgPT09IGZhbHNlICkgew0KDQoJCQkJLy8g
T3B0aW9uIGVsZW1lbnRzIGRlZmVyIHRvIGEgcGFyZW50IG9wdGdyb3VwIGlmIHByZXNlbnQNCgkJ
CQlpZiAoICJsYWJlbCIgaW4gZWxlbSApIHsNCgkJCQkJaWYgKCAibGFiZWwiIGluIGVsZW0ucGFy
ZW50Tm9kZSApIHsNCgkJCQkJCXJldHVybiBlbGVtLnBhcmVudE5vZGUuZGlzYWJsZWQgPT09IGRp
c2FibGVkOw0KCQkJCQl9IGVsc2Ugew0KCQkJCQkJcmV0dXJuIGVsZW0uZGlzYWJsZWQgPT09IGRp
c2FibGVkOw0KCQkJCQl9DQoJCQkJfQ0KDQoJCQkJLy8gU3VwcG9ydDogSUUgNiAtIDExDQoJCQkJ
Ly8gVXNlIHRoZSBpc0Rpc2FibGVkIHNob3J0Y3V0IHByb3BlcnR5IHRvIGNoZWNrIGZvciBkaXNh
YmxlZCBmaWVsZHNldCBhbmNlc3RvcnMNCgkJCQlyZXR1cm4gZWxlbS5pc0Rpc2FibGVkID09PSBk
aXNhYmxlZCB8fA0KDQoJCQkJCS8vIFdoZXJlIHRoZXJlIGlzIG5vIGlzRGlzYWJsZWQsIGNoZWNr
IG1hbnVhbGx5DQoJCQkJCS8qIGpzaGludCAtVzAxOCAqLw0KCQkJCQllbGVtLmlzRGlzYWJsZWQg
IT09ICFkaXNhYmxlZCAmJg0KCQkJCQkJZGlzYWJsZWRBbmNlc3RvciggZWxlbSApID09PSBkaXNh
YmxlZDsNCgkJCX0NCg0KCQkJcmV0dXJuIGVsZW0uZGlzYWJsZWQgPT09IGRpc2FibGVkOw0KDQoJ
CS8vIFRyeSB0byB3aW5ub3cgb3V0IGVsZW1lbnRzIHRoYXQgY2FuJ3QgYmUgZGlzYWJsZWQgYmVm
b3JlIHRydXN0aW5nIHRoZSBkaXNhYmxlZCBwcm9wZXJ0eS4NCgkJLy8gU29tZSB2aWN0aW1zIGdl
dCBjYXVnaHQgaW4gb3VyIG5ldCAobGFiZWwsIGxlZ2VuZCwgbWVudSwgdHJhY2spLCBidXQgaXQg
c2hvdWxkbid0DQoJCS8vIGV2ZW4gZXhpc3Qgb24gdGhlbSwgbGV0IGFsb25lIGhhdmUgYSBib29s
ZWFuIHZhbHVlLg0KCQl9IGVsc2UgaWYgKCAibGFiZWwiIGluIGVsZW0gKSB7DQoJCQlyZXR1cm4g
ZWxlbS5kaXNhYmxlZCA9PT0gZGlzYWJsZWQ7DQoJCX0NCg0KCQkvLyBSZW1haW5pbmcgZWxlbWVu
dHMgYXJlIG5laXRoZXIgOmVuYWJsZWQgbm9yIDpkaXNhYmxlZA0KCQlyZXR1cm4gZmFsc2U7DQoJ
fTsNCn0NCg0KLyoqDQogKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9y
IHBvc2l0aW9uYWxzDQogKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbg0KICovDQpmdW5jdGlvbiBjcmVh
dGVQb3NpdGlvbmFsUHNldWRvKCBmbiApIHsNCglyZXR1cm4gbWFya0Z1bmN0aW9uKGZ1bmN0aW9u
KCBhcmd1bWVudCApIHsNCgkJYXJndW1lbnQgPSArYXJndW1lbnQ7DQoJCXJldHVybiBtYXJrRnVu
Y3Rpb24oZnVuY3Rpb24oIHNlZWQsIG1hdGNoZXMgKSB7DQoJCQl2YXIgaiwNCgkJCQltYXRjaElu
ZGV4ZXMgPSBmbiggW10sIHNlZWQubGVuZ3RoLCBhcmd1bWVudCApLA0KCQkJCWkgPSBtYXRjaElu
ZGV4ZXMubGVuZ3RoOw0KDQoJCQkvLyBNYXRjaCBlbGVtZW50cyBmb3VuZCBhdCB0aGUgc3BlY2lm
aWVkIGluZGV4ZXMNCgkJCXdoaWxlICggaS0tICkgew0KCQkJCWlmICggc2VlZFsgKGogPSBtYXRj
aEluZGV4ZXNbaV0pIF0gKSB7DQoJCQkJCXNlZWRbal0gPSAhKG1hdGNoZXNbal0gPSBzZWVkW2pd
KTsNCgkJCQl9DQoJCQl9DQoJCX0pOw0KCX0pOw0KfQ0KDQovKioNCiAqIENoZWNrcyBhIG5vZGUg
Zm9yIHZhbGlkaXR5IGFzIGEgU2l6emxlIGNvbnRleHQNCiAqIEBwYXJhbSB7RWxlbWVudHxPYmpl
Y3Q9fSBjb250ZXh0DQogKiBAcmV0dXJucyB7RWxlbWVudHxPYmplY3R8Qm9vbGVhbn0gVGhlIGlu
cHV0IG5vZGUgaWYgYWNjZXB0YWJsZSwgb3RoZXJ3aXNlIGEgZmFsc3kgdmFsdWUNCiAqLw0KZnVu
Y3Rpb24gdGVzdENvbnRleHQoIGNvbnRleHQgKSB7DQoJcmV0dXJuIGNvbnRleHQgJiYgdHlwZW9m
IGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09ICJ1bmRlZmluZWQiICYmIGNvbnRleHQ7
DQp9DQoNCi8vIEV4cG9zZSBzdXBwb3J0IHZhcnMgZm9yIGNvbnZlbmllbmNlDQpzdXBwb3J0ID0g
U2l6emxlLnN1cHBvcnQgPSB7fTsNCg0KLyoqDQogKiBEZXRlY3RzIFhNTCBub2Rlcw0KICogQHBh
cmFtIHtFbGVtZW50fE9iamVjdH0gZWxlbSBBbiBlbGVtZW50IG9yIGEgZG9jdW1lbnQNCiAqIEBy
ZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmZiBlbGVtIGlzIGEgbm9uLUhUTUwgWE1MIG5vZGUNCiAq
Lw0KaXNYTUwgPSBTaXp6bGUuaXNYTUwgPSBmdW5jdGlvbiggZWxlbSApIHsNCgkvLyBkb2N1bWVu
dEVsZW1lbnQgaXMgdmVyaWZpZWQgZm9yIGNhc2VzIHdoZXJlIGl0IGRvZXNuJ3QgeWV0IGV4aXN0
DQoJLy8gKHN1Y2ggYXMgbG9hZGluZyBpZnJhbWVzIGluIElFIC0gIzQ4MzMpDQoJdmFyIGRvY3Vt
ZW50RWxlbWVudCA9IGVsZW0gJiYgKGVsZW0ub3duZXJEb2N1bWVudCB8fCBlbGVtKS5kb2N1bWVu
dEVsZW1lbnQ7DQoJcmV0dXJuIGRvY3VtZW50RWxlbWVudCA/IGRvY3VtZW50RWxlbWVudC5ub2Rl
TmFtZSAhPT0gIkhUTUwiIDogZmFsc2U7DQp9Ow0KDQovKioNCiAqIFNldHMgZG9jdW1lbnQtcmVs
YXRlZCB2YXJpYWJsZXMgb25jZSBiYXNlZCBvbiB0aGUgY3VycmVudCBkb2N1bWVudA0KICogQHBh
cmFtIHtFbGVtZW50fE9iamVjdH0gW2RvY10gQW4gZWxlbWVudCBvciBkb2N1bWVudCBvYmplY3Qg
dG8gdXNlIHRvIHNldCB0aGUgZG9jdW1lbnQNCiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMg
dGhlIGN1cnJlbnQgZG9jdW1lbnQNCiAqLw0Kc2V0RG9jdW1lbnQgPSBTaXp6bGUuc2V0RG9jdW1l
bnQgPSBmdW5jdGlvbiggbm9kZSApIHsNCgl2YXIgaGFzQ29tcGFyZSwgc3ViV2luZG93LA0KCQlk
b2MgPSBub2RlID8gbm9kZS5vd25lckRvY3VtZW50IHx8IG5vZGUgOiBwcmVmZXJyZWREb2M7DQoN
CgkvLyBSZXR1cm4gZWFybHkgaWYgZG9jIGlzIGludmFsaWQgb3IgYWxyZWFkeSBzZWxlY3RlZA0K
CWlmICggZG9jID09PSBkb2N1bWVudCB8fCBkb2Mubm9kZVR5cGUgIT09IDkgfHwgIWRvYy5kb2N1
bWVudEVsZW1lbnQgKSB7DQoJCXJldHVybiBkb2N1bWVudDsNCgl9DQoNCgkvLyBVcGRhdGUgZ2xv
YmFsIHZhcmlhYmxlcw0KCWRvY3VtZW50ID0gZG9jOw0KCWRvY0VsZW0gPSBkb2N1bWVudC5kb2N1
bWVudEVsZW1lbnQ7DQoJZG9jdW1lbnRJc0hUTUwgPSAhaXNYTUwoIGRvY3VtZW50ICk7DQoNCgkv
LyBTdXBwb3J0OiBJRSA5LTExLCBFZGdlDQoJLy8gQWNjZXNzaW5nIGlmcmFtZSBkb2N1bWVudHMg
YWZ0ZXIgdW5sb2FkIHRocm93cyAicGVybWlzc2lvbiBkZW5pZWQiIGVycm9ycyAoalF1ZXJ5ICMx
MzkzNikNCglpZiAoIHByZWZlcnJlZERvYyAhPT0gZG9jdW1lbnQgJiYNCgkJKHN1YldpbmRvdyA9
IGRvY3VtZW50LmRlZmF1bHRWaWV3KSAmJiBzdWJXaW5kb3cudG9wICE9PSBzdWJXaW5kb3cgKSB7
DQoNCgkJLy8gU3VwcG9ydDogSUUgMTEsIEVkZ2UNCgkJaWYgKCBzdWJXaW5kb3cuYWRkRXZlbnRM
aXN0ZW5lciApIHsNCgkJCXN1YldpbmRvdy5hZGRFdmVudExpc3RlbmVyKCAidW5sb2FkIiwgdW5s
b2FkSGFuZGxlciwgZmFsc2UgKTsNCg0KCQkvLyBTdXBwb3J0OiBJRSA5IC0gMTAgb25seQ0KCQl9
IGVsc2UgaWYgKCBzdWJXaW5kb3cuYXR0YWNoRXZlbnQgKSB7DQoJCQlzdWJXaW5kb3cuYXR0YWNo
RXZlbnQoICJvbnVubG9hZCIsIHVubG9hZEhhbmRsZXIgKTsNCgkJfQ0KCX0NCg0KCS8qIEF0dHJp
YnV0ZXMNCgktLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tICovDQoNCgkvLyBTdXBwb3J0OiBJRTw4DQoJLy8gVmVyaWZ5
IHRoYXQgZ2V0QXR0cmlidXRlIHJlYWxseSByZXR1cm5zIGF0dHJpYnV0ZXMgYW5kIG5vdCBwcm9w
ZXJ0aWVzDQoJLy8gKGV4Y2VwdGluZyBJRTggYm9vbGVhbnMpDQoJc3VwcG9ydC5hdHRyaWJ1dGVz
ID0gYXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHsNCgkJZWwuY2xhc3NOYW1lID0gImkiOw0KCQlyZXR1
cm4gIWVsLmdldEF0dHJpYnV0ZSgiY2xhc3NOYW1lIik7DQoJfSk7DQoNCgkvKiBnZXRFbGVtZW50
KHMpQnkqDQoJLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLw0KDQoJLy8gQ2hlY2sgaWYgZ2V0RWxlbWVudHNCeVRh
Z05hbWUoIioiKSByZXR1cm5zIG9ubHkgZWxlbWVudHMNCglzdXBwb3J0LmdldEVsZW1lbnRzQnlU
YWdOYW1lID0gYXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHsNCgkJZWwuYXBwZW5kQ2hpbGQoIGRvY3Vt
ZW50LmNyZWF0ZUNvbW1lbnQoIiIpICk7DQoJCXJldHVybiAhZWwuZ2V0RWxlbWVudHNCeVRhZ05h
bWUoIioiKS5sZW5ndGg7DQoJfSk7DQoNCgkvLyBTdXBwb3J0OiBJRTw5DQoJc3VwcG9ydC5nZXRF
bGVtZW50c0J5Q2xhc3NOYW1lID0gcm5hdGl2ZS50ZXN0KCBkb2N1bWVudC5nZXRFbGVtZW50c0J5
Q2xhc3NOYW1lICk7DQoNCgkvLyBTdXBwb3J0OiBJRTwxMA0KCS8vIENoZWNrIGlmIGdldEVsZW1l
bnRCeUlkIHJldHVybnMgZWxlbWVudHMgYnkgbmFtZQ0KCS8vIFRoZSBicm9rZW4gZ2V0RWxlbWVu
dEJ5SWQgbWV0aG9kcyBkb24ndCBwaWNrIHVwIHByb2dyYW1tYXRpY2FsbHktc2V0IG5hbWVzLA0K
CS8vIHNvIHVzZSBhIHJvdW5kYWJvdXQgZ2V0RWxlbWVudHNCeU5hbWUgdGVzdA0KCXN1cHBvcnQu
Z2V0QnlJZCA9IGFzc2VydChmdW5jdGlvbiggZWwgKSB7DQoJCWRvY0VsZW0uYXBwZW5kQ2hpbGQo
IGVsICkuaWQgPSBleHBhbmRvOw0KCQlyZXR1cm4gIWRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1l
IHx8ICFkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSggZXhwYW5kbyApLmxlbmd0aDsNCgl9KTsN
Cg0KCS8vIElEIGZpbHRlciBhbmQgZmluZA0KCWlmICggc3VwcG9ydC5nZXRCeUlkICkgew0KCQlF
eHByLmZpbHRlclsiSUQiXSA9IGZ1bmN0aW9uKCBpZCApIHsNCgkJCXZhciBhdHRySWQgPSBpZC5y
ZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApOw0KCQkJcmV0dXJuIGZ1bmN0aW9uKCBlbGVt
ICkgew0KCQkJCXJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSgiaWQiKSA9PT0gYXR0cklkOw0KCQkJ
fTsNCgkJfTsNCgkJRXhwci5maW5kWyJJRCJdID0gZnVuY3Rpb24oIGlkLCBjb250ZXh0ICkgew0K
CQkJaWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50QnlJZCAhPT0gInVuZGVmaW5lZCIgJiYg
ZG9jdW1lbnRJc0hUTUwgKSB7DQoJCQkJdmFyIGVsZW0gPSBjb250ZXh0LmdldEVsZW1lbnRCeUlk
KCBpZCApOw0KCQkJCXJldHVybiBlbGVtID8gWyBlbGVtIF0gOiBbXTsNCgkJCX0NCgkJfTsNCgl9
IGVsc2Ugew0KCQlFeHByLmZpbHRlclsiSUQiXSA9ICBmdW5jdGlvbiggaWQgKSB7DQoJCQl2YXIg
YXR0cklkID0gaWQucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTsNCgkJCXJldHVybiBm
dW5jdGlvbiggZWxlbSApIHsNCgkJCQl2YXIgbm9kZSA9IHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0
ZU5vZGUgIT09ICJ1bmRlZmluZWQiICYmDQoJCQkJCWVsZW0uZ2V0QXR0cmlidXRlTm9kZSgiaWQi
KTsNCgkJCQlyZXR1cm4gbm9kZSAmJiBub2RlLnZhbHVlID09PSBhdHRySWQ7DQoJCQl9Ow0KCQl9
Ow0KDQoJCS8vIFN1cHBvcnQ6IElFIDYgLSA3IG9ubHkNCgkJLy8gZ2V0RWxlbWVudEJ5SWQgaXMg
bm90IHJlbGlhYmxlIGFzIGEgZmluZCBzaG9ydGN1dA0KCQlFeHByLmZpbmRbIklEIl0gPSBmdW5j
dGlvbiggaWQsIGNvbnRleHQgKSB7DQoJCQlpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRC
eUlkICE9PSAidW5kZWZpbmVkIiAmJiBkb2N1bWVudElzSFRNTCApIHsNCgkJCQl2YXIgbm9kZSwg
aSwgZWxlbXMsDQoJCQkJCWVsZW0gPSBjb250ZXh0LmdldEVsZW1lbnRCeUlkKCBpZCApOw0KDQoJ
CQkJaWYgKCBlbGVtICkgew0KDQoJCQkJCS8vIFZlcmlmeSB0aGUgaWQgYXR0cmlidXRlDQoJCQkJ
CW5vZGUgPSBlbGVtLmdldEF0dHJpYnV0ZU5vZGUoImlkIik7DQoJCQkJCWlmICggbm9kZSAmJiBu
b2RlLnZhbHVlID09PSBpZCApIHsNCgkJCQkJCXJldHVybiBbIGVsZW0gXTsNCgkJCQkJfQ0KDQoJ
CQkJCS8vIEZhbGwgYmFjayBvbiBnZXRFbGVtZW50c0J5TmFtZQ0KCQkJCQllbGVtcyA9IGNvbnRl
eHQuZ2V0RWxlbWVudHNCeU5hbWUoIGlkICk7DQoJCQkJCWkgPSAwOw0KCQkJCQl3aGlsZSAoIChl
bGVtID0gZWxlbXNbaSsrXSkgKSB7DQoJCQkJCQlub2RlID0gZWxlbS5nZXRBdHRyaWJ1dGVOb2Rl
KCJpZCIpOw0KCQkJCQkJaWYgKCBub2RlICYmIG5vZGUudmFsdWUgPT09IGlkICkgew0KCQkJCQkJ
CXJldHVybiBbIGVsZW0gXTsNCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCX0NCg0KCQkJCXJldHVybiBb
XTsNCgkJCX0NCgkJfTsNCgl9DQoNCgkvLyBUYWcNCglFeHByLmZpbmRbIlRBRyJdID0gc3VwcG9y
dC5nZXRFbGVtZW50c0J5VGFnTmFtZSA/DQoJCWZ1bmN0aW9uKCB0YWcsIGNvbnRleHQgKSB7DQoJ
CQlpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lICE9PSAidW5kZWZpbmVk
IiApIHsNCgkJCQlyZXR1cm4gY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggdGFnICk7DQoN
CgkJCS8vIERvY3VtZW50RnJhZ21lbnQgbm9kZXMgZG9uJ3QgaGF2ZSBnRUJUTg0KCQkJfSBlbHNl
IGlmICggc3VwcG9ydC5xc2EgKSB7DQoJCQkJcmV0dXJuIGNvbnRleHQucXVlcnlTZWxlY3RvckFs
bCggdGFnICk7DQoJCQl9DQoJCX0gOg0KDQoJCWZ1bmN0aW9uKCB0YWcsIGNvbnRleHQgKSB7DQoJ
CQl2YXIgZWxlbSwNCgkJCQl0bXAgPSBbXSwNCgkJCQlpID0gMCwNCgkJCQkvLyBCeSBoYXBweSBj
b2luY2lkZW5jZSwgYSAoYnJva2VuKSBnRUJUTiBhcHBlYXJzIG9uIERvY3VtZW50RnJhZ21lbnQg
bm9kZXMgdG9vDQoJCQkJcmVzdWx0cyA9IGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHRh
ZyApOw0KDQoJCQkvLyBGaWx0ZXIgb3V0IHBvc3NpYmxlIGNvbW1lbnRzDQoJCQlpZiAoIHRhZyA9
PT0gIioiICkgew0KCQkJCXdoaWxlICggKGVsZW0gPSByZXN1bHRzW2krK10pICkgew0KCQkJCQlp
ZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7DQoJCQkJCQl0bXAucHVzaCggZWxlbSApOw0KCQkJ
CQl9DQoJCQkJfQ0KDQoJCQkJcmV0dXJuIHRtcDsNCgkJCX0NCgkJCXJldHVybiByZXN1bHRzOw0K
CQl9Ow0KDQoJLy8gQ2xhc3MNCglFeHByLmZpbmRbIkNMQVNTIl0gPSBzdXBwb3J0LmdldEVsZW1l
bnRzQnlDbGFzc05hbWUgJiYgZnVuY3Rpb24oIGNsYXNzTmFtZSwgY29udGV4dCApIHsNCgkJaWYg
KCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICE9PSAidW5kZWZpbmVkIiAm
JiBkb2N1bWVudElzSFRNTCApIHsNCgkJCXJldHVybiBjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFz
c05hbWUoIGNsYXNzTmFtZSApOw0KCQl9DQoJfTsNCg0KCS8qIFFTQS9tYXRjaGVzU2VsZWN0b3IN
CgktLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tICovDQoNCgkvLyBRU0EgYW5kIG1hdGNoZXNTZWxlY3RvciBzdXBwb3J0
DQoNCgkvLyBtYXRjaGVzU2VsZWN0b3IoOmFjdGl2ZSkgcmVwb3J0cyBmYWxzZSB3aGVuIHRydWUg
KElFOS9PcGVyYSAxMS41KQ0KCXJidWdneU1hdGNoZXMgPSBbXTsNCg0KCS8vIHFTYSg6Zm9jdXMp
IHJlcG9ydHMgZmFsc2Ugd2hlbiB0cnVlIChDaHJvbWUgMjEpDQoJLy8gV2UgYWxsb3cgdGhpcyBi
ZWNhdXNlIG9mIGEgYnVnIGluIElFOC85IHRoYXQgdGhyb3dzIGFuIGVycm9yDQoJLy8gd2hlbmV2
ZXIgYGRvY3VtZW50LmFjdGl2ZUVsZW1lbnRgIGlzIGFjY2Vzc2VkIG9uIGFuIGlmcmFtZQ0KCS8v
IFNvLCB3ZSBhbGxvdyA6Zm9jdXMgdG8gcGFzcyB0aHJvdWdoIFFTQSBhbGwgdGhlIHRpbWUgdG8g
YXZvaWQgdGhlIElFIGVycm9yDQoJLy8gU2VlIGh0dHBzOi8vYnVncy5qcXVlcnkuY29tL3RpY2tl
dC8xMzM3OA0KCXJidWdneVFTQSA9IFtdOw0KDQoJaWYgKCAoc3VwcG9ydC5xc2EgPSBybmF0aXZl
LnRlc3QoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwgKSkgKSB7DQoJCS8vIEJ1aWxkIFFTQSBy
ZWdleA0KCQkvLyBSZWdleCBzdHJhdGVneSBhZG9wdGVkIGZyb20gRGllZ28gUGVyaW5pDQoJCWFz
c2VydChmdW5jdGlvbiggZWwgKSB7DQoJCQkvLyBTZWxlY3QgaXMgc2V0IHRvIGVtcHR5IHN0cmlu
ZyBvbiBwdXJwb3NlDQoJCQkvLyBUaGlzIGlzIHRvIHRlc3QgSUUncyB0cmVhdG1lbnQgb2Ygbm90
IGV4cGxpY2l0bHkNCgkJCS8vIHNldHRpbmcgYSBib29sZWFuIGNvbnRlbnQgYXR0cmlidXRlLA0K
CQkJLy8gc2luY2UgaXRzIHByZXNlbmNlIHNob3VsZCBiZSBlbm91Z2gNCgkJCS8vIGh0dHBzOi8v
YnVncy5qcXVlcnkuY29tL3RpY2tldC8xMjM1OQ0KCQkJZG9jRWxlbS5hcHBlbmRDaGlsZCggZWwg
KS5pbm5lckhUTUwgPSAiPGEgaWQ9JyIgKyBleHBhbmRvICsgIic+PC9hPiIgKw0KCQkJCSI8c2Vs
ZWN0IGlkPSciICsgZXhwYW5kbyArICItXHJcXCcgbXNhbGxvd2NhcHR1cmU9Jyc+IiArDQoJCQkJ
IjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PC9vcHRpb24+PC9zZWxlY3Q+IjsNCg0KCQkJLy8gU3VwcG9y
dDogSUU4LCBPcGVyYSAxMS0xMi4xNg0KCQkJLy8gTm90aGluZyBzaG91bGQgYmUgc2VsZWN0ZWQg
d2hlbiBlbXB0eSBzdHJpbmdzIGZvbGxvdyBePSBvciAkPSBvciAqPQ0KCQkJLy8gVGhlIHRlc3Qg
YXR0cmlidXRlIG11c3QgYmUgdW5rbm93biBpbiBPcGVyYSBidXQgInNhZmUiIGZvciBXaW5SVA0K
CQkJLy8gaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9pZS9oaDQ2NTM4
OC5hc3B4I2F0dHJpYnV0ZV9zZWN0aW9uDQoJCQlpZiAoIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoIltt
c2FsbG93Y2FwdHVyZV49JyddIikubGVuZ3RoICkgew0KCQkJCXJidWdneVFTQS5wdXNoKCAiWype
JF09IiArIHdoaXRlc3BhY2UgKyAiKig/OicnfFwiXCIpIiApOw0KCQkJfQ0KDQoJCQkvLyBTdXBw
b3J0OiBJRTgNCgkJCS8vIEJvb2xlYW4gYXR0cmlidXRlcyBhbmQgInZhbHVlIiBhcmUgbm90IHRy
ZWF0ZWQgY29ycmVjdGx5DQoJCQlpZiAoICFlbC5xdWVyeVNlbGVjdG9yQWxsKCJbc2VsZWN0ZWRd
IikubGVuZ3RoICkgew0KCQkJCXJidWdneVFTQS5wdXNoKCAiXFxbIiArIHdoaXRlc3BhY2UgKyAi
Kig/OnZhbHVlfCIgKyBib29sZWFucyArICIpIiApOw0KCQkJfQ0KDQoJCQkvLyBTdXBwb3J0OiBD
aHJvbWU8MjksIEFuZHJvaWQ8NC40LCBTYWZhcmk8Ny4wKywgaU9TPDcuMCssIFBoYW50b21KUzwx
LjkuOCsNCgkJCWlmICggIWVsLnF1ZXJ5U2VsZWN0b3JBbGwoICJbaWR+PSIgKyBleHBhbmRvICsg
Ii1dIiApLmxlbmd0aCApIHsNCgkJCQlyYnVnZ3lRU0EucHVzaCgifj0iKTsNCgkJCX0NCg0KCQkJ
Ly8gV2Via2l0L09wZXJhIC0gOmNoZWNrZWQgc2hvdWxkIHJldHVybiBzZWxlY3RlZCBvcHRpb24g
ZWxlbWVudHMNCgkJCS8vIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMTEvUkVDLWNzczMtc2VsZWN0
b3JzLTIwMTEwOTI5LyNjaGVja2VkDQoJCQkvLyBJRTggdGhyb3dzIGVycm9yIGhlcmUgYW5kIHdp
bGwgbm90IHNlZSBsYXRlciB0ZXN0cw0KCQkJaWYgKCAhZWwucXVlcnlTZWxlY3RvckFsbCgiOmNo
ZWNrZWQiKS5sZW5ndGggKSB7DQoJCQkJcmJ1Z2d5UVNBLnB1c2goIjpjaGVja2VkIik7DQoJCQl9
DQoNCgkJCS8vIFN1cHBvcnQ6IFNhZmFyaSA4KywgaU9TIDgrDQoJCQkvLyBodHRwczovL2J1Z3Mu
d2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTM2ODUxDQoJCQkvLyBJbi1wYWdlIGBzZWxlY3Rv
ciNpZCBzaWJsaW5nLWNvbWJpbmF0b3Igc2VsZWN0b3JgIGZhaWxzDQoJCQlpZiAoICFlbC5xdWVy
eVNlbGVjdG9yQWxsKCAiYSMiICsgZXhwYW5kbyArICIrKiIgKS5sZW5ndGggKSB7DQoJCQkJcmJ1
Z2d5UVNBLnB1c2goIi4jLitbK35dIik7DQoJCQl9DQoJCX0pOw0KDQoJCWFzc2VydChmdW5jdGlv
biggZWwgKSB7DQoJCQllbC5pbm5lckhUTUwgPSAiPGEgaHJlZj0nJyBkaXNhYmxlZD0nZGlzYWJs
ZWQnPjwvYT4iICsNCgkJCQkiPHNlbGVjdCBkaXNhYmxlZD0nZGlzYWJsZWQnPjxvcHRpb24vPjwv
c2VsZWN0PiI7DQoNCgkJCS8vIFN1cHBvcnQ6IFdpbmRvd3MgOCBOYXRpdmUgQXBwcw0KCQkJLy8g
VGhlIHR5cGUgYW5kIG5hbWUgYXR0cmlidXRlcyBhcmUgcmVzdHJpY3RlZCBkdXJpbmcgLmlubmVy
SFRNTCBhc3NpZ25tZW50DQoJCQl2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJp
bnB1dCIpOw0KCQkJaW5wdXQuc2V0QXR0cmlidXRlKCAidHlwZSIsICJoaWRkZW4iICk7DQoJCQll
bC5hcHBlbmRDaGlsZCggaW5wdXQgKS5zZXRBdHRyaWJ1dGUoICJuYW1lIiwgIkQiICk7DQoNCgkJ
CS8vIFN1cHBvcnQ6IElFOA0KCQkJLy8gRW5mb3JjZSBjYXNlLXNlbnNpdGl2aXR5IG9mIG5hbWUg
YXR0cmlidXRlDQoJCQlpZiAoIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoIltuYW1lPWRdIikubGVuZ3Ro
ICkgew0KCQkJCXJidWdneVFTQS5wdXNoKCAibmFtZSIgKyB3aGl0ZXNwYWNlICsgIipbKl4kfCF+
XT89IiApOw0KCQkJfQ0KDQoJCQkvLyBGRiAzLjUgLSA6ZW5hYmxlZC86ZGlzYWJsZWQgYW5kIGhp
ZGRlbiBlbGVtZW50cyAoaGlkZGVuIGVsZW1lbnRzIGFyZSBzdGlsbCBlbmFibGVkKQ0KCQkJLy8g
SUU4IHRocm93cyBlcnJvciBoZXJlIGFuZCB3aWxsIG5vdCBzZWUgbGF0ZXIgdGVzdHMNCgkJCWlm
ICggZWwucXVlcnlTZWxlY3RvckFsbCgiOmVuYWJsZWQiKS5sZW5ndGggIT09IDIgKSB7DQoJCQkJ
cmJ1Z2d5UVNBLnB1c2goICI6ZW5hYmxlZCIsICI6ZGlzYWJsZWQiICk7DQoJCQl9DQoNCgkJCS8v
IFN1cHBvcnQ6IElFOS0xMSsNCgkJCS8vIElFJ3MgOmRpc2FibGVkIHNlbGVjdG9yIGRvZXMgbm90
IHBpY2sgdXAgdGhlIGNoaWxkcmVuIG9mIGRpc2FibGVkIGZpZWxkc2V0cw0KCQkJZG9jRWxlbS5h
cHBlbmRDaGlsZCggZWwgKS5kaXNhYmxlZCA9IHRydWU7DQoJCQlpZiAoIGVsLnF1ZXJ5U2VsZWN0
b3JBbGwoIjpkaXNhYmxlZCIpLmxlbmd0aCAhPT0gMiApIHsNCgkJCQlyYnVnZ3lRU0EucHVzaCgg
IjplbmFibGVkIiwgIjpkaXNhYmxlZCIgKTsNCgkJCX0NCg0KCQkJLy8gT3BlcmEgMTAtMTEgZG9l
cyBub3QgdGhyb3cgb24gcG9zdC1jb21tYSBpbnZhbGlkIHBzZXVkb3MNCgkJCWVsLnF1ZXJ5U2Vs
ZWN0b3JBbGwoIiosOngiKTsNCgkJCXJidWdneVFTQS5wdXNoKCIsLio6Iik7DQoJCX0pOw0KCX0N
Cg0KCWlmICggKHN1cHBvcnQubWF0Y2hlc1NlbGVjdG9yID0gcm5hdGl2ZS50ZXN0KCAobWF0Y2hl
cyA9IGRvY0VsZW0ubWF0Y2hlcyB8fA0KCQlkb2NFbGVtLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8
fA0KCQlkb2NFbGVtLm1vek1hdGNoZXNTZWxlY3RvciB8fA0KCQlkb2NFbGVtLm9NYXRjaGVzU2Vs
ZWN0b3IgfHwNCgkJZG9jRWxlbS5tc01hdGNoZXNTZWxlY3RvcikgKSkgKSB7DQoNCgkJYXNzZXJ0
KGZ1bmN0aW9uKCBlbCApIHsNCgkJCS8vIENoZWNrIHRvIHNlZSBpZiBpdCdzIHBvc3NpYmxlIHRv
IGRvIG1hdGNoZXNTZWxlY3Rvcg0KCQkJLy8gb24gYSBkaXNjb25uZWN0ZWQgbm9kZSAoSUUgOSkN
CgkJCXN1cHBvcnQuZGlzY29ubmVjdGVkTWF0Y2ggPSBtYXRjaGVzLmNhbGwoIGVsLCAiKiIgKTsN
Cg0KCQkJLy8gVGhpcyBzaG91bGQgZmFpbCB3aXRoIGFuIGV4Y2VwdGlvbg0KCQkJLy8gR2Vja28g
ZG9lcyBub3QgZXJyb3IsIHJldHVybnMgZmFsc2UgaW5zdGVhZA0KCQkJbWF0Y2hlcy5jYWxsKCBl
bCwgIltzIT0nJ106eCIgKTsNCgkJCXJidWdneU1hdGNoZXMucHVzaCggIiE9IiwgcHNldWRvcyAp
Ow0KCQl9KTsNCgl9DQoNCglyYnVnZ3lRU0EgPSByYnVnZ3lRU0EubGVuZ3RoICYmIG5ldyBSZWdF
eHAoIHJidWdneVFTQS5qb2luKCJ8IikgKTsNCglyYnVnZ3lNYXRjaGVzID0gcmJ1Z2d5TWF0Y2hl
cy5sZW5ndGggJiYgbmV3IFJlZ0V4cCggcmJ1Z2d5TWF0Y2hlcy5qb2luKCJ8IikgKTsNCg0KCS8q
IENvbnRhaW5zDQoJLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLw0KCWhhc0NvbXBhcmUgPSBybmF0aXZlLnRlc3Qo
IGRvY0VsZW0uY29tcGFyZURvY3VtZW50UG9zaXRpb24gKTsNCg0KCS8vIEVsZW1lbnQgY29udGFp
bnMgYW5vdGhlcg0KCS8vIFB1cnBvc2VmdWxseSBzZWxmLWV4Y2x1c2l2ZQ0KCS8vIEFzIGluLCBh
biBlbGVtZW50IGRvZXMgbm90IGNvbnRhaW4gaXRzZWxmDQoJY29udGFpbnMgPSBoYXNDb21wYXJl
IHx8IHJuYXRpdmUudGVzdCggZG9jRWxlbS5jb250YWlucyApID8NCgkJZnVuY3Rpb24oIGEsIGIg
KSB7DQoJCQl2YXIgYWRvd24gPSBhLm5vZGVUeXBlID09PSA5ID8gYS5kb2N1bWVudEVsZW1lbnQg
OiBhLA0KCQkJCWJ1cCA9IGIgJiYgYi5wYXJlbnROb2RlOw0KCQkJcmV0dXJuIGEgPT09IGJ1cCB8
fCAhISggYnVwICYmIGJ1cC5ub2RlVHlwZSA9PT0gMSAmJiAoDQoJCQkJYWRvd24uY29udGFpbnMg
Pw0KCQkJCQlhZG93bi5jb250YWlucyggYnVwICkgOg0KCQkJCQlhLmNvbXBhcmVEb2N1bWVudFBv
c2l0aW9uICYmIGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGJ1cCApICYgMTYNCgkJCSkpOw0K
CQl9IDoNCgkJZnVuY3Rpb24oIGEsIGIgKSB7DQoJCQlpZiAoIGIgKSB7DQoJCQkJd2hpbGUgKCAo
YiA9IGIucGFyZW50Tm9kZSkgKSB7DQoJCQkJCWlmICggYiA9PT0gYSApIHsNCgkJCQkJCXJldHVy
biB0cnVlOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KCQkJcmV0dXJuIGZhbHNlOw0KCQl9Ow0KDQoJ
LyogU29ydGluZw0KCS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi8NCg0KCS8vIERvY3VtZW50IG9yZGVyIHNvcnRp
bmcNCglzb3J0T3JkZXIgPSBoYXNDb21wYXJlID8NCglmdW5jdGlvbiggYSwgYiApIHsNCg0KCQkv
LyBGbGFnIGZvciBkdXBsaWNhdGUgcmVtb3ZhbA0KCQlpZiAoIGEgPT09IGIgKSB7DQoJCQloYXNE
dXBsaWNhdGUgPSB0cnVlOw0KCQkJcmV0dXJuIDA7DQoJCX0NCg0KCQkvLyBTb3J0IG9uIG1ldGhv
ZCBleGlzdGVuY2UgaWYgb25seSBvbmUgaW5wdXQgaGFzIGNvbXBhcmVEb2N1bWVudFBvc2l0aW9u
DQoJCXZhciBjb21wYXJlID0gIWEuY29tcGFyZURvY3VtZW50UG9zaXRpb24gLSAhYi5jb21wYXJl
RG9jdW1lbnRQb3NpdGlvbjsNCgkJaWYgKCBjb21wYXJlICkgew0KCQkJcmV0dXJuIGNvbXBhcmU7
DQoJCX0NCg0KCQkvLyBDYWxjdWxhdGUgcG9zaXRpb24gaWYgYm90aCBpbnB1dHMgYmVsb25nIHRv
IHRoZSBzYW1lIGRvY3VtZW50DQoJCWNvbXBhcmUgPSAoIGEub3duZXJEb2N1bWVudCB8fCBhICkg
PT09ICggYi5vd25lckRvY3VtZW50IHx8IGIgKSA/DQoJCQlhLmNvbXBhcmVEb2N1bWVudFBvc2l0
aW9uKCBiICkgOg0KDQoJCQkvLyBPdGhlcndpc2Ugd2Uga25vdyB0aGV5IGFyZSBkaXNjb25uZWN0
ZWQNCgkJCTE7DQoNCgkJLy8gRGlzY29ubmVjdGVkIG5vZGVzDQoJCWlmICggY29tcGFyZSAmIDEg
fHwNCgkJCSghc3VwcG9ydC5zb3J0RGV0YWNoZWQgJiYgYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlv
biggYSApID09PSBjb21wYXJlKSApIHsNCg0KCQkJLy8gQ2hvb3NlIHRoZSBmaXJzdCBlbGVtZW50
IHRoYXQgaXMgcmVsYXRlZCB0byBvdXIgcHJlZmVycmVkIGRvY3VtZW50DQoJCQlpZiAoIGEgPT09
IGRvY3VtZW50IHx8IGEub3duZXJEb2N1bWVudCA9PT0gcHJlZmVycmVkRG9jICYmIGNvbnRhaW5z
KHByZWZlcnJlZERvYywgYSkgKSB7DQoJCQkJcmV0dXJuIC0xOw0KCQkJfQ0KCQkJaWYgKCBiID09
PSBkb2N1bWVudCB8fCBiLm93bmVyRG9jdW1lbnQgPT09IHByZWZlcnJlZERvYyAmJiBjb250YWlu
cyhwcmVmZXJyZWREb2MsIGIpICkgew0KCQkJCXJldHVybiAxOw0KCQkJfQ0KDQoJCQkvLyBNYWlu
dGFpbiBvcmlnaW5hbCBvcmRlcg0KCQkJcmV0dXJuIHNvcnRJbnB1dCA/DQoJCQkJKCBpbmRleE9m
KCBzb3J0SW5wdXQsIGEgKSAtIGluZGV4T2YoIHNvcnRJbnB1dCwgYiApICkgOg0KCQkJCTA7DQoJ
CX0NCg0KCQlyZXR1cm4gY29tcGFyZSAmIDQgPyAtMSA6IDE7DQoJfSA6DQoJZnVuY3Rpb24oIGEs
IGIgKSB7DQoJCS8vIEV4aXQgZWFybHkgaWYgdGhlIG5vZGVzIGFyZSBpZGVudGljYWwNCgkJaWYg
KCBhID09PSBiICkgew0KCQkJaGFzRHVwbGljYXRlID0gdHJ1ZTsNCgkJCXJldHVybiAwOw0KCQl9
DQoNCgkJdmFyIGN1ciwNCgkJCWkgPSAwLA0KCQkJYXVwID0gYS5wYXJlbnROb2RlLA0KCQkJYnVw
ID0gYi5wYXJlbnROb2RlLA0KCQkJYXAgPSBbIGEgXSwNCgkJCWJwID0gWyBiIF07DQoNCgkJLy8g
UGFyZW50bGVzcyBub2RlcyBhcmUgZWl0aGVyIGRvY3VtZW50cyBvciBkaXNjb25uZWN0ZWQNCgkJ
aWYgKCAhYXVwIHx8ICFidXAgKSB7DQoJCQlyZXR1cm4gYSA9PT0gZG9jdW1lbnQgPyAtMSA6DQoJ
CQkJYiA9PT0gZG9jdW1lbnQgPyAxIDoNCgkJCQlhdXAgPyAtMSA6DQoJCQkJYnVwID8gMSA6DQoJ
CQkJc29ydElucHV0ID8NCgkJCQkoIGluZGV4T2YoIHNvcnRJbnB1dCwgYSApIC0gaW5kZXhPZigg
c29ydElucHV0LCBiICkgKSA6DQoJCQkJMDsNCg0KCQkvLyBJZiB0aGUgbm9kZXMgYXJlIHNpYmxp
bmdzLCB3ZSBjYW4gZG8gYSBxdWljayBjaGVjaw0KCQl9IGVsc2UgaWYgKCBhdXAgPT09IGJ1cCAp
IHsNCgkJCXJldHVybiBzaWJsaW5nQ2hlY2soIGEsIGIgKTsNCgkJfQ0KDQoJCS8vIE90aGVyd2lz
ZSB3ZSBuZWVkIGZ1bGwgbGlzdHMgb2YgdGhlaXIgYW5jZXN0b3JzIGZvciBjb21wYXJpc29uDQoJ
CWN1ciA9IGE7DQoJCXdoaWxlICggKGN1ciA9IGN1ci5wYXJlbnROb2RlKSApIHsNCgkJCWFwLnVu
c2hpZnQoIGN1ciApOw0KCQl9DQoJCWN1ciA9IGI7DQoJCXdoaWxlICggKGN1ciA9IGN1ci5wYXJl
bnROb2RlKSApIHsNCgkJCWJwLnVuc2hpZnQoIGN1ciApOw0KCQl9DQoNCgkJLy8gV2FsayBkb3du
IHRoZSB0cmVlIGxvb2tpbmcgZm9yIGEgZGlzY3JlcGFuY3kNCgkJd2hpbGUgKCBhcFtpXSA9PT0g
YnBbaV0gKSB7DQoJCQlpKys7DQoJCX0NCg0KCQlyZXR1cm4gaSA/DQoJCQkvLyBEbyBhIHNpYmxp
bmcgY2hlY2sgaWYgdGhlIG5vZGVzIGhhdmUgYSBjb21tb24gYW5jZXN0b3INCgkJCXNpYmxpbmdD
aGVjayggYXBbaV0sIGJwW2ldICkgOg0KDQoJCQkvLyBPdGhlcndpc2Ugbm9kZXMgaW4gb3VyIGRv
Y3VtZW50IHNvcnQgZmlyc3QNCgkJCWFwW2ldID09PSBwcmVmZXJyZWREb2MgPyAtMSA6DQoJCQli
cFtpXSA9PT0gcHJlZmVycmVkRG9jID8gMSA6DQoJCQkwOw0KCX07DQoNCglyZXR1cm4gZG9jdW1l
bnQ7DQp9Ow0KDQpTaXp6bGUubWF0Y2hlcyA9IGZ1bmN0aW9uKCBleHByLCBlbGVtZW50cyApIHsN
CglyZXR1cm4gU2l6emxlKCBleHByLCBudWxsLCBudWxsLCBlbGVtZW50cyApOw0KfTsNCg0KU2l6
emxlLm1hdGNoZXNTZWxlY3RvciA9IGZ1bmN0aW9uKCBlbGVtLCBleHByICkgew0KCS8vIFNldCBk
b2N1bWVudCB2YXJzIGlmIG5lZWRlZA0KCWlmICggKCBlbGVtLm93bmVyRG9jdW1lbnQgfHwgZWxl
bSApICE9PSBkb2N1bWVudCApIHsNCgkJc2V0RG9jdW1lbnQoIGVsZW0gKTsNCgl9DQoNCgkvLyBN
YWtlIHN1cmUgdGhhdCBhdHRyaWJ1dGUgc2VsZWN0b3JzIGFyZSBxdW90ZWQNCglleHByID0gZXhw
ci5yZXBsYWNlKCByYXR0cmlidXRlUXVvdGVzLCAiPSckMSddIiApOw0KDQoJaWYgKCBzdXBwb3J0
Lm1hdGNoZXNTZWxlY3RvciAmJiBkb2N1bWVudElzSFRNTCAmJg0KCQkhY29tcGlsZXJDYWNoZVsg
ZXhwciArICIgIiBdICYmDQoJCSggIXJidWdneU1hdGNoZXMgfHwgIXJidWdneU1hdGNoZXMudGVz
dCggZXhwciApICkgJiYNCgkJKCAhcmJ1Z2d5UVNBICAgICB8fCAhcmJ1Z2d5UVNBLnRlc3QoIGV4
cHIgKSApICkgew0KDQoJCXRyeSB7DQoJCQl2YXIgcmV0ID0gbWF0Y2hlcy5jYWxsKCBlbGVtLCBl
eHByICk7DQoNCgkJCS8vIElFIDkncyBtYXRjaGVzU2VsZWN0b3IgcmV0dXJucyBmYWxzZSBvbiBk
aXNjb25uZWN0ZWQgbm9kZXMNCgkJCWlmICggcmV0IHx8IHN1cHBvcnQuZGlzY29ubmVjdGVkTWF0
Y2ggfHwNCgkJCQkJLy8gQXMgd2VsbCwgZGlzY29ubmVjdGVkIG5vZGVzIGFyZSBzYWlkIHRvIGJl
IGluIGEgZG9jdW1lbnQNCgkJCQkJLy8gZnJhZ21lbnQgaW4gSUUgOQ0KCQkJCQllbGVtLmRvY3Vt
ZW50ICYmIGVsZW0uZG9jdW1lbnQubm9kZVR5cGUgIT09IDExICkgew0KCQkJCXJldHVybiByZXQ7
DQoJCQl9DQoJCX0gY2F0Y2ggKGUpIHt9DQoJfQ0KDQoJcmV0dXJuIFNpenpsZSggZXhwciwgZG9j
dW1lbnQsIG51bGwsIFsgZWxlbSBdICkubGVuZ3RoID4gMDsNCn07DQoNClNpenpsZS5jb250YWlu
cyA9IGZ1bmN0aW9uKCBjb250ZXh0LCBlbGVtICkgew0KCS8vIFNldCBkb2N1bWVudCB2YXJzIGlm
IG5lZWRlZA0KCWlmICggKCBjb250ZXh0Lm93bmVyRG9jdW1lbnQgfHwgY29udGV4dCApICE9PSBk
b2N1bWVudCApIHsNCgkJc2V0RG9jdW1lbnQoIGNvbnRleHQgKTsNCgl9DQoJcmV0dXJuIGNvbnRh
aW5zKCBjb250ZXh0LCBlbGVtICk7DQp9Ow0KDQpTaXp6bGUuYXR0ciA9IGZ1bmN0aW9uKCBlbGVt
LCBuYW1lICkgew0KCS8vIFNldCBkb2N1bWVudCB2YXJzIGlmIG5lZWRlZA0KCWlmICggKCBlbGVt
Lm93bmVyRG9jdW1lbnQgfHwgZWxlbSApICE9PSBkb2N1bWVudCApIHsNCgkJc2V0RG9jdW1lbnQo
IGVsZW0gKTsNCgl9DQoNCgl2YXIgZm4gPSBFeHByLmF0dHJIYW5kbGVbIG5hbWUudG9Mb3dlckNh
c2UoKSBdLA0KCQkvLyBEb24ndCBnZXQgZm9vbGVkIGJ5IE9iamVjdC5wcm90b3R5cGUgcHJvcGVy
dGllcyAoalF1ZXJ5ICMxMzgwNykNCgkJdmFsID0gZm4gJiYgaGFzT3duLmNhbGwoIEV4cHIuYXR0
ckhhbmRsZSwgbmFtZS50b0xvd2VyQ2FzZSgpICkgPw0KCQkJZm4oIGVsZW0sIG5hbWUsICFkb2N1
bWVudElzSFRNTCApIDoNCgkJCXVuZGVmaW5lZDsNCg0KCXJldHVybiB2YWwgIT09IHVuZGVmaW5l
ZCA/DQoJCXZhbCA6DQoJCXN1cHBvcnQuYXR0cmlidXRlcyB8fCAhZG9jdW1lbnRJc0hUTUwgPw0K
CQkJZWxlbS5nZXRBdHRyaWJ1dGUoIG5hbWUgKSA6DQoJCQkodmFsID0gZWxlbS5nZXRBdHRyaWJ1
dGVOb2RlKG5hbWUpKSAmJiB2YWwuc3BlY2lmaWVkID8NCgkJCQl2YWwudmFsdWUgOg0KCQkJCW51
bGw7DQp9Ow0KDQpTaXp6bGUuZXNjYXBlID0gZnVuY3Rpb24oIHNlbCApIHsNCglyZXR1cm4gKHNl
bCArICIiKS5yZXBsYWNlKCByY3NzZXNjYXBlLCBmY3NzZXNjYXBlICk7DQp9Ow0KDQpTaXp6bGUu
ZXJyb3IgPSBmdW5jdGlvbiggbXNnICkgew0KCXRocm93IG5ldyBFcnJvciggIlN5bnRheCBlcnJv
ciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIgKyBtc2cgKTsNCn07DQoNCi8qKg0KICogRG9j
dW1lbnQgc29ydGluZyBhbmQgcmVtb3ZpbmcgZHVwbGljYXRlcw0KICogQHBhcmFtIHtBcnJheUxp
a2V9IHJlc3VsdHMNCiAqLw0KU2l6emxlLnVuaXF1ZVNvcnQgPSBmdW5jdGlvbiggcmVzdWx0cyAp
IHsNCgl2YXIgZWxlbSwNCgkJZHVwbGljYXRlcyA9IFtdLA0KCQlqID0gMCwNCgkJaSA9IDA7DQoN
CgkvLyBVbmxlc3Mgd2UgKmtub3cqIHdlIGNhbiBkZXRlY3QgZHVwbGljYXRlcywgYXNzdW1lIHRo
ZWlyIHByZXNlbmNlDQoJaGFzRHVwbGljYXRlID0gIXN1cHBvcnQuZGV0ZWN0RHVwbGljYXRlczsN
Cglzb3J0SW5wdXQgPSAhc3VwcG9ydC5zb3J0U3RhYmxlICYmIHJlc3VsdHMuc2xpY2UoIDAgKTsN
CglyZXN1bHRzLnNvcnQoIHNvcnRPcmRlciApOw0KDQoJaWYgKCBoYXNEdXBsaWNhdGUgKSB7DQoJ
CXdoaWxlICggKGVsZW0gPSByZXN1bHRzW2krK10pICkgew0KCQkJaWYgKCBlbGVtID09PSByZXN1
bHRzWyBpIF0gKSB7DQoJCQkJaiA9IGR1cGxpY2F0ZXMucHVzaCggaSApOw0KCQkJfQ0KCQl9DQoJ
CXdoaWxlICggai0tICkgew0KCQkJcmVzdWx0cy5zcGxpY2UoIGR1cGxpY2F0ZXNbIGogXSwgMSAp
Ow0KCQl9DQoJfQ0KDQoJLy8gQ2xlYXIgaW5wdXQgYWZ0ZXIgc29ydGluZyB0byByZWxlYXNlIG9i
amVjdHMNCgkvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9zaXp6bGUvcHVsbC8yMjUN
Cglzb3J0SW5wdXQgPSBudWxsOw0KDQoJcmV0dXJuIHJlc3VsdHM7DQp9Ow0KDQovKioNCiAqIFV0
aWxpdHkgZnVuY3Rpb24gZm9yIHJldHJpZXZpbmcgdGhlIHRleHQgdmFsdWUgb2YgYW4gYXJyYXkg
b2YgRE9NIG5vZGVzDQogKiBAcGFyYW0ge0FycmF5fEVsZW1lbnR9IGVsZW0NCiAqLw0KZ2V0VGV4
dCA9IFNpenpsZS5nZXRUZXh0ID0gZnVuY3Rpb24oIGVsZW0gKSB7DQoJdmFyIG5vZGUsDQoJCXJl
dCA9ICIiLA0KCQlpID0gMCwNCgkJbm9kZVR5cGUgPSBlbGVtLm5vZGVUeXBlOw0KDQoJaWYgKCAh
bm9kZVR5cGUgKSB7DQoJCS8vIElmIG5vIG5vZGVUeXBlLCB0aGlzIGlzIGV4cGVjdGVkIHRvIGJl
IGFuIGFycmF5DQoJCXdoaWxlICggKG5vZGUgPSBlbGVtW2krK10pICkgew0KCQkJLy8gRG8gbm90
IHRyYXZlcnNlIGNvbW1lbnQgbm9kZXMNCgkJCXJldCArPSBnZXRUZXh0KCBub2RlICk7DQoJCX0N
Cgl9IGVsc2UgaWYgKCBub2RlVHlwZSA9PT0gMSB8fCBub2RlVHlwZSA9PT0gOSB8fCBub2RlVHlw
ZSA9PT0gMTEgKSB7DQoJCS8vIFVzZSB0ZXh0Q29udGVudCBmb3IgZWxlbWVudHMNCgkJLy8gaW5u
ZXJUZXh0IHVzYWdlIHJlbW92ZWQgZm9yIGNvbnNpc3RlbmN5IG9mIG5ldyBsaW5lcyAoalF1ZXJ5
ICMxMTE1MykNCgkJaWYgKCB0eXBlb2YgZWxlbS50ZXh0Q29udGVudCA9PT0gInN0cmluZyIgKSB7
DQoJCQlyZXR1cm4gZWxlbS50ZXh0Q29udGVudDsNCgkJfSBlbHNlIHsNCgkJCS8vIFRyYXZlcnNl
IGl0cyBjaGlsZHJlbg0KCQkJZm9yICggZWxlbSA9IGVsZW0uZmlyc3RDaGlsZDsgZWxlbTsgZWxl
bSA9IGVsZW0ubmV4dFNpYmxpbmcgKSB7DQoJCQkJcmV0ICs9IGdldFRleHQoIGVsZW0gKTsNCgkJ
CX0NCgkJfQ0KCX0gZWxzZSBpZiAoIG5vZGVUeXBlID09PSAzIHx8IG5vZGVUeXBlID09PSA0ICkg
ew0KCQlyZXR1cm4gZWxlbS5ub2RlVmFsdWU7DQoJfQ0KCS8vIERvIG5vdCBpbmNsdWRlIGNvbW1l
bnQgb3IgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbiBub2Rlcw0KDQoJcmV0dXJuIHJldDsNCn07DQoN
CkV4cHIgPSBTaXp6bGUuc2VsZWN0b3JzID0gew0KDQoJLy8gQ2FuIGJlIGFkanVzdGVkIGJ5IHRo
ZSB1c2VyDQoJY2FjaGVMZW5ndGg6IDUwLA0KDQoJY3JlYXRlUHNldWRvOiBtYXJrRnVuY3Rpb24s
DQoNCgltYXRjaDogbWF0Y2hFeHByLA0KDQoJYXR0ckhhbmRsZToge30sDQoNCglmaW5kOiB7fSwN
Cg0KCXJlbGF0aXZlOiB7DQoJCSI+IjogeyBkaXI6ICJwYXJlbnROb2RlIiwgZmlyc3Q6IHRydWUg
fSwNCgkJIiAiOiB7IGRpcjogInBhcmVudE5vZGUiIH0sDQoJCSIrIjogeyBkaXI6ICJwcmV2aW91
c1NpYmxpbmciLCBmaXJzdDogdHJ1ZSB9LA0KCQkifiI6IHsgZGlyOiAicHJldmlvdXNTaWJsaW5n
IiB9DQoJfSwNCg0KCXByZUZpbHRlcjogew0KCQkiQVRUUiI6IGZ1bmN0aW9uKCBtYXRjaCApIHsN
CgkJCW1hdGNoWzFdID0gbWF0Y2hbMV0ucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTsN
Cg0KCQkJLy8gTW92ZSB0aGUgZ2l2ZW4gdmFsdWUgdG8gbWF0Y2hbM10gd2hldGhlciBxdW90ZWQg
b3IgdW5xdW90ZWQNCgkJCW1hdGNoWzNdID0gKCBtYXRjaFszXSB8fCBtYXRjaFs0XSB8fCBtYXRj
aFs1XSB8fCAiIiApLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7DQoNCgkJCWlmICgg
bWF0Y2hbMl0gPT09ICJ+PSIgKSB7DQoJCQkJbWF0Y2hbM10gPSAiICIgKyBtYXRjaFszXSArICIg
IjsNCgkJCX0NCg0KCQkJcmV0dXJuIG1hdGNoLnNsaWNlKCAwLCA0ICk7DQoJCX0sDQoNCgkJIkNI
SUxEIjogZnVuY3Rpb24oIG1hdGNoICkgew0KCQkJLyogbWF0Y2hlcyBmcm9tIG1hdGNoRXhwclsi
Q0hJTEQiXQ0KCQkJCTEgdHlwZSAob25seXxudGh8Li4uKQ0KCQkJCTIgd2hhdCAoY2hpbGR8b2Yt
dHlwZSkNCgkJCQkzIGFyZ3VtZW50IChldmVufG9kZHxcZCp8XGQqbihbKy1dXGQrKT98Li4uKQ0K
CQkJCTQgeG4tY29tcG9uZW50IG9mIHhuK3kgYXJndW1lbnQgKFsrLV0/XGQqbnwpDQoJCQkJNSBz
aWduIG9mIHhuLWNvbXBvbmVudA0KCQkJCTYgeCBvZiB4bi1jb21wb25lbnQNCgkJCQk3IHNpZ24g
b2YgeS1jb21wb25lbnQNCgkJCQk4IHkgb2YgeS1jb21wb25lbnQNCgkJCSovDQoJCQltYXRjaFsx
XSA9IG1hdGNoWzFdLnRvTG93ZXJDYXNlKCk7DQoNCgkJCWlmICggbWF0Y2hbMV0uc2xpY2UoIDAs
IDMgKSA9PT0gIm50aCIgKSB7DQoJCQkJLy8gbnRoLSogcmVxdWlyZXMgYXJndW1lbnQNCgkJCQlp
ZiAoICFtYXRjaFszXSApIHsNCgkJCQkJU2l6emxlLmVycm9yKCBtYXRjaFswXSApOw0KCQkJCX0N
Cg0KCQkJCS8vIG51bWVyaWMgeCBhbmQgeSBwYXJhbWV0ZXJzIGZvciBFeHByLmZpbHRlci5DSElM
RA0KCQkJCS8vIHJlbWVtYmVyIHRoYXQgZmFsc2UvdHJ1ZSBjYXN0IHJlc3BlY3RpdmVseSB0byAw
LzENCgkJCQltYXRjaFs0XSA9ICsoIG1hdGNoWzRdID8gbWF0Y2hbNV0gKyAobWF0Y2hbNl0gfHwg
MSkgOiAyICogKCBtYXRjaFszXSA9PT0gImV2ZW4iIHx8IG1hdGNoWzNdID09PSAib2RkIiApICk7
DQoJCQkJbWF0Y2hbNV0gPSArKCAoIG1hdGNoWzddICsgbWF0Y2hbOF0gKSB8fCBtYXRjaFszXSA9
PT0gIm9kZCIgKTsNCg0KCQkJLy8gb3RoZXIgdHlwZXMgcHJvaGliaXQgYXJndW1lbnRzDQoJCQl9
IGVsc2UgaWYgKCBtYXRjaFszXSApIHsNCgkJCQlTaXp6bGUuZXJyb3IoIG1hdGNoWzBdICk7DQoJ
CQl9DQoNCgkJCXJldHVybiBtYXRjaDsNCgkJfSwNCg0KCQkiUFNFVURPIjogZnVuY3Rpb24oIG1h
dGNoICkgew0KCQkJdmFyIGV4Y2VzcywNCgkJCQl1bnF1b3RlZCA9ICFtYXRjaFs2XSAmJiBtYXRj
aFsyXTsNCg0KCQkJaWYgKCBtYXRjaEV4cHJbIkNISUxEIl0udGVzdCggbWF0Y2hbMF0gKSApIHsN
CgkJCQlyZXR1cm4gbnVsbDsNCgkJCX0NCg0KCQkJLy8gQWNjZXB0IHF1b3RlZCBhcmd1bWVudHMg
YXMtaXMNCgkJCWlmICggbWF0Y2hbM10gKSB7DQoJCQkJbWF0Y2hbMl0gPSBtYXRjaFs0XSB8fCBt
YXRjaFs1XSB8fCAiIjsNCg0KCQkJLy8gU3RyaXAgZXhjZXNzIGNoYXJhY3RlcnMgZnJvbSB1bnF1
b3RlZCBhcmd1bWVudHMNCgkJCX0gZWxzZSBpZiAoIHVucXVvdGVkICYmIHJwc2V1ZG8udGVzdCgg
dW5xdW90ZWQgKSAmJg0KCQkJCS8vIEdldCBleGNlc3MgZnJvbSB0b2tlbml6ZSAocmVjdXJzaXZl
bHkpDQoJCQkJKGV4Y2VzcyA9IHRva2VuaXplKCB1bnF1b3RlZCwgdHJ1ZSApKSAmJg0KCQkJCS8v
IGFkdmFuY2UgdG8gdGhlIG5leHQgY2xvc2luZyBwYXJlbnRoZXNpcw0KCQkJCShleGNlc3MgPSB1
bnF1b3RlZC5pbmRleE9mKCAiKSIsIHVucXVvdGVkLmxlbmd0aCAtIGV4Y2VzcyApIC0gdW5xdW90
ZWQubGVuZ3RoKSApIHsNCg0KCQkJCS8vIGV4Y2VzcyBpcyBhIG5lZ2F0aXZlIGluZGV4DQoJCQkJ
bWF0Y2hbMF0gPSBtYXRjaFswXS5zbGljZSggMCwgZXhjZXNzICk7DQoJCQkJbWF0Y2hbMl0gPSB1
bnF1b3RlZC5zbGljZSggMCwgZXhjZXNzICk7DQoJCQl9DQoNCgkJCS8vIFJldHVybiBvbmx5IGNh
cHR1cmVzIG5lZWRlZCBieSB0aGUgcHNldWRvIGZpbHRlciBtZXRob2QgKHR5cGUgYW5kIGFyZ3Vt
ZW50KQ0KCQkJcmV0dXJuIG1hdGNoLnNsaWNlKCAwLCAzICk7DQoJCX0NCgl9LA0KDQoJZmlsdGVy
OiB7DQoNCgkJIlRBRyI6IGZ1bmN0aW9uKCBub2RlTmFtZVNlbGVjdG9yICkgew0KCQkJdmFyIG5v
ZGVOYW1lID0gbm9kZU5hbWVTZWxlY3Rvci5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSAp
LnRvTG93ZXJDYXNlKCk7DQoJCQlyZXR1cm4gbm9kZU5hbWVTZWxlY3RvciA9PT0gIioiID8NCgkJ
CQlmdW5jdGlvbigpIHsgcmV0dXJuIHRydWU7IH0gOg0KCQkJCWZ1bmN0aW9uKCBlbGVtICkgew0K
CQkJCQlyZXR1cm4gZWxlbS5ub2RlTmFtZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkg
PT09IG5vZGVOYW1lOw0KCQkJCX07DQoJCX0sDQoNCgkJIkNMQVNTIjogZnVuY3Rpb24oIGNsYXNz
TmFtZSApIHsNCgkJCXZhciBwYXR0ZXJuID0gY2xhc3NDYWNoZVsgY2xhc3NOYW1lICsgIiAiIF07
DQoNCgkJCXJldHVybiBwYXR0ZXJuIHx8DQoJCQkJKHBhdHRlcm4gPSBuZXcgUmVnRXhwKCAiKF58
IiArIHdoaXRlc3BhY2UgKyAiKSIgKyBjbGFzc05hbWUgKyAiKCIgKyB3aGl0ZXNwYWNlICsgInwk
KSIgKSkgJiYNCgkJCQljbGFzc0NhY2hlKCBjbGFzc05hbWUsIGZ1bmN0aW9uKCBlbGVtICkgew0K
CQkJCQlyZXR1cm4gcGF0dGVybi50ZXN0KCB0eXBlb2YgZWxlbS5jbGFzc05hbWUgPT09ICJzdHJp
bmciICYmIGVsZW0uY2xhc3NOYW1lIHx8IHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZSAhPT0gInVu
ZGVmaW5lZCIgJiYgZWxlbS5nZXRBdHRyaWJ1dGUoImNsYXNzIikgfHwgIiIgKTsNCgkJCQl9KTsN
CgkJfSwNCg0KCQkiQVRUUiI6IGZ1bmN0aW9uKCBuYW1lLCBvcGVyYXRvciwgY2hlY2sgKSB7DQoJ
CQlyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7DQoJCQkJdmFyIHJlc3VsdCA9IFNpenpsZS5hdHRy
KCBlbGVtLCBuYW1lICk7DQoNCgkJCQlpZiAoIHJlc3VsdCA9PSBudWxsICkgew0KCQkJCQlyZXR1
cm4gb3BlcmF0b3IgPT09ICIhPSI7DQoJCQkJfQ0KCQkJCWlmICggIW9wZXJhdG9yICkgew0KCQkJ
CQlyZXR1cm4gdHJ1ZTsNCgkJCQl9DQoNCgkJCQlyZXN1bHQgKz0gIiI7DQoNCgkJCQlyZXR1cm4g
b3BlcmF0b3IgPT09ICI9IiA/IHJlc3VsdCA9PT0gY2hlY2sgOg0KCQkJCQlvcGVyYXRvciA9PT0g
IiE9IiA/IHJlc3VsdCAhPT0gY2hlY2sgOg0KCQkJCQlvcGVyYXRvciA9PT0gIl49IiA/IGNoZWNr
ICYmIHJlc3VsdC5pbmRleE9mKCBjaGVjayApID09PSAwIDoNCgkJCQkJb3BlcmF0b3IgPT09ICIq
PSIgPyBjaGVjayAmJiByZXN1bHQuaW5kZXhPZiggY2hlY2sgKSA+IC0xIDoNCgkJCQkJb3BlcmF0
b3IgPT09ICIkPSIgPyBjaGVjayAmJiByZXN1bHQuc2xpY2UoIC1jaGVjay5sZW5ndGggKSA9PT0g
Y2hlY2sgOg0KCQkJCQlvcGVyYXRvciA9PT0gIn49IiA/ICggIiAiICsgcmVzdWx0LnJlcGxhY2Uo
IHJ3aGl0ZXNwYWNlLCAiICIgKSArICIgIiApLmluZGV4T2YoIGNoZWNrICkgPiAtMSA6DQoJCQkJ
CW9wZXJhdG9yID09PSAifD0iID8gcmVzdWx0ID09PSBjaGVjayB8fCByZXN1bHQuc2xpY2UoIDAs
IGNoZWNrLmxlbmd0aCArIDEgKSA9PT0gY2hlY2sgKyAiLSIgOg0KCQkJCQlmYWxzZTsNCgkJCX07
DQoJCX0sDQoNCgkJIkNISUxEIjogZnVuY3Rpb24oIHR5cGUsIHdoYXQsIGFyZ3VtZW50LCBmaXJz
dCwgbGFzdCApIHsNCgkJCXZhciBzaW1wbGUgPSB0eXBlLnNsaWNlKCAwLCAzICkgIT09ICJudGgi
LA0KCQkJCWZvcndhcmQgPSB0eXBlLnNsaWNlKCAtNCApICE9PSAibGFzdCIsDQoJCQkJb2ZUeXBl
ID0gd2hhdCA9PT0gIm9mLXR5cGUiOw0KDQoJCQlyZXR1cm4gZmlyc3QgPT09IDEgJiYgbGFzdCA9
PT0gMCA/DQoNCgkJCQkvLyBTaG9ydGN1dCBmb3IgOm50aC0qKG4pDQoJCQkJZnVuY3Rpb24oIGVs
ZW0gKSB7DQoJCQkJCXJldHVybiAhIWVsZW0ucGFyZW50Tm9kZTsNCgkJCQl9IDoNCg0KCQkJCWZ1
bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7DQoJCQkJCXZhciBjYWNoZSwgdW5pcXVlQ2Fj
aGUsIG91dGVyQ2FjaGUsIG5vZGUsIG5vZGVJbmRleCwgc3RhcnQsDQoJCQkJCQlkaXIgPSBzaW1w
bGUgIT09IGZvcndhcmQgPyAibmV4dFNpYmxpbmciIDogInByZXZpb3VzU2libGluZyIsDQoJCQkJ
CQlwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGUsDQoJCQkJCQluYW1lID0gb2ZUeXBlICYmIGVsZW0u
bm9kZU5hbWUudG9Mb3dlckNhc2UoKSwNCgkJCQkJCXVzZUNhY2hlID0gIXhtbCAmJiAhb2ZUeXBl
LA0KCQkJCQkJZGlmZiA9IGZhbHNlOw0KDQoJCQkJCWlmICggcGFyZW50ICkgew0KDQoJCQkJCQkv
LyA6KGZpcnN0fGxhc3R8b25seSktKGNoaWxkfG9mLXR5cGUpDQoJCQkJCQlpZiAoIHNpbXBsZSAp
IHsNCgkJCQkJCQl3aGlsZSAoIGRpciApIHsNCgkJCQkJCQkJbm9kZSA9IGVsZW07DQoJCQkJCQkJ
CXdoaWxlICggKG5vZGUgPSBub2RlWyBkaXIgXSkgKSB7DQoJCQkJCQkJCQlpZiAoIG9mVHlwZSA/
DQoJCQkJCQkJCQkJbm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lIDoNCgkJCQkJ
CQkJCQlub2RlLm5vZGVUeXBlID09PSAxICkgew0KDQoJCQkJCQkJCQkJcmV0dXJuIGZhbHNlOw0K
CQkJCQkJCQkJfQ0KCQkJCQkJCQl9DQoJCQkJCQkJCS8vIFJldmVyc2UgZGlyZWN0aW9uIGZvciA6
b25seS0qIChpZiB3ZSBoYXZlbid0IHlldCBkb25lIHNvKQ0KCQkJCQkJCQlzdGFydCA9IGRpciA9
IHR5cGUgPT09ICJvbmx5IiAmJiAhc3RhcnQgJiYgIm5leHRTaWJsaW5nIjsNCgkJCQkJCQl9DQoJ
CQkJCQkJcmV0dXJuIHRydWU7DQoJCQkJCQl9DQoNCgkJCQkJCXN0YXJ0ID0gWyBmb3J3YXJkID8g
cGFyZW50LmZpcnN0Q2hpbGQgOiBwYXJlbnQubGFzdENoaWxkIF07DQoNCgkJCQkJCS8vIG5vbi14
bWwgOm50aC1jaGlsZCguLi4pIHN0b3JlcyBjYWNoZSBkYXRhIG9uIGBwYXJlbnRgDQoJCQkJCQlp
ZiAoIGZvcndhcmQgJiYgdXNlQ2FjaGUgKSB7DQoNCgkJCQkJCQkvLyBTZWVrIGBlbGVtYCBmcm9t
IGEgcHJldmlvdXNseS1jYWNoZWQgaW5kZXgNCg0KCQkJCQkJCS8vIC4uLmluIGEgZ3ppcC1mcmll
bmRseSB3YXkNCgkJCQkJCQlub2RlID0gcGFyZW50Ow0KCQkJCQkJCW91dGVyQ2FjaGUgPSBub2Rl
WyBleHBhbmRvIF0gfHwgKG5vZGVbIGV4cGFuZG8gXSA9IHt9KTsNCg0KCQkJCQkJCS8vIFN1cHBv
cnQ6IElFIDw5IG9ubHkNCgkJCQkJCQkvLyBEZWZlbmQgYWdhaW5zdCBjbG9uZWQgYXR0cm9wZXJ0
aWVzIChqUXVlcnkgZ2gtMTcwOSkNCgkJCQkJCQl1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIG5v
ZGUudW5pcXVlSUQgXSB8fA0KCQkJCQkJCQkob3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdID0g
e30pOw0KDQoJCQkJCQkJY2FjaGUgPSB1bmlxdWVDYWNoZVsgdHlwZSBdIHx8IFtdOw0KCQkJCQkJ
CW5vZGVJbmRleCA9IGNhY2hlWyAwIF0gPT09IGRpcnJ1bnMgJiYgY2FjaGVbIDEgXTsNCgkJCQkJ
CQlkaWZmID0gbm9kZUluZGV4ICYmIGNhY2hlWyAyIF07DQoJCQkJCQkJbm9kZSA9IG5vZGVJbmRl
eCAmJiBwYXJlbnQuY2hpbGROb2Rlc1sgbm9kZUluZGV4IF07DQoNCgkJCQkJCQl3aGlsZSAoIChu
b2RlID0gKytub2RlSW5kZXggJiYgbm9kZSAmJiBub2RlWyBkaXIgXSB8fA0KDQoJCQkJCQkJCS8v
IEZhbGxiYWNrIHRvIHNlZWtpbmcgYGVsZW1gIGZyb20gdGhlIHN0YXJ0DQoJCQkJCQkJCShkaWZm
ID0gbm9kZUluZGV4ID0gMCkgfHwgc3RhcnQucG9wKCkpICkgew0KDQoJCQkJCQkJCS8vIFdoZW4g
Zm91bmQsIGNhY2hlIGluZGV4ZXMgb24gYHBhcmVudGAgYW5kIGJyZWFrDQoJCQkJCQkJCWlmICgg
bm9kZS5ub2RlVHlwZSA9PT0gMSAmJiArK2RpZmYgJiYgbm9kZSA9PT0gZWxlbSApIHsNCgkJCQkJ
CQkJCXVuaXF1ZUNhY2hlWyB0eXBlIF0gPSBbIGRpcnJ1bnMsIG5vZGVJbmRleCwgZGlmZiBdOw0K
CQkJCQkJCQkJYnJlYWs7DQoJCQkJCQkJCX0NCgkJCQkJCQl9DQoNCgkJCQkJCX0gZWxzZSB7DQoJ
CQkJCQkJLy8gVXNlIHByZXZpb3VzbHktY2FjaGVkIGVsZW1lbnQgaW5kZXggaWYgYXZhaWxhYmxl
DQoJCQkJCQkJaWYgKCB1c2VDYWNoZSApIHsNCgkJCQkJCQkJLy8gLi4uaW4gYSBnemlwLWZyaWVu
ZGx5IHdheQ0KCQkJCQkJCQlub2RlID0gZWxlbTsNCgkJCQkJCQkJb3V0ZXJDYWNoZSA9IG5vZGVb
IGV4cGFuZG8gXSB8fCAobm9kZVsgZXhwYW5kbyBdID0ge30pOw0KDQoJCQkJCQkJCS8vIFN1cHBv
cnQ6IElFIDw5IG9ubHkNCgkJCQkJCQkJLy8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVy
dGllcyAoalF1ZXJ5IGdoLTE3MDkpDQoJCQkJCQkJCXVuaXF1ZUNhY2hlID0gb3V0ZXJDYWNoZVsg
bm9kZS51bmlxdWVJRCBdIHx8DQoJCQkJCQkJCQkob3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBd
ID0ge30pOw0KDQoJCQkJCQkJCWNhY2hlID0gdW5pcXVlQ2FjaGVbIHR5cGUgXSB8fCBbXTsNCgkJ
CQkJCQkJbm9kZUluZGV4ID0gY2FjaGVbIDAgXSA9PT0gZGlycnVucyAmJiBjYWNoZVsgMSBdOw0K
CQkJCQkJCQlkaWZmID0gbm9kZUluZGV4Ow0KCQkJCQkJCX0NCg0KCQkJCQkJCS8vIHhtbCA6bnRo
LWNoaWxkKC4uLikNCgkJCQkJCQkvLyBvciA6bnRoLWxhc3QtY2hpbGQoLi4uKSBvciA6bnRoKC1s
YXN0KT8tb2YtdHlwZSguLi4pDQoJCQkJCQkJaWYgKCBkaWZmID09PSBmYWxzZSApIHsNCgkJCQkJ
CQkJLy8gVXNlIHRoZSBzYW1lIGxvb3AgYXMgYWJvdmUgdG8gc2VlayBgZWxlbWAgZnJvbSB0aGUg
c3RhcnQNCgkJCQkJCQkJd2hpbGUgKCAobm9kZSA9ICsrbm9kZUluZGV4ICYmIG5vZGUgJiYgbm9k
ZVsgZGlyIF0gfHwNCgkJCQkJCQkJCShkaWZmID0gbm9kZUluZGV4ID0gMCkgfHwgc3RhcnQucG9w
KCkpICkgew0KDQoJCQkJCQkJCQlpZiAoICggb2ZUeXBlID8NCgkJCQkJCQkJCQlub2RlLm5vZGVO
YW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUgOg0KCQkJCQkJCQkJCW5vZGUubm9kZVR5cGUgPT09
IDEgKSAmJg0KCQkJCQkJCQkJCSsrZGlmZiApIHsNCg0KCQkJCQkJCQkJCS8vIENhY2hlIHRoZSBp
bmRleCBvZiBlYWNoIGVuY291bnRlcmVkIGVsZW1lbnQNCgkJCQkJCQkJCQlpZiAoIHVzZUNhY2hl
ICkgew0KCQkJCQkJCQkJCQlvdXRlckNhY2hlID0gbm9kZVsgZXhwYW5kbyBdIHx8IChub2RlWyBl
eHBhbmRvIF0gPSB7fSk7DQoNCgkJCQkJCQkJCQkJLy8gU3VwcG9ydDogSUUgPDkgb25seQ0KCQkJ
CQkJCQkJCQkvLyBEZWZlbmQgYWdhaW5zdCBjbG9uZWQgYXR0cm9wZXJ0aWVzIChqUXVlcnkgZ2gt
MTcwOSkNCgkJCQkJCQkJCQkJdW5pcXVlQ2FjaGUgPSBvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlE
IF0gfHwNCgkJCQkJCQkJCQkJCShvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gPSB7fSk7DQoN
CgkJCQkJCQkJCQkJdW5pcXVlQ2FjaGVbIHR5cGUgXSA9IFsgZGlycnVucywgZGlmZiBdOw0KCQkJ
CQkJCQkJCX0NCg0KCQkJCQkJCQkJCWlmICggbm9kZSA9PT0gZWxlbSApIHsNCgkJCQkJCQkJCQkJ
YnJlYWs7DQoJCQkJCQkJCQkJfQ0KCQkJCQkJCQkJfQ0KCQkJCQkJCQl9DQoJCQkJCQkJfQ0KCQkJ
CQkJfQ0KDQoJCQkJCQkvLyBJbmNvcnBvcmF0ZSB0aGUgb2Zmc2V0LCB0aGVuIGNoZWNrIGFnYWlu
c3QgY3ljbGUgc2l6ZQ0KCQkJCQkJZGlmZiAtPSBsYXN0Ow0KCQkJCQkJcmV0dXJuIGRpZmYgPT09
IGZpcnN0IHx8ICggZGlmZiAlIGZpcnN0ID09PSAwICYmIGRpZmYgLyBmaXJzdCA+PSAwICk7DQoJ
CQkJCX0NCgkJCQl9Ow0KCQl9LA0KDQoJCSJQU0VVRE8iOiBmdW5jdGlvbiggcHNldWRvLCBhcmd1
bWVudCApIHsNCgkJCS8vIHBzZXVkby1jbGFzcyBuYW1lcyBhcmUgY2FzZS1pbnNlbnNpdGl2ZQ0K
CQkJLy8gaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNwc2V1ZG8tY2xhc3Nlcw0KCQkJ
Ly8gUHJpb3JpdGl6ZSBieSBjYXNlIHNlbnNpdGl2aXR5IGluIGNhc2UgY3VzdG9tIHBzZXVkb3Mg
YXJlIGFkZGVkIHdpdGggdXBwZXJjYXNlIGxldHRlcnMNCgkJCS8vIFJlbWVtYmVyIHRoYXQgc2V0
RmlsdGVycyBpbmhlcml0cyBmcm9tIHBzZXVkb3MNCgkJCXZhciBhcmdzLA0KCQkJCWZuID0gRXhw
ci5wc2V1ZG9zWyBwc2V1ZG8gXSB8fCBFeHByLnNldEZpbHRlcnNbIHBzZXVkby50b0xvd2VyQ2Fz
ZSgpIF0gfHwNCgkJCQkJU2l6emxlLmVycm9yKCAidW5zdXBwb3J0ZWQgcHNldWRvOiAiICsgcHNl
dWRvICk7DQoNCgkJCS8vIFRoZSB1c2VyIG1heSB1c2UgY3JlYXRlUHNldWRvIHRvIGluZGljYXRl
IHRoYXQNCgkJCS8vIGFyZ3VtZW50cyBhcmUgbmVlZGVkIHRvIGNyZWF0ZSB0aGUgZmlsdGVyIGZ1
bmN0aW9uDQoJCQkvLyBqdXN0IGFzIFNpenpsZSBkb2VzDQoJCQlpZiAoIGZuWyBleHBhbmRvIF0g
KSB7DQoJCQkJcmV0dXJuIGZuKCBhcmd1bWVudCApOw0KCQkJfQ0KDQoJCQkvLyBCdXQgbWFpbnRh
aW4gc3VwcG9ydCBmb3Igb2xkIHNpZ25hdHVyZXMNCgkJCWlmICggZm4ubGVuZ3RoID4gMSApIHsN
CgkJCQlhcmdzID0gWyBwc2V1ZG8sIHBzZXVkbywgIiIsIGFyZ3VtZW50IF07DQoJCQkJcmV0dXJu
IEV4cHIuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eSggcHNldWRvLnRvTG93ZXJDYXNlKCkgKSA/
DQoJCQkJCW1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VlZCwgbWF0Y2hlcyApIHsNCgkJCQkJCXZh
ciBpZHgsDQoJCQkJCQkJbWF0Y2hlZCA9IGZuKCBzZWVkLCBhcmd1bWVudCApLA0KCQkJCQkJCWkg
PSBtYXRjaGVkLmxlbmd0aDsNCgkJCQkJCXdoaWxlICggaS0tICkgew0KCQkJCQkJCWlkeCA9IGlu
ZGV4T2YoIHNlZWQsIG1hdGNoZWRbaV0gKTsNCgkJCQkJCQlzZWVkWyBpZHggXSA9ICEoIG1hdGNo
ZXNbIGlkeCBdID0gbWF0Y2hlZFtpXSApOw0KCQkJCQkJfQ0KCQkJCQl9KSA6DQoJCQkJCWZ1bmN0
aW9uKCBlbGVtICkgew0KCQkJCQkJcmV0dXJuIGZuKCBlbGVtLCAwLCBhcmdzICk7DQoJCQkJCX07
DQoJCQl9DQoNCgkJCXJldHVybiBmbjsNCgkJfQ0KCX0sDQoNCglwc2V1ZG9zOiB7DQoJCS8vIFBv
dGVudGlhbGx5IGNvbXBsZXggcHNldWRvcw0KCQkibm90IjogbWFya0Z1bmN0aW9uKGZ1bmN0aW9u
KCBzZWxlY3RvciApIHsNCgkJCS8vIFRyaW0gdGhlIHNlbGVjdG9yIHBhc3NlZCB0byBjb21waWxl
DQoJCQkvLyB0byBhdm9pZCB0cmVhdGluZyBsZWFkaW5nIGFuZCB0cmFpbGluZw0KCQkJLy8gc3Bh
Y2VzIGFzIGNvbWJpbmF0b3JzDQoJCQl2YXIgaW5wdXQgPSBbXSwNCgkJCQlyZXN1bHRzID0gW10s
DQoJCQkJbWF0Y2hlciA9IGNvbXBpbGUoIHNlbGVjdG9yLnJlcGxhY2UoIHJ0cmltLCAiJDEiICkg
KTsNCg0KCQkJcmV0dXJuIG1hdGNoZXJbIGV4cGFuZG8gXSA/DQoJCQkJbWFya0Z1bmN0aW9uKGZ1
bmN0aW9uKCBzZWVkLCBtYXRjaGVzLCBjb250ZXh0LCB4bWwgKSB7DQoJCQkJCXZhciBlbGVtLA0K
CQkJCQkJdW5tYXRjaGVkID0gbWF0Y2hlciggc2VlZCwgbnVsbCwgeG1sLCBbXSApLA0KCQkJCQkJ
aSA9IHNlZWQubGVuZ3RoOw0KDQoJCQkJCS8vIE1hdGNoIGVsZW1lbnRzIHVubWF0Y2hlZCBieSBg
bWF0Y2hlcmANCgkJCQkJd2hpbGUgKCBpLS0gKSB7DQoJCQkJCQlpZiAoIChlbGVtID0gdW5tYXRj
aGVkW2ldKSApIHsNCgkJCQkJCQlzZWVkW2ldID0gIShtYXRjaGVzW2ldID0gZWxlbSk7DQoJCQkJ
CQl9DQoJCQkJCX0NCgkJCQl9KSA6DQoJCQkJZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCAp
IHsNCgkJCQkJaW5wdXRbMF0gPSBlbGVtOw0KCQkJCQltYXRjaGVyKCBpbnB1dCwgbnVsbCwgeG1s
LCByZXN1bHRzICk7DQoJCQkJCS8vIERvbid0IGtlZXAgdGhlIGVsZW1lbnQgKGlzc3VlICMyOTkp
DQoJCQkJCWlucHV0WzBdID0gbnVsbDsNCgkJCQkJcmV0dXJuICFyZXN1bHRzLnBvcCgpOw0KCQkJ
CX07DQoJCX0pLA0KDQoJCSJoYXMiOiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlbGVjdG9yICkg
ew0KCQkJcmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkgew0KCQkJCXJldHVybiBTaXp6bGUoIHNlbGVj
dG9yLCBlbGVtICkubGVuZ3RoID4gMDsNCgkJCX07DQoJCX0pLA0KDQoJCSJjb250YWlucyI6IG1h
cmtGdW5jdGlvbihmdW5jdGlvbiggdGV4dCApIHsNCgkJCXRleHQgPSB0ZXh0LnJlcGxhY2UoIHJ1
bmVzY2FwZSwgZnVuZXNjYXBlICk7DQoJCQlyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7DQoJCQkJ
cmV0dXJuICggZWxlbS50ZXh0Q29udGVudCB8fCBlbGVtLmlubmVyVGV4dCB8fCBnZXRUZXh0KCBl
bGVtICkgKS5pbmRleE9mKCB0ZXh0ICkgPiAtMTsNCgkJCX07DQoJCX0pLA0KDQoJCS8vICJXaGV0
aGVyIGFuIGVsZW1lbnQgaXMgcmVwcmVzZW50ZWQgYnkgYSA6bGFuZygpIHNlbGVjdG9yDQoJCS8v
IGlzIGJhc2VkIHNvbGVseSBvbiB0aGUgZWxlbWVudCdzIGxhbmd1YWdlIHZhbHVlDQoJCS8vIGJl
aW5nIGVxdWFsIHRvIHRoZSBpZGVudGlmaWVyIEMsDQoJCS8vIG9yIGJlZ2lubmluZyB3aXRoIHRo
ZSBpZGVudGlmaWVyIEMgaW1tZWRpYXRlbHkgZm9sbG93ZWQgYnkgIi0iLg0KCQkvLyBUaGUgbWF0
Y2hpbmcgb2YgQyBhZ2FpbnN0IHRoZSBlbGVtZW50J3MgbGFuZ3VhZ2UgdmFsdWUgaXMgcGVyZm9y
bWVkIGNhc2UtaW5zZW5zaXRpdmVseS4NCgkJLy8gVGhlIGlkZW50aWZpZXIgQyBkb2VzIG5vdCBo
YXZlIHRvIGJlIGEgdmFsaWQgbGFuZ3VhZ2UgbmFtZS4iDQoJCS8vIGh0dHA6Ly93d3cudzMub3Jn
L1RSL3NlbGVjdG9ycy8jbGFuZy1wc2V1ZG8NCgkJImxhbmciOiBtYXJrRnVuY3Rpb24oIGZ1bmN0
aW9uKCBsYW5nICkgew0KCQkJLy8gbGFuZyB2YWx1ZSBtdXN0IGJlIGEgdmFsaWQgaWRlbnRpZmll
cg0KCQkJaWYgKCAhcmlkZW50aWZpZXIudGVzdChsYW5nIHx8ICIiKSApIHsNCgkJCQlTaXp6bGUu
ZXJyb3IoICJ1bnN1cHBvcnRlZCBsYW5nOiAiICsgbGFuZyApOw0KCQkJfQ0KCQkJbGFuZyA9IGxh
bmcucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKS50b0xvd2VyQ2FzZSgpOw0KCQkJcmV0
dXJuIGZ1bmN0aW9uKCBlbGVtICkgew0KCQkJCXZhciBlbGVtTGFuZzsNCgkJCQlkbyB7DQoJCQkJ
CWlmICggKGVsZW1MYW5nID0gZG9jdW1lbnRJc0hUTUwgPw0KCQkJCQkJZWxlbS5sYW5nIDoNCgkJ
CQkJCWVsZW0uZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpIHx8IGVsZW0uZ2V0QXR0cmlidXRlKCJs
YW5nIikpICkgew0KDQoJCQkJCQllbGVtTGFuZyA9IGVsZW1MYW5nLnRvTG93ZXJDYXNlKCk7DQoJ
CQkJCQlyZXR1cm4gZWxlbUxhbmcgPT09IGxhbmcgfHwgZWxlbUxhbmcuaW5kZXhPZiggbGFuZyAr
ICItIiApID09PSAwOw0KCQkJCQl9DQoJCQkJfSB3aGlsZSAoIChlbGVtID0gZWxlbS5wYXJlbnRO
b2RlKSAmJiBlbGVtLm5vZGVUeXBlID09PSAxICk7DQoJCQkJcmV0dXJuIGZhbHNlOw0KCQkJfTsN
CgkJfSksDQoNCgkJLy8gTWlzY2VsbGFuZW91cw0KCQkidGFyZ2V0IjogZnVuY3Rpb24oIGVsZW0g
KSB7DQoJCQl2YXIgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbiAmJiB3aW5kb3cubG9jYXRpb24uaGFz
aDsNCgkJCXJldHVybiBoYXNoICYmIGhhc2guc2xpY2UoIDEgKSA9PT0gZWxlbS5pZDsNCgkJfSwN
Cg0KCQkicm9vdCI6IGZ1bmN0aW9uKCBlbGVtICkgew0KCQkJcmV0dXJuIGVsZW0gPT09IGRvY0Vs
ZW07DQoJCX0sDQoNCgkJImZvY3VzIjogZnVuY3Rpb24oIGVsZW0gKSB7DQoJCQlyZXR1cm4gZWxl
bSA9PT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJiAoIWRvY3VtZW50Lmhhc0ZvY3VzIHx8IGRv
Y3VtZW50Lmhhc0ZvY3VzKCkpICYmICEhKGVsZW0udHlwZSB8fCBlbGVtLmhyZWYgfHwgfmVsZW0u
dGFiSW5kZXgpOw0KCQl9LA0KDQoJCS8vIEJvb2xlYW4gcHJvcGVydGllcw0KCQkiZW5hYmxlZCI6
IGNyZWF0ZURpc2FibGVkUHNldWRvKCBmYWxzZSApLA0KCQkiZGlzYWJsZWQiOiBjcmVhdGVEaXNh
YmxlZFBzZXVkbyggdHJ1ZSApLA0KDQoJCSJjaGVja2VkIjogZnVuY3Rpb24oIGVsZW0gKSB7DQoJ
CQkvLyBJbiBDU1MzLCA6Y2hlY2tlZCBzaG91bGQgcmV0dXJuIGJvdGggY2hlY2tlZCBhbmQgc2Vs
ZWN0ZWQgZWxlbWVudHMNCgkJCS8vIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMTEvUkVDLWNzczMt
c2VsZWN0b3JzLTIwMTEwOTI5LyNjaGVja2VkDQoJCQl2YXIgbm9kZU5hbWUgPSBlbGVtLm5vZGVO
YW1lLnRvTG93ZXJDYXNlKCk7DQoJCQlyZXR1cm4gKG5vZGVOYW1lID09PSAiaW5wdXQiICYmICEh
ZWxlbS5jaGVja2VkKSB8fCAobm9kZU5hbWUgPT09ICJvcHRpb24iICYmICEhZWxlbS5zZWxlY3Rl
ZCk7DQoJCX0sDQoNCgkJInNlbGVjdGVkIjogZnVuY3Rpb24oIGVsZW0gKSB7DQoJCQkvLyBBY2Nl
c3NpbmcgdGhpcyBwcm9wZXJ0eSBtYWtlcyBzZWxlY3RlZC1ieS1kZWZhdWx0DQoJCQkvLyBvcHRp
b25zIGluIFNhZmFyaSB3b3JrIHByb3Blcmx5DQoJCQlpZiAoIGVsZW0ucGFyZW50Tm9kZSApIHsN
CgkJCQllbGVtLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDsNCgkJCX0NCg0KCQkJcmV0dXJuIGVs
ZW0uc2VsZWN0ZWQgPT09IHRydWU7DQoJCX0sDQoNCgkJLy8gQ29udGVudHMNCgkJImVtcHR5Ijog
ZnVuY3Rpb24oIGVsZW0gKSB7DQoJCQkvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMv
I2VtcHR5LXBzZXVkbw0KCQkJLy8gOmVtcHR5IGlzIG5lZ2F0ZWQgYnkgZWxlbWVudCAoMSkgb3Ig
Y29udGVudCBub2RlcyAodGV4dDogMzsgY2RhdGE6IDQ7IGVudGl0eSByZWY6IDUpLA0KCQkJLy8g
ICBidXQgbm90IGJ5IG90aGVycyAoY29tbWVudDogODsgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbjog
NzsgZXRjLikNCgkJCS8vIG5vZGVUeXBlIDwgNiB3b3JrcyBiZWNhdXNlIGF0dHJpYnV0ZXMgKDIp
IGRvIG5vdCBhcHBlYXIgYXMgY2hpbGRyZW4NCgkJCWZvciAoIGVsZW0gPSBlbGVtLmZpcnN0Q2hp
bGQ7IGVsZW07IGVsZW0gPSBlbGVtLm5leHRTaWJsaW5nICkgew0KCQkJCWlmICggZWxlbS5ub2Rl
VHlwZSA8IDYgKSB7DQoJCQkJCXJldHVybiBmYWxzZTsNCgkJCQl9DQoJCQl9DQoJCQlyZXR1cm4g
dHJ1ZTsNCgkJfSwNCg0KCQkicGFyZW50IjogZnVuY3Rpb24oIGVsZW0gKSB7DQoJCQlyZXR1cm4g
IUV4cHIucHNldWRvc1siZW1wdHkiXSggZWxlbSApOw0KCQl9LA0KDQoJCS8vIEVsZW1lbnQvaW5w
dXQgdHlwZXMNCgkJImhlYWRlciI6IGZ1bmN0aW9uKCBlbGVtICkgew0KCQkJcmV0dXJuIHJoZWFk
ZXIudGVzdCggZWxlbS5ub2RlTmFtZSApOw0KCQl9LA0KDQoJCSJpbnB1dCI6IGZ1bmN0aW9uKCBl
bGVtICkgew0KCQkJcmV0dXJuIHJpbnB1dHMudGVzdCggZWxlbS5ub2RlTmFtZSApOw0KCQl9LA0K
DQoJCSJidXR0b24iOiBmdW5jdGlvbiggZWxlbSApIHsNCgkJCXZhciBuYW1lID0gZWxlbS5ub2Rl
TmFtZS50b0xvd2VyQ2FzZSgpOw0KCQkJcmV0dXJuIG5hbWUgPT09ICJpbnB1dCIgJiYgZWxlbS50
eXBlID09PSAiYnV0dG9uIiB8fCBuYW1lID09PSAiYnV0dG9uIjsNCgkJfSwNCg0KCQkidGV4dCI6
IGZ1bmN0aW9uKCBlbGVtICkgew0KCQkJdmFyIGF0dHI7DQoJCQlyZXR1cm4gZWxlbS5ub2RlTmFt
ZS50b0xvd2VyQ2FzZSgpID09PSAiaW5wdXQiICYmDQoJCQkJZWxlbS50eXBlID09PSAidGV4dCIg
JiYNCg0KCQkJCS8vIFN1cHBvcnQ6IElFPDgNCgkJCQkvLyBOZXcgSFRNTDUgYXR0cmlidXRlIHZh
bHVlcyAoZS5nLiwgInNlYXJjaCIpIGFwcGVhciB3aXRoIGVsZW0udHlwZSA9PT0gInRleHQiDQoJ
CQkJKCAoYXR0ciA9IGVsZW0uZ2V0QXR0cmlidXRlKCJ0eXBlIikpID09IG51bGwgfHwgYXR0ci50
b0xvd2VyQ2FzZSgpID09PSAidGV4dCIgKTsNCgkJfSwNCg0KCQkvLyBQb3NpdGlvbi1pbi1jb2xs
ZWN0aW9uDQoJCSJmaXJzdCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oKSB7DQoJ
CQlyZXR1cm4gWyAwIF07DQoJCX0pLA0KDQoJCSJsYXN0IjogY3JlYXRlUG9zaXRpb25hbFBzZXVk
byhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGggKSB7DQoJCQlyZXR1cm4gWyBsZW5ndGgg
LSAxIF07DQoJCX0pLA0KDQoJCSJlcSI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24o
IG1hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHsNCgkJCXJldHVybiBbIGFyZ3VtZW50
IDwgMCA/IGFyZ3VtZW50ICsgbGVuZ3RoIDogYXJndW1lbnQgXTsNCgkJfSksDQoNCgkJImV2ZW4i
OiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCAp
IHsNCgkJCXZhciBpID0gMDsNCgkJCWZvciAoIDsgaSA8IGxlbmd0aDsgaSArPSAyICkgew0KCQkJ
CW1hdGNoSW5kZXhlcy5wdXNoKCBpICk7DQoJCQl9DQoJCQlyZXR1cm4gbWF0Y2hJbmRleGVzOw0K
CQl9KSwNCg0KCQkib2RkIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJ
bmRleGVzLCBsZW5ndGggKSB7DQoJCQl2YXIgaSA9IDE7DQoJCQlmb3IgKCA7IGkgPCBsZW5ndGg7
IGkgKz0gMiApIHsNCgkJCQltYXRjaEluZGV4ZXMucHVzaCggaSApOw0KCQkJfQ0KCQkJcmV0dXJu
IG1hdGNoSW5kZXhlczsNCgkJfSksDQoNCgkJImx0IjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhm
dW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50ICkgew0KCQkJdmFyIGkgPSBh
cmd1bWVudCA8IDAgPyBhcmd1bWVudCArIGxlbmd0aCA6IGFyZ3VtZW50Ow0KCQkJZm9yICggOyAt
LWkgPj0gMDsgKSB7DQoJCQkJbWF0Y2hJbmRleGVzLnB1c2goIGkgKTsNCgkJCX0NCgkJCXJldHVy
biBtYXRjaEluZGV4ZXM7DQoJCX0pLA0KDQoJCSJndCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8o
ZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHsNCgkJCXZhciBpID0g
YXJndW1lbnQgPCAwID8gYXJndW1lbnQgKyBsZW5ndGggOiBhcmd1bWVudDsNCgkJCWZvciAoIDsg
KytpIDwgbGVuZ3RoOyApIHsNCgkJCQltYXRjaEluZGV4ZXMucHVzaCggaSApOw0KCQkJfQ0KCQkJ
cmV0dXJuIG1hdGNoSW5kZXhlczsNCgkJfSkNCgl9DQp9Ow0KDQpFeHByLnBzZXVkb3NbIm50aCJd
ID0gRXhwci5wc2V1ZG9zWyJlcSJdOw0KDQovLyBBZGQgYnV0dG9uL2lucHV0IHR5cGUgcHNldWRv
cw0KZm9yICggaSBpbiB7IHJhZGlvOiB0cnVlLCBjaGVja2JveDogdHJ1ZSwgZmlsZTogdHJ1ZSwg
cGFzc3dvcmQ6IHRydWUsIGltYWdlOiB0cnVlIH0gKSB7DQoJRXhwci5wc2V1ZG9zWyBpIF0gPSBj
cmVhdGVJbnB1dFBzZXVkbyggaSApOw0KfQ0KZm9yICggaSBpbiB7IHN1Ym1pdDogdHJ1ZSwgcmVz
ZXQ6IHRydWUgfSApIHsNCglFeHByLnBzZXVkb3NbIGkgXSA9IGNyZWF0ZUJ1dHRvblBzZXVkbygg
aSApOw0KfQ0KDQovLyBFYXN5IEFQSSBmb3IgY3JlYXRpbmcgbmV3IHNldEZpbHRlcnMNCmZ1bmN0
aW9uIHNldEZpbHRlcnMoKSB7fQ0Kc2V0RmlsdGVycy5wcm90b3R5cGUgPSBFeHByLmZpbHRlcnMg
PSBFeHByLnBzZXVkb3M7DQpFeHByLnNldEZpbHRlcnMgPSBuZXcgc2V0RmlsdGVycygpOw0KDQp0
b2tlbml6ZSA9IFNpenpsZS50b2tlbml6ZSA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgcGFyc2VPbmx5
ICkgew0KCXZhciBtYXRjaGVkLCBtYXRjaCwgdG9rZW5zLCB0eXBlLA0KCQlzb0ZhciwgZ3JvdXBz
LCBwcmVGaWx0ZXJzLA0KCQljYWNoZWQgPSB0b2tlbkNhY2hlWyBzZWxlY3RvciArICIgIiBdOw0K
DQoJaWYgKCBjYWNoZWQgKSB7DQoJCXJldHVybiBwYXJzZU9ubHkgPyAwIDogY2FjaGVkLnNsaWNl
KCAwICk7DQoJfQ0KDQoJc29GYXIgPSBzZWxlY3RvcjsNCglncm91cHMgPSBbXTsNCglwcmVGaWx0
ZXJzID0gRXhwci5wcmVGaWx0ZXI7DQoNCgl3aGlsZSAoIHNvRmFyICkgew0KDQoJCS8vIENvbW1h
IGFuZCBmaXJzdCBydW4NCgkJaWYgKCAhbWF0Y2hlZCB8fCAobWF0Y2ggPSByY29tbWEuZXhlYygg
c29GYXIgKSkgKSB7DQoJCQlpZiAoIG1hdGNoICkgew0KCQkJCS8vIERvbid0IGNvbnN1bWUgdHJh
aWxpbmcgY29tbWFzIGFzIHZhbGlkDQoJCQkJc29GYXIgPSBzb0Zhci5zbGljZSggbWF0Y2hbMF0u
bGVuZ3RoICkgfHwgc29GYXI7DQoJCQl9DQoJCQlncm91cHMucHVzaCggKHRva2VucyA9IFtdKSAp
Ow0KCQl9DQoNCgkJbWF0Y2hlZCA9IGZhbHNlOw0KDQoJCS8vIENvbWJpbmF0b3JzDQoJCWlmICgg
KG1hdGNoID0gcmNvbWJpbmF0b3JzLmV4ZWMoIHNvRmFyICkpICkgew0KCQkJbWF0Y2hlZCA9IG1h
dGNoLnNoaWZ0KCk7DQoJCQl0b2tlbnMucHVzaCh7DQoJCQkJdmFsdWU6IG1hdGNoZWQsDQoJCQkJ
Ly8gQ2FzdCBkZXNjZW5kYW50IGNvbWJpbmF0b3JzIHRvIHNwYWNlDQoJCQkJdHlwZTogbWF0Y2hb
MF0ucmVwbGFjZSggcnRyaW0sICIgIiApDQoJCQl9KTsNCgkJCXNvRmFyID0gc29GYXIuc2xpY2Uo
IG1hdGNoZWQubGVuZ3RoICk7DQoJCX0NCg0KCQkvLyBGaWx0ZXJzDQoJCWZvciAoIHR5cGUgaW4g
RXhwci5maWx0ZXIgKSB7DQoJCQlpZiAoIChtYXRjaCA9IG1hdGNoRXhwclsgdHlwZSBdLmV4ZWMo
IHNvRmFyICkpICYmICghcHJlRmlsdGVyc1sgdHlwZSBdIHx8DQoJCQkJKG1hdGNoID0gcHJlRmls
dGVyc1sgdHlwZSBdKCBtYXRjaCApKSkgKSB7DQoJCQkJbWF0Y2hlZCA9IG1hdGNoLnNoaWZ0KCk7
DQoJCQkJdG9rZW5zLnB1c2goew0KCQkJCQl2YWx1ZTogbWF0Y2hlZCwNCgkJCQkJdHlwZTogdHlw
ZSwNCgkJCQkJbWF0Y2hlczogbWF0Y2gNCgkJCQl9KTsNCgkJCQlzb0ZhciA9IHNvRmFyLnNsaWNl
KCBtYXRjaGVkLmxlbmd0aCApOw0KCQkJfQ0KCQl9DQoNCgkJaWYgKCAhbWF0Y2hlZCApIHsNCgkJ
CWJyZWFrOw0KCQl9DQoJfQ0KDQoJLy8gUmV0dXJuIHRoZSBsZW5ndGggb2YgdGhlIGludmFsaWQg
ZXhjZXNzDQoJLy8gaWYgd2UncmUganVzdCBwYXJzaW5nDQoJLy8gT3RoZXJ3aXNlLCB0aHJvdyBh
biBlcnJvciBvciByZXR1cm4gdG9rZW5zDQoJcmV0dXJuIHBhcnNlT25seSA/DQoJCXNvRmFyLmxl
bmd0aCA6DQoJCXNvRmFyID8NCgkJCVNpenpsZS5lcnJvciggc2VsZWN0b3IgKSA6DQoJCQkvLyBD
YWNoZSB0aGUgdG9rZW5zDQoJCQl0b2tlbkNhY2hlKCBzZWxlY3RvciwgZ3JvdXBzICkuc2xpY2Uo
IDAgKTsNCn07DQoNCmZ1bmN0aW9uIHRvU2VsZWN0b3IoIHRva2VucyApIHsNCgl2YXIgaSA9IDAs
DQoJCWxlbiA9IHRva2Vucy5sZW5ndGgsDQoJCXNlbGVjdG9yID0gIiI7DQoJZm9yICggOyBpIDwg
bGVuOyBpKysgKSB7DQoJCXNlbGVjdG9yICs9IHRva2Vuc1tpXS52YWx1ZTsNCgl9DQoJcmV0dXJu
IHNlbGVjdG9yOw0KfQ0KDQpmdW5jdGlvbiBhZGRDb21iaW5hdG9yKCBtYXRjaGVyLCBjb21iaW5h
dG9yLCBiYXNlICkgew0KCXZhciBkaXIgPSBjb21iaW5hdG9yLmRpciwNCgkJc2tpcCA9IGNvbWJp
bmF0b3IubmV4dCwNCgkJa2V5ID0gc2tpcCB8fCBkaXIsDQoJCWNoZWNrTm9uRWxlbWVudHMgPSBi
YXNlICYmIGtleSA9PT0gInBhcmVudE5vZGUiLA0KCQlkb25lTmFtZSA9IGRvbmUrKzsNCg0KCXJl
dHVybiBjb21iaW5hdG9yLmZpcnN0ID8NCgkJLy8gQ2hlY2sgYWdhaW5zdCBjbG9zZXN0IGFuY2Vz
dG9yL3ByZWNlZGluZyBlbGVtZW50DQoJCWZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7
DQoJCQl3aGlsZSAoIChlbGVtID0gZWxlbVsgZGlyIF0pICkgew0KCQkJCWlmICggZWxlbS5ub2Rl
VHlwZSA9PT0gMSB8fCBjaGVja05vbkVsZW1lbnRzICkgew0KCQkJCQlyZXR1cm4gbWF0Y2hlcigg
ZWxlbSwgY29udGV4dCwgeG1sICk7DQoJCQkJfQ0KCQkJfQ0KCQkJcmV0dXJuIGZhbHNlOw0KCQl9
IDoNCg0KCQkvLyBDaGVjayBhZ2FpbnN0IGFsbCBhbmNlc3Rvci9wcmVjZWRpbmcgZWxlbWVudHMN
CgkJZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHsNCgkJCXZhciBvbGRDYWNoZSwgdW5p
cXVlQ2FjaGUsIG91dGVyQ2FjaGUsDQoJCQkJbmV3Q2FjaGUgPSBbIGRpcnJ1bnMsIGRvbmVOYW1l
IF07DQoNCgkJCS8vIFdlIGNhbid0IHNldCBhcmJpdHJhcnkgZGF0YSBvbiBYTUwgbm9kZXMsIHNv
IHRoZXkgZG9uJ3QgYmVuZWZpdCBmcm9tIGNvbWJpbmF0b3IgY2FjaGluZw0KCQkJaWYgKCB4bWwg
KSB7DQoJCQkJd2hpbGUgKCAoZWxlbSA9IGVsZW1bIGRpciBdKSApIHsNCgkJCQkJaWYgKCBlbGVt
Lm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7DQoJCQkJCQlpZiAoIG1hdGNo
ZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApICkgew0KCQkJCQkJCXJldHVybiB0cnVlOw0KCQkJCQkJ
fQ0KCQkJCQl9DQoJCQkJfQ0KCQkJfSBlbHNlIHsNCgkJCQl3aGlsZSAoIChlbGVtID0gZWxlbVsg
ZGlyIF0pICkgew0KCQkJCQlpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgY2hlY2tOb25FbGVt
ZW50cyApIHsNCgkJCQkJCW91dGVyQ2FjaGUgPSBlbGVtWyBleHBhbmRvIF0gfHwgKGVsZW1bIGV4
cGFuZG8gXSA9IHt9KTsNCg0KCQkJCQkJLy8gU3VwcG9ydDogSUUgPDkgb25seQ0KCQkJCQkJLy8g
RGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpDQoJCQkJ
CQl1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIGVsZW0udW5pcXVlSUQgXSB8fCAob3V0ZXJDYWNo
ZVsgZWxlbS51bmlxdWVJRCBdID0ge30pOw0KDQoJCQkJCQlpZiAoIHNraXAgJiYgc2tpcCA9PT0g
ZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICkgew0KCQkJCQkJCWVsZW0gPSBlbGVtWyBkaXIg
XSB8fCBlbGVtOw0KCQkJCQkJfSBlbHNlIGlmICggKG9sZENhY2hlID0gdW5pcXVlQ2FjaGVbIGtl
eSBdKSAmJg0KCQkJCQkJCW9sZENhY2hlWyAwIF0gPT09IGRpcnJ1bnMgJiYgb2xkQ2FjaGVbIDEg
XSA9PT0gZG9uZU5hbWUgKSB7DQoNCgkJCQkJCQkvLyBBc3NpZ24gdG8gbmV3Q2FjaGUgc28gcmVz
dWx0cyBiYWNrLXByb3BhZ2F0ZSB0byBwcmV2aW91cyBlbGVtZW50cw0KCQkJCQkJCXJldHVybiAo
bmV3Q2FjaGVbIDIgXSA9IG9sZENhY2hlWyAyIF0pOw0KCQkJCQkJfSBlbHNlIHsNCgkJCQkJCQkv
LyBSZXVzZSBuZXdjYWNoZSBzbyByZXN1bHRzIGJhY2stcHJvcGFnYXRlIHRvIHByZXZpb3VzIGVs
ZW1lbnRzDQoJCQkJCQkJdW5pcXVlQ2FjaGVbIGtleSBdID0gbmV3Q2FjaGU7DQoNCgkJCQkJCQkv
LyBBIG1hdGNoIG1lYW5zIHdlJ3JlIGRvbmU7IGEgZmFpbCBtZWFucyB3ZSBoYXZlIHRvIGtlZXAg
Y2hlY2tpbmcNCgkJCQkJCQlpZiAoIChuZXdDYWNoZVsgMiBdID0gbWF0Y2hlciggZWxlbSwgY29u
dGV4dCwgeG1sICkpICkgew0KCQkJCQkJCQlyZXR1cm4gdHJ1ZTsNCgkJCQkJCQl9DQoJCQkJCQl9
DQoJCQkJCX0NCgkJCQl9DQoJCQl9DQoJCQlyZXR1cm4gZmFsc2U7DQoJCX07DQp9DQoNCmZ1bmN0
aW9uIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApIHsNCglyZXR1cm4gbWF0Y2hlcnMubGVuZ3Ro
ID4gMSA/DQoJCWZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7DQoJCQl2YXIgaSA9IG1h
dGNoZXJzLmxlbmd0aDsNCgkJCXdoaWxlICggaS0tICkgew0KCQkJCWlmICggIW1hdGNoZXJzW2ld
KCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHsNCgkJCQkJcmV0dXJuIGZhbHNlOw0KCQkJCX0NCgkJ
CX0NCgkJCXJldHVybiB0cnVlOw0KCQl9IDoNCgkJbWF0Y2hlcnNbMF07DQp9DQoNCmZ1bmN0aW9u
IG11bHRpcGxlQ29udGV4dHMoIHNlbGVjdG9yLCBjb250ZXh0cywgcmVzdWx0cyApIHsNCgl2YXIg
aSA9IDAsDQoJCWxlbiA9IGNvbnRleHRzLmxlbmd0aDsNCglmb3IgKCA7IGkgPCBsZW47IGkrKyAp
IHsNCgkJU2l6emxlKCBzZWxlY3RvciwgY29udGV4dHNbaV0sIHJlc3VsdHMgKTsNCgl9DQoJcmV0
dXJuIHJlc3VsdHM7DQp9DQoNCmZ1bmN0aW9uIGNvbmRlbnNlKCB1bm1hdGNoZWQsIG1hcCwgZmls
dGVyLCBjb250ZXh0LCB4bWwgKSB7DQoJdmFyIGVsZW0sDQoJCW5ld1VubWF0Y2hlZCA9IFtdLA0K
CQlpID0gMCwNCgkJbGVuID0gdW5tYXRjaGVkLmxlbmd0aCwNCgkJbWFwcGVkID0gbWFwICE9IG51
bGw7DQoNCglmb3IgKCA7IGkgPCBsZW47IGkrKyApIHsNCgkJaWYgKCAoZWxlbSA9IHVubWF0Y2hl
ZFtpXSkgKSB7DQoJCQlpZiAoICFmaWx0ZXIgfHwgZmlsdGVyKCBlbGVtLCBjb250ZXh0LCB4bWwg
KSApIHsNCgkJCQluZXdVbm1hdGNoZWQucHVzaCggZWxlbSApOw0KCQkJCWlmICggbWFwcGVkICkg
ew0KCQkJCQltYXAucHVzaCggaSApOw0KCQkJCX0NCgkJCX0NCgkJfQ0KCX0NCg0KCXJldHVybiBu
ZXdVbm1hdGNoZWQ7DQp9DQoNCmZ1bmN0aW9uIHNldE1hdGNoZXIoIHByZUZpbHRlciwgc2VsZWN0
b3IsIG1hdGNoZXIsIHBvc3RGaWx0ZXIsIHBvc3RGaW5kZXIsIHBvc3RTZWxlY3RvciApIHsNCglp
ZiAoIHBvc3RGaWx0ZXIgJiYgIXBvc3RGaWx0ZXJbIGV4cGFuZG8gXSApIHsNCgkJcG9zdEZpbHRl
ciA9IHNldE1hdGNoZXIoIHBvc3RGaWx0ZXIgKTsNCgl9DQoJaWYgKCBwb3N0RmluZGVyICYmICFw
b3N0RmluZGVyWyBleHBhbmRvIF0gKSB7DQoJCXBvc3RGaW5kZXIgPSBzZXRNYXRjaGVyKCBwb3N0
RmluZGVyLCBwb3N0U2VsZWN0b3IgKTsNCgl9DQoJcmV0dXJuIG1hcmtGdW5jdGlvbihmdW5jdGlv
biggc2VlZCwgcmVzdWx0cywgY29udGV4dCwgeG1sICkgew0KCQl2YXIgdGVtcCwgaSwgZWxlbSwN
CgkJCXByZU1hcCA9IFtdLA0KCQkJcG9zdE1hcCA9IFtdLA0KCQkJcHJlZXhpc3RpbmcgPSByZXN1
bHRzLmxlbmd0aCwNCg0KCQkJLy8gR2V0IGluaXRpYWwgZWxlbWVudHMgZnJvbSBzZWVkIG9yIGNv
bnRleHQNCgkJCWVsZW1zID0gc2VlZCB8fCBtdWx0aXBsZUNvbnRleHRzKCBzZWxlY3RvciB8fCAi
KiIsIGNvbnRleHQubm9kZVR5cGUgPyBbIGNvbnRleHQgXSA6IGNvbnRleHQsIFtdICksDQoNCgkJ
CS8vIFByZWZpbHRlciB0byBnZXQgbWF0Y2hlciBpbnB1dCwgcHJlc2VydmluZyBhIG1hcCBmb3Ig
c2VlZC1yZXN1bHRzIHN5bmNocm9uaXphdGlvbg0KCQkJbWF0Y2hlckluID0gcHJlRmlsdGVyICYm
ICggc2VlZCB8fCAhc2VsZWN0b3IgKSA/DQoJCQkJY29uZGVuc2UoIGVsZW1zLCBwcmVNYXAsIHBy
ZUZpbHRlciwgY29udGV4dCwgeG1sICkgOg0KCQkJCWVsZW1zLA0KDQoJCQltYXRjaGVyT3V0ID0g
bWF0Y2hlciA/DQoJCQkJLy8gSWYgd2UgaGF2ZSBhIHBvc3RGaW5kZXIsIG9yIGZpbHRlcmVkIHNl
ZWQsIG9yIG5vbi1zZWVkIHBvc3RGaWx0ZXIgb3IgcHJlZXhpc3RpbmcgcmVzdWx0cywNCgkJCQlw
b3N0RmluZGVyIHx8ICggc2VlZCA/IHByZUZpbHRlciA6IHByZWV4aXN0aW5nIHx8IHBvc3RGaWx0
ZXIgKSA/DQoNCgkJCQkJLy8gLi4uaW50ZXJtZWRpYXRlIHByb2Nlc3NpbmcgaXMgbmVjZXNzYXJ5
DQoJCQkJCVtdIDoNCg0KCQkJCQkvLyAuLi5vdGhlcndpc2UgdXNlIHJlc3VsdHMgZGlyZWN0bHkN
CgkJCQkJcmVzdWx0cyA6DQoJCQkJbWF0Y2hlckluOw0KDQoJCS8vIEZpbmQgcHJpbWFyeSBtYXRj
aGVzDQoJCWlmICggbWF0Y2hlciApIHsNCgkJCW1hdGNoZXIoIG1hdGNoZXJJbiwgbWF0Y2hlck91
dCwgY29udGV4dCwgeG1sICk7DQoJCX0NCg0KCQkvLyBBcHBseSBwb3N0RmlsdGVyDQoJCWlmICgg
cG9zdEZpbHRlciApIHsNCgkJCXRlbXAgPSBjb25kZW5zZSggbWF0Y2hlck91dCwgcG9zdE1hcCAp
Ow0KCQkJcG9zdEZpbHRlciggdGVtcCwgW10sIGNvbnRleHQsIHhtbCApOw0KDQoJCQkvLyBVbi1t
YXRjaCBmYWlsaW5nIGVsZW1lbnRzIGJ5IG1vdmluZyB0aGVtIGJhY2sgdG8gbWF0Y2hlckluDQoJ
CQlpID0gdGVtcC5sZW5ndGg7DQoJCQl3aGlsZSAoIGktLSApIHsNCgkJCQlpZiAoIChlbGVtID0g
dGVtcFtpXSkgKSB7DQoJCQkJCW1hdGNoZXJPdXRbIHBvc3RNYXBbaV0gXSA9ICEobWF0Y2hlcklu
WyBwb3N0TWFwW2ldIF0gPSBlbGVtKTsNCgkJCQl9DQoJCQl9DQoJCX0NCg0KCQlpZiAoIHNlZWQg
KSB7DQoJCQlpZiAoIHBvc3RGaW5kZXIgfHwgcHJlRmlsdGVyICkgew0KCQkJCWlmICggcG9zdEZp
bmRlciApIHsNCgkJCQkJLy8gR2V0IHRoZSBmaW5hbCBtYXRjaGVyT3V0IGJ5IGNvbmRlbnNpbmcg
dGhpcyBpbnRlcm1lZGlhdGUgaW50byBwb3N0RmluZGVyIGNvbnRleHRzDQoJCQkJCXRlbXAgPSBb
XTsNCgkJCQkJaSA9IG1hdGNoZXJPdXQubGVuZ3RoOw0KCQkJCQl3aGlsZSAoIGktLSApIHsNCgkJ
CQkJCWlmICggKGVsZW0gPSBtYXRjaGVyT3V0W2ldKSApIHsNCgkJCQkJCQkvLyBSZXN0b3JlIG1h
dGNoZXJJbiBzaW5jZSBlbGVtIGlzIG5vdCB5ZXQgYSBmaW5hbCBtYXRjaA0KCQkJCQkJCXRlbXAu
cHVzaCggKG1hdGNoZXJJbltpXSA9IGVsZW0pICk7DQoJCQkJCQl9DQoJCQkJCX0NCgkJCQkJcG9z
dEZpbmRlciggbnVsbCwgKG1hdGNoZXJPdXQgPSBbXSksIHRlbXAsIHhtbCApOw0KCQkJCX0NCg0K
CQkJCS8vIE1vdmUgbWF0Y2hlZCBlbGVtZW50cyBmcm9tIHNlZWQgdG8gcmVzdWx0cyB0byBrZWVw
IHRoZW0gc3luY2hyb25pemVkDQoJCQkJaSA9IG1hdGNoZXJPdXQubGVuZ3RoOw0KCQkJCXdoaWxl
ICggaS0tICkgew0KCQkJCQlpZiAoIChlbGVtID0gbWF0Y2hlck91dFtpXSkgJiYNCgkJCQkJCSh0
ZW1wID0gcG9zdEZpbmRlciA/IGluZGV4T2YoIHNlZWQsIGVsZW0gKSA6IHByZU1hcFtpXSkgPiAt
MSApIHsNCg0KCQkJCQkJc2VlZFt0ZW1wXSA9ICEocmVzdWx0c1t0ZW1wXSA9IGVsZW0pOw0KCQkJ
CQl9DQoJCQkJfQ0KCQkJfQ0KDQoJCS8vIEFkZCBlbGVtZW50cyB0byByZXN1bHRzLCB0aHJvdWdo
IHBvc3RGaW5kZXIgaWYgZGVmaW5lZA0KCQl9IGVsc2Ugew0KCQkJbWF0Y2hlck91dCA9IGNvbmRl
bnNlKA0KCQkJCW1hdGNoZXJPdXQgPT09IHJlc3VsdHMgPw0KCQkJCQltYXRjaGVyT3V0LnNwbGlj
ZSggcHJlZXhpc3RpbmcsIG1hdGNoZXJPdXQubGVuZ3RoICkgOg0KCQkJCQltYXRjaGVyT3V0DQoJ
CQkpOw0KCQkJaWYgKCBwb3N0RmluZGVyICkgew0KCQkJCXBvc3RGaW5kZXIoIG51bGwsIHJlc3Vs
dHMsIG1hdGNoZXJPdXQsIHhtbCApOw0KCQkJfSBlbHNlIHsNCgkJCQlwdXNoLmFwcGx5KCByZXN1
bHRzLCBtYXRjaGVyT3V0ICk7DQoJCQl9DQoJCX0NCgl9KTsNCn0NCg0KZnVuY3Rpb24gbWF0Y2hl
ckZyb21Ub2tlbnMoIHRva2VucyApIHsNCgl2YXIgY2hlY2tDb250ZXh0LCBtYXRjaGVyLCBqLA0K
CQlsZW4gPSB0b2tlbnMubGVuZ3RoLA0KCQlsZWFkaW5nUmVsYXRpdmUgPSBFeHByLnJlbGF0aXZl
WyB0b2tlbnNbMF0udHlwZSBdLA0KCQlpbXBsaWNpdFJlbGF0aXZlID0gbGVhZGluZ1JlbGF0aXZl
IHx8IEV4cHIucmVsYXRpdmVbIiAiXSwNCgkJaSA9IGxlYWRpbmdSZWxhdGl2ZSA/IDEgOiAwLA0K
DQoJCS8vIFRoZSBmb3VuZGF0aW9uYWwgbWF0Y2hlciBlbnN1cmVzIHRoYXQgZWxlbWVudHMgYXJl
IHJlYWNoYWJsZSBmcm9tIHRvcC1sZXZlbCBjb250ZXh0KHMpDQoJCW1hdGNoQ29udGV4dCA9IGFk
ZENvbWJpbmF0b3IoIGZ1bmN0aW9uKCBlbGVtICkgew0KCQkJcmV0dXJuIGVsZW0gPT09IGNoZWNr
Q29udGV4dDsNCgkJfSwgaW1wbGljaXRSZWxhdGl2ZSwgdHJ1ZSApLA0KCQltYXRjaEFueUNvbnRl
eHQgPSBhZGRDb21iaW5hdG9yKCBmdW5jdGlvbiggZWxlbSApIHsNCgkJCXJldHVybiBpbmRleE9m
KCBjaGVja0NvbnRleHQsIGVsZW0gKSA+IC0xOw0KCQl9LCBpbXBsaWNpdFJlbGF0aXZlLCB0cnVl
ICksDQoJCW1hdGNoZXJzID0gWyBmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkgew0KCQkJ
dmFyIHJldCA9ICggIWxlYWRpbmdSZWxhdGl2ZSAmJiAoIHhtbCB8fCBjb250ZXh0ICE9PSBvdXRl
cm1vc3RDb250ZXh0ICkgKSB8fCAoDQoJCQkJKGNoZWNrQ29udGV4dCA9IGNvbnRleHQpLm5vZGVU
eXBlID8NCgkJCQkJbWF0Y2hDb250ZXh0KCBlbGVtLCBjb250ZXh0LCB4bWwgKSA6DQoJCQkJCW1h
dGNoQW55Q29udGV4dCggZWxlbSwgY29udGV4dCwgeG1sICkgKTsNCgkJCS8vIEF2b2lkIGhhbmdp
bmcgb250byBlbGVtZW50IChpc3N1ZSAjMjk5KQ0KCQkJY2hlY2tDb250ZXh0ID0gbnVsbDsNCgkJ
CXJldHVybiByZXQ7DQoJCX0gXTsNCg0KCWZvciAoIDsgaSA8IGxlbjsgaSsrICkgew0KCQlpZiAo
IChtYXRjaGVyID0gRXhwci5yZWxhdGl2ZVsgdG9rZW5zW2ldLnR5cGUgXSkgKSB7DQoJCQltYXRj
aGVycyA9IFsgYWRkQ29tYmluYXRvcihlbGVtZW50TWF0Y2hlciggbWF0Y2hlcnMgKSwgbWF0Y2hl
cikgXTsNCgkJfSBlbHNlIHsNCgkJCW1hdGNoZXIgPSBFeHByLmZpbHRlclsgdG9rZW5zW2ldLnR5
cGUgXS5hcHBseSggbnVsbCwgdG9rZW5zW2ldLm1hdGNoZXMgKTsNCg0KCQkJLy8gUmV0dXJuIHNw
ZWNpYWwgdXBvbiBzZWVpbmcgYSBwb3NpdGlvbmFsIG1hdGNoZXINCgkJCWlmICggbWF0Y2hlclsg
ZXhwYW5kbyBdICkgew0KCQkJCS8vIEZpbmQgdGhlIG5leHQgcmVsYXRpdmUgb3BlcmF0b3IgKGlm
IGFueSkgZm9yIHByb3BlciBoYW5kbGluZw0KCQkJCWogPSArK2k7DQoJCQkJZm9yICggOyBqIDwg
bGVuOyBqKysgKSB7DQoJCQkJCWlmICggRXhwci5yZWxhdGl2ZVsgdG9rZW5zW2pdLnR5cGUgXSAp
IHsNCgkJCQkJCWJyZWFrOw0KCQkJCQl9DQoJCQkJfQ0KCQkJCXJldHVybiBzZXRNYXRjaGVyKA0K
CQkJCQlpID4gMSAmJiBlbGVtZW50TWF0Y2hlciggbWF0Y2hlcnMgKSwNCgkJCQkJaSA+IDEgJiYg
dG9TZWxlY3RvcigNCgkJCQkJCS8vIElmIHRoZSBwcmVjZWRpbmcgdG9rZW4gd2FzIGEgZGVzY2Vu
ZGFudCBjb21iaW5hdG9yLCBpbnNlcnQgYW4gaW1wbGljaXQgYW55LWVsZW1lbnQgYCpgDQoJCQkJ
CQl0b2tlbnMuc2xpY2UoIDAsIGkgLSAxICkuY29uY2F0KHsgdmFsdWU6IHRva2Vuc1sgaSAtIDIg
XS50eXBlID09PSAiICIgPyAiKiIgOiAiIiB9KQ0KCQkJCQkpLnJlcGxhY2UoIHJ0cmltLCAiJDEi
ICksDQoJCQkJCW1hdGNoZXIsDQoJCQkJCWkgPCBqICYmIG1hdGNoZXJGcm9tVG9rZW5zKCB0b2tl
bnMuc2xpY2UoIGksIGogKSApLA0KCQkJCQlqIDwgbGVuICYmIG1hdGNoZXJGcm9tVG9rZW5zKCAo
dG9rZW5zID0gdG9rZW5zLnNsaWNlKCBqICkpICksDQoJCQkJCWogPCBsZW4gJiYgdG9TZWxlY3Rv
ciggdG9rZW5zICkNCgkJCQkpOw0KCQkJfQ0KCQkJbWF0Y2hlcnMucHVzaCggbWF0Y2hlciApOw0K
CQl9DQoJfQ0KDQoJcmV0dXJuIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApOw0KfQ0KDQpmdW5j
dGlvbiBtYXRjaGVyRnJvbUdyb3VwTWF0Y2hlcnMoIGVsZW1lbnRNYXRjaGVycywgc2V0TWF0Y2hl
cnMgKSB7DQoJdmFyIGJ5U2V0ID0gc2V0TWF0Y2hlcnMubGVuZ3RoID4gMCwNCgkJYnlFbGVtZW50
ID0gZWxlbWVudE1hdGNoZXJzLmxlbmd0aCA+IDAsDQoJCXN1cGVyTWF0Y2hlciA9IGZ1bmN0aW9u
KCBzZWVkLCBjb250ZXh0LCB4bWwsIHJlc3VsdHMsIG91dGVybW9zdCApIHsNCgkJCXZhciBlbGVt
LCBqLCBtYXRjaGVyLA0KCQkJCW1hdGNoZWRDb3VudCA9IDAsDQoJCQkJaSA9ICIwIiwNCgkJCQl1
bm1hdGNoZWQgPSBzZWVkICYmIFtdLA0KCQkJCXNldE1hdGNoZWQgPSBbXSwNCgkJCQljb250ZXh0
QmFja3VwID0gb3V0ZXJtb3N0Q29udGV4dCwNCgkJCQkvLyBXZSBtdXN0IGFsd2F5cyBoYXZlIGVp
dGhlciBzZWVkIGVsZW1lbnRzIG9yIG91dGVybW9zdCBjb250ZXh0DQoJCQkJZWxlbXMgPSBzZWVk
IHx8IGJ5RWxlbWVudCAmJiBFeHByLmZpbmRbIlRBRyJdKCAiKiIsIG91dGVybW9zdCApLA0KCQkJ
CS8vIFVzZSBpbnRlZ2VyIGRpcnJ1bnMgaWZmIHRoaXMgaXMgdGhlIG91dGVybW9zdCBtYXRjaGVy
DQoJCQkJZGlycnVuc1VuaXF1ZSA9IChkaXJydW5zICs9IGNvbnRleHRCYWNrdXAgPT0gbnVsbCA/
IDEgOiBNYXRoLnJhbmRvbSgpIHx8IDAuMSksDQoJCQkJbGVuID0gZWxlbXMubGVuZ3RoOw0KDQoJ
CQlpZiAoIG91dGVybW9zdCApIHsNCgkJCQlvdXRlcm1vc3RDb250ZXh0ID0gY29udGV4dCA9PT0g
ZG9jdW1lbnQgfHwgY29udGV4dCB8fCBvdXRlcm1vc3Q7DQoJCQl9DQoNCgkJCS8vIEFkZCBlbGVt
ZW50cyBwYXNzaW5nIGVsZW1lbnRNYXRjaGVycyBkaXJlY3RseSB0byByZXN1bHRzDQoJCQkvLyBT
dXBwb3J0OiBJRTw5LCBTYWZhcmkNCgkJCS8vIFRvbGVyYXRlIE5vZGVMaXN0IHByb3BlcnRpZXMg
KElFOiAibGVuZ3RoIjsgU2FmYXJpOiA8bnVtYmVyPikgbWF0Y2hpbmcgZWxlbWVudHMgYnkgaWQN
CgkJCWZvciAoIDsgaSAhPT0gbGVuICYmIChlbGVtID0gZWxlbXNbaV0pICE9IG51bGw7IGkrKyAp
IHsNCgkJCQlpZiAoIGJ5RWxlbWVudCAmJiBlbGVtICkgew0KCQkJCQlqID0gMDsNCgkJCQkJaWYg
KCAhY29udGV4dCAmJiBlbGVtLm93bmVyRG9jdW1lbnQgIT09IGRvY3VtZW50ICkgew0KCQkJCQkJ
c2V0RG9jdW1lbnQoIGVsZW0gKTsNCgkJCQkJCXhtbCA9ICFkb2N1bWVudElzSFRNTDsNCgkJCQkJ
fQ0KCQkJCQl3aGlsZSAoIChtYXRjaGVyID0gZWxlbWVudE1hdGNoZXJzW2orK10pICkgew0KCQkJ
CQkJaWYgKCBtYXRjaGVyKCBlbGVtLCBjb250ZXh0IHx8IGRvY3VtZW50LCB4bWwpICkgew0KCQkJ
CQkJCXJlc3VsdHMucHVzaCggZWxlbSApOw0KCQkJCQkJCWJyZWFrOw0KCQkJCQkJfQ0KCQkJCQl9
DQoJCQkJCWlmICggb3V0ZXJtb3N0ICkgew0KCQkJCQkJZGlycnVucyA9IGRpcnJ1bnNVbmlxdWU7
DQoJCQkJCX0NCgkJCQl9DQoNCgkJCQkvLyBUcmFjayB1bm1hdGNoZWQgZWxlbWVudHMgZm9yIHNl
dCBmaWx0ZXJzDQoJCQkJaWYgKCBieVNldCApIHsNCgkJCQkJLy8gVGhleSB3aWxsIGhhdmUgZ29u
ZSB0aHJvdWdoIGFsbCBwb3NzaWJsZSBtYXRjaGVycw0KCQkJCQlpZiAoIChlbGVtID0gIW1hdGNo
ZXIgJiYgZWxlbSkgKSB7DQoJCQkJCQltYXRjaGVkQ291bnQtLTsNCgkJCQkJfQ0KDQoJCQkJCS8v
IExlbmd0aGVuIHRoZSBhcnJheSBmb3IgZXZlcnkgZWxlbWVudCwgbWF0Y2hlZCBvciBub3QNCgkJ
CQkJaWYgKCBzZWVkICkgew0KCQkJCQkJdW5tYXRjaGVkLnB1c2goIGVsZW0gKTsNCgkJCQkJfQ0K
CQkJCX0NCgkJCX0NCg0KCQkJLy8gYGlgIGlzIG5vdyB0aGUgY291bnQgb2YgZWxlbWVudHMgdmlz
aXRlZCBhYm92ZSwgYW5kIGFkZGluZyBpdCB0byBgbWF0Y2hlZENvdW50YA0KCQkJLy8gbWFrZXMg
dGhlIGxhdHRlciBub25uZWdhdGl2ZS4NCgkJCW1hdGNoZWRDb3VudCArPSBpOw0KDQoJCQkvLyBB
cHBseSBzZXQgZmlsdGVycyB0byB1bm1hdGNoZWQgZWxlbWVudHMNCgkJCS8vIE5PVEU6IFRoaXMg
Y2FuIGJlIHNraXBwZWQgaWYgdGhlcmUgYXJlIG5vIHVubWF0Y2hlZCBlbGVtZW50cyAoaS5lLiwg
YG1hdGNoZWRDb3VudGANCgkJCS8vIGVxdWFscyBgaWApLCB1bmxlc3Mgd2UgZGlkbid0IHZpc2l0
IF9hbnlfIGVsZW1lbnRzIGluIHRoZSBhYm92ZSBsb29wIGJlY2F1c2Ugd2UgaGF2ZQ0KCQkJLy8g
bm8gZWxlbWVudCBtYXRjaGVycyBhbmQgbm8gc2VlZC4NCgkJCS8vIEluY3JlbWVudGluZyBhbiBp
bml0aWFsbHktc3RyaW5nICIwIiBgaWAgYWxsb3dzIGBpYCB0byByZW1haW4gYSBzdHJpbmcgb25s
eSBpbiB0aGF0DQoJCQkvLyBjYXNlLCB3aGljaCB3aWxsIHJlc3VsdCBpbiBhICIwMCIgYG1hdGNo
ZWRDb3VudGAgdGhhdCBkaWZmZXJzIGZyb20gYGlgIGJ1dCBpcyBhbHNvDQoJCQkvLyBudW1lcmlj
YWxseSB6ZXJvLg0KCQkJaWYgKCBieVNldCAmJiBpICE9PSBtYXRjaGVkQ291bnQgKSB7DQoJCQkJ
aiA9IDA7DQoJCQkJd2hpbGUgKCAobWF0Y2hlciA9IHNldE1hdGNoZXJzW2orK10pICkgew0KCQkJ
CQltYXRjaGVyKCB1bm1hdGNoZWQsIHNldE1hdGNoZWQsIGNvbnRleHQsIHhtbCApOw0KCQkJCX0N
Cg0KCQkJCWlmICggc2VlZCApIHsNCgkJCQkJLy8gUmVpbnRlZ3JhdGUgZWxlbWVudCBtYXRjaGVz
IHRvIGVsaW1pbmF0ZSB0aGUgbmVlZCBmb3Igc29ydGluZw0KCQkJCQlpZiAoIG1hdGNoZWRDb3Vu
dCA+IDAgKSB7DQoJCQkJCQl3aGlsZSAoIGktLSApIHsNCgkJCQkJCQlpZiAoICEodW5tYXRjaGVk
W2ldIHx8IHNldE1hdGNoZWRbaV0pICkgew0KCQkJCQkJCQlzZXRNYXRjaGVkW2ldID0gcG9wLmNh
bGwoIHJlc3VsdHMgKTsNCgkJCQkJCQl9DQoJCQkJCQl9DQoJCQkJCX0NCg0KCQkJCQkvLyBEaXNj
YXJkIGluZGV4IHBsYWNlaG9sZGVyIHZhbHVlcyB0byBnZXQgb25seSBhY3R1YWwgbWF0Y2hlcw0K
CQkJCQlzZXRNYXRjaGVkID0gY29uZGVuc2UoIHNldE1hdGNoZWQgKTsNCgkJCQl9DQoNCgkJCQkv
LyBBZGQgbWF0Y2hlcyB0byByZXN1bHRzDQoJCQkJcHVzaC5hcHBseSggcmVzdWx0cywgc2V0TWF0
Y2hlZCApOw0KDQoJCQkJLy8gU2VlZGxlc3Mgc2V0IG1hdGNoZXMgc3VjY2VlZGluZyBtdWx0aXBs
ZSBzdWNjZXNzZnVsIG1hdGNoZXJzIHN0aXB1bGF0ZSBzb3J0aW5nDQoJCQkJaWYgKCBvdXRlcm1v
c3QgJiYgIXNlZWQgJiYgc2V0TWF0Y2hlZC5sZW5ndGggPiAwICYmDQoJCQkJCSggbWF0Y2hlZENv
dW50ICsgc2V0TWF0Y2hlcnMubGVuZ3RoICkgPiAxICkgew0KDQoJCQkJCVNpenpsZS51bmlxdWVT
b3J0KCByZXN1bHRzICk7DQoJCQkJfQ0KCQkJfQ0KDQoJCQkvLyBPdmVycmlkZSBtYW5pcHVsYXRp
b24gb2YgZ2xvYmFscyBieSBuZXN0ZWQgbWF0Y2hlcnMNCgkJCWlmICggb3V0ZXJtb3N0ICkgew0K
CQkJCWRpcnJ1bnMgPSBkaXJydW5zVW5pcXVlOw0KCQkJCW91dGVybW9zdENvbnRleHQgPSBjb250
ZXh0QmFja3VwOw0KCQkJfQ0KDQoJCQlyZXR1cm4gdW5tYXRjaGVkOw0KCQl9Ow0KDQoJcmV0dXJu
IGJ5U2V0ID8NCgkJbWFya0Z1bmN0aW9uKCBzdXBlck1hdGNoZXIgKSA6DQoJCXN1cGVyTWF0Y2hl
cjsNCn0NCg0KY29tcGlsZSA9IFNpenpsZS5jb21waWxlID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBt
YXRjaCAvKiBJbnRlcm5hbCBVc2UgT25seSAqLyApIHsNCgl2YXIgaSwNCgkJc2V0TWF0Y2hlcnMg
PSBbXSwNCgkJZWxlbWVudE1hdGNoZXJzID0gW10sDQoJCWNhY2hlZCA9IGNvbXBpbGVyQ2FjaGVb
IHNlbGVjdG9yICsgIiAiIF07DQoNCglpZiAoICFjYWNoZWQgKSB7DQoJCS8vIEdlbmVyYXRlIGEg
ZnVuY3Rpb24gb2YgcmVjdXJzaXZlIGZ1bmN0aW9ucyB0aGF0IGNhbiBiZSB1c2VkIHRvIGNoZWNr
IGVhY2ggZWxlbWVudA0KCQlpZiAoICFtYXRjaCApIHsNCgkJCW1hdGNoID0gdG9rZW5pemUoIHNl
bGVjdG9yICk7DQoJCX0NCgkJaSA9IG1hdGNoLmxlbmd0aDsNCgkJd2hpbGUgKCBpLS0gKSB7DQoJ
CQljYWNoZWQgPSBtYXRjaGVyRnJvbVRva2VucyggbWF0Y2hbaV0gKTsNCgkJCWlmICggY2FjaGVk
WyBleHBhbmRvIF0gKSB7DQoJCQkJc2V0TWF0Y2hlcnMucHVzaCggY2FjaGVkICk7DQoJCQl9IGVs
c2Ugew0KCQkJCWVsZW1lbnRNYXRjaGVycy5wdXNoKCBjYWNoZWQgKTsNCgkJCX0NCgkJfQ0KDQoJ
CS8vIENhY2hlIHRoZSBjb21waWxlZCBmdW5jdGlvbg0KCQljYWNoZWQgPSBjb21waWxlckNhY2hl
KCBzZWxlY3RvciwgbWF0Y2hlckZyb21Hcm91cE1hdGNoZXJzKCBlbGVtZW50TWF0Y2hlcnMsIHNl
dE1hdGNoZXJzICkgKTsNCg0KCQkvLyBTYXZlIHNlbGVjdG9yIGFuZCB0b2tlbml6YXRpb24NCgkJ
Y2FjaGVkLnNlbGVjdG9yID0gc2VsZWN0b3I7DQoJfQ0KCXJldHVybiBjYWNoZWQ7DQp9Ow0KDQov
KioNCiAqIEEgbG93LWxldmVsIHNlbGVjdGlvbiBmdW5jdGlvbiB0aGF0IHdvcmtzIHdpdGggU2l6
emxlJ3MgY29tcGlsZWQNCiAqICBzZWxlY3RvciBmdW5jdGlvbnMNCiAqIEBwYXJhbSB7U3RyaW5n
fEZ1bmN0aW9ufSBzZWxlY3RvciBBIHNlbGVjdG9yIG9yIGEgcHJlLWNvbXBpbGVkDQogKiAgc2Vs
ZWN0b3IgZnVuY3Rpb24gYnVpbHQgd2l0aCBTaXp6bGUuY29tcGlsZQ0KICogQHBhcmFtIHtFbGVt
ZW50fSBjb250ZXh0DQogKiBAcGFyYW0ge0FycmF5fSBbcmVzdWx0c10NCiAqIEBwYXJhbSB7QXJy
YXl9IFtzZWVkXSBBIHNldCBvZiBlbGVtZW50cyB0byBtYXRjaCBhZ2FpbnN0DQogKi8NCnNlbGVj
dCA9IFNpenpsZS5zZWxlY3QgPSBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQsIHJlc3VsdHMs
IHNlZWQgKSB7DQoJdmFyIGksIHRva2VucywgdG9rZW4sIHR5cGUsIGZpbmQsDQoJCWNvbXBpbGVk
ID0gdHlwZW9mIHNlbGVjdG9yID09PSAiZnVuY3Rpb24iICYmIHNlbGVjdG9yLA0KCQltYXRjaCA9
ICFzZWVkICYmIHRva2VuaXplKCAoc2VsZWN0b3IgPSBjb21waWxlZC5zZWxlY3RvciB8fCBzZWxl
Y3RvcikgKTsNCg0KCXJlc3VsdHMgPSByZXN1bHRzIHx8IFtdOw0KDQoJLy8gVHJ5IHRvIG1pbmlt
aXplIG9wZXJhdGlvbnMgaWYgdGhlcmUgaXMgb25seSBvbmUgc2VsZWN0b3IgaW4gdGhlIGxpc3Qg
YW5kIG5vIHNlZWQNCgkvLyAodGhlIGxhdHRlciBvZiB3aGljaCBndWFyYW50ZWVzIHVzIGNvbnRl
eHQpDQoJaWYgKCBtYXRjaC5sZW5ndGggPT09IDEgKSB7DQoNCgkJLy8gUmVkdWNlIGNvbnRleHQg
aWYgdGhlIGxlYWRpbmcgY29tcG91bmQgc2VsZWN0b3IgaXMgYW4gSUQNCgkJdG9rZW5zID0gbWF0
Y2hbMF0gPSBtYXRjaFswXS5zbGljZSggMCApOw0KCQlpZiAoIHRva2Vucy5sZW5ndGggPiAyICYm
ICh0b2tlbiA9IHRva2Vuc1swXSkudHlwZSA9PT0gIklEIiAmJg0KCQkJCWNvbnRleHQubm9kZVR5
cGUgPT09IDkgJiYgZG9jdW1lbnRJc0hUTUwgJiYgRXhwci5yZWxhdGl2ZVsgdG9rZW5zWzFdLnR5
cGUgXSApIHsNCg0KCQkJY29udGV4dCA9ICggRXhwci5maW5kWyJJRCJdKCB0b2tlbi5tYXRjaGVz
WzBdLnJlcGxhY2UocnVuZXNjYXBlLCBmdW5lc2NhcGUpLCBjb250ZXh0ICkgfHwgW10gKVswXTsN
CgkJCWlmICggIWNvbnRleHQgKSB7DQoJCQkJcmV0dXJuIHJlc3VsdHM7DQoNCgkJCS8vIFByZWNv
bXBpbGVkIG1hdGNoZXJzIHdpbGwgc3RpbGwgdmVyaWZ5IGFuY2VzdHJ5LCBzbyBzdGVwIHVwIGEg
bGV2ZWwNCgkJCX0gZWxzZSBpZiAoIGNvbXBpbGVkICkgew0KCQkJCWNvbnRleHQgPSBjb250ZXh0
LnBhcmVudE5vZGU7DQoJCQl9DQoNCgkJCXNlbGVjdG9yID0gc2VsZWN0b3Iuc2xpY2UoIHRva2Vu
cy5zaGlmdCgpLnZhbHVlLmxlbmd0aCApOw0KCQl9DQoNCgkJLy8gRmV0Y2ggYSBzZWVkIHNldCBm
b3IgcmlnaHQtdG8tbGVmdCBtYXRjaGluZw0KCQlpID0gbWF0Y2hFeHByWyJuZWVkc0NvbnRleHQi
XS50ZXN0KCBzZWxlY3RvciApID8gMCA6IHRva2Vucy5sZW5ndGg7DQoJCXdoaWxlICggaS0tICkg
ew0KCQkJdG9rZW4gPSB0b2tlbnNbaV07DQoNCgkJCS8vIEFib3J0IGlmIHdlIGhpdCBhIGNvbWJp
bmF0b3INCgkJCWlmICggRXhwci5yZWxhdGl2ZVsgKHR5cGUgPSB0b2tlbi50eXBlKSBdICkgew0K
CQkJCWJyZWFrOw0KCQkJfQ0KCQkJaWYgKCAoZmluZCA9IEV4cHIuZmluZFsgdHlwZSBdKSApIHsN
CgkJCQkvLyBTZWFyY2gsIGV4cGFuZGluZyBjb250ZXh0IGZvciBsZWFkaW5nIHNpYmxpbmcgY29t
YmluYXRvcnMNCgkJCQlpZiAoIChzZWVkID0gZmluZCgNCgkJCQkJdG9rZW4ubWF0Y2hlc1swXS5y
ZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApLA0KCQkJCQlyc2libGluZy50ZXN0KCB0b2tl
bnNbMF0udHlwZSApICYmIHRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fCBjb250
ZXh0DQoJCQkJKSkgKSB7DQoNCgkJCQkJLy8gSWYgc2VlZCBpcyBlbXB0eSBvciBubyB0b2tlbnMg
cmVtYWluLCB3ZSBjYW4gcmV0dXJuIGVhcmx5DQoJCQkJCXRva2Vucy5zcGxpY2UoIGksIDEgKTsN
CgkJCQkJc2VsZWN0b3IgPSBzZWVkLmxlbmd0aCAmJiB0b1NlbGVjdG9yKCB0b2tlbnMgKTsNCgkJ
CQkJaWYgKCAhc2VsZWN0b3IgKSB7DQoJCQkJCQlwdXNoLmFwcGx5KCByZXN1bHRzLCBzZWVkICk7
DQoJCQkJCQlyZXR1cm4gcmVzdWx0czsNCgkJCQkJfQ0KDQoJCQkJCWJyZWFrOw0KCQkJCX0NCgkJ
CX0NCgkJfQ0KCX0NCg0KCS8vIENvbXBpbGUgYW5kIGV4ZWN1dGUgYSBmaWx0ZXJpbmcgZnVuY3Rp
b24gaWYgb25lIGlzIG5vdCBwcm92aWRlZA0KCS8vIFByb3ZpZGUgYG1hdGNoYCB0byBhdm9pZCBy
ZXRva2VuaXphdGlvbiBpZiB3ZSBtb2RpZmllZCB0aGUgc2VsZWN0b3IgYWJvdmUNCgkoIGNvbXBp
bGVkIHx8IGNvbXBpbGUoIHNlbGVjdG9yLCBtYXRjaCApICkoDQoJCXNlZWQsDQoJCWNvbnRleHQs
DQoJCSFkb2N1bWVudElzSFRNTCwNCgkJcmVzdWx0cywNCgkJIWNvbnRleHQgfHwgcnNpYmxpbmcu
dGVzdCggc2VsZWN0b3IgKSAmJiB0ZXN0Q29udGV4dCggY29udGV4dC5wYXJlbnROb2RlICkgfHwg
Y29udGV4dA0KCSk7DQoJcmV0dXJuIHJlc3VsdHM7DQp9Ow0KDQovLyBPbmUtdGltZSBhc3NpZ25t
ZW50cw0KDQovLyBTb3J0IHN0YWJpbGl0eQ0Kc3VwcG9ydC5zb3J0U3RhYmxlID0gZXhwYW5kby5z
cGxpdCgiIikuc29ydCggc29ydE9yZGVyICkuam9pbigiIikgPT09IGV4cGFuZG87DQoNCi8vIFN1
cHBvcnQ6IENocm9tZSAxNC0zNSsNCi8vIEFsd2F5cyBhc3N1bWUgZHVwbGljYXRlcyBpZiB0aGV5
IGFyZW4ndCBwYXNzZWQgdG8gdGhlIGNvbXBhcmlzb24gZnVuY3Rpb24NCnN1cHBvcnQuZGV0ZWN0
RHVwbGljYXRlcyA9ICEhaGFzRHVwbGljYXRlOw0KDQovLyBJbml0aWFsaXplIGFnYWluc3QgdGhl
IGRlZmF1bHQgZG9jdW1lbnQNCnNldERvY3VtZW50KCk7DQoNCi8vIFN1cHBvcnQ6IFdlYmtpdDw1
MzcuMzIgLSBTYWZhcmkgNi4wLjMvQ2hyb21lIDI1IChmaXhlZCBpbiBDaHJvbWUgMjcpDQovLyBE
ZXRhY2hlZCBub2RlcyBjb25mb3VuZGluZ2x5IGZvbGxvdyAqZWFjaCBvdGhlcioNCnN1cHBvcnQu
c29ydERldGFjaGVkID0gYXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHsNCgkvLyBTaG91bGQgcmV0dXJu
IDEsIGJ1dCByZXR1cm5zIDQgKGZvbGxvd2luZykNCglyZXR1cm4gZWwuY29tcGFyZURvY3VtZW50
UG9zaXRpb24oIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImZpZWxkc2V0IikgKSAmIDE7DQp9KTsN
Cg0KLy8gU3VwcG9ydDogSUU8OA0KLy8gUHJldmVudCBhdHRyaWJ1dGUvcHJvcGVydHkgImludGVy
cG9sYXRpb24iDQovLyBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L21z
NTM2NDI5JTI4VlMuODUlMjkuYXNweA0KaWYgKCAhYXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHsNCgll
bC5pbm5lckhUTUwgPSAiPGEgaHJlZj0nIyc+PC9hPiI7DQoJcmV0dXJuIGVsLmZpcnN0Q2hpbGQu
Z2V0QXR0cmlidXRlKCJocmVmIikgPT09ICIjIiA7DQp9KSApIHsNCglhZGRIYW5kbGUoICJ0eXBl
fGhyZWZ8aGVpZ2h0fHdpZHRoIiwgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGlzWE1MICkgew0KCQlp
ZiAoICFpc1hNTCApIHsNCgkJCXJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSggbmFtZSwgbmFtZS50
b0xvd2VyQ2FzZSgpID09PSAidHlwZSIgPyAxIDogMiApOw0KCQl9DQoJfSk7DQp9DQoNCi8vIFN1
cHBvcnQ6IElFPDkNCi8vIFVzZSBkZWZhdWx0VmFsdWUgaW4gcGxhY2Ugb2YgZ2V0QXR0cmlidXRl
KCJ2YWx1ZSIpDQppZiAoICFzdXBwb3J0LmF0dHJpYnV0ZXMgfHwgIWFzc2VydChmdW5jdGlvbigg
ZWwgKSB7DQoJZWwuaW5uZXJIVE1MID0gIjxpbnB1dC8+IjsNCgllbC5maXJzdENoaWxkLnNldEF0
dHJpYnV0ZSggInZhbHVlIiwgIiIgKTsNCglyZXR1cm4gZWwuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1
dGUoICJ2YWx1ZSIgKSA9PT0gIiI7DQp9KSApIHsNCglhZGRIYW5kbGUoICJ2YWx1ZSIsIGZ1bmN0
aW9uKCBlbGVtLCBuYW1lLCBpc1hNTCApIHsNCgkJaWYgKCAhaXNYTUwgJiYgZWxlbS5ub2RlTmFt
ZS50b0xvd2VyQ2FzZSgpID09PSAiaW5wdXQiICkgew0KCQkJcmV0dXJuIGVsZW0uZGVmYXVsdFZh
bHVlOw0KCQl9DQoJfSk7DQp9DQoNCi8vIFN1cHBvcnQ6IElFPDkNCi8vIFVzZSBnZXRBdHRyaWJ1
dGVOb2RlIHRvIGZldGNoIGJvb2xlYW5zIHdoZW4gZ2V0QXR0cmlidXRlIGxpZXMNCmlmICggIWFz
c2VydChmdW5jdGlvbiggZWwgKSB7DQoJcmV0dXJuIGVsLmdldEF0dHJpYnV0ZSgiZGlzYWJsZWQi
KSA9PSBudWxsOw0KfSkgKSB7DQoJYWRkSGFuZGxlKCBib29sZWFucywgZnVuY3Rpb24oIGVsZW0s
IG5hbWUsIGlzWE1MICkgew0KCQl2YXIgdmFsOw0KCQlpZiAoICFpc1hNTCApIHsNCgkJCXJldHVy
biBlbGVtWyBuYW1lIF0gPT09IHRydWUgPyBuYW1lLnRvTG93ZXJDYXNlKCkgOg0KCQkJCQkodmFs
ID0gZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKCBuYW1lICkpICYmIHZhbC5zcGVjaWZpZWQgPw0KCQkJ
CQl2YWwudmFsdWUgOg0KCQkJCW51bGw7DQoJCX0NCgl9KTsNCn0NCg0KcmV0dXJuIFNpenpsZTsN
Cg0KfSkoIHdpbmRvdyApOw0KDQoNCg0KalF1ZXJ5LmZpbmQgPSBTaXp6bGU7DQpqUXVlcnkuZXhw
ciA9IFNpenpsZS5zZWxlY3RvcnM7DQoNCi8vIERlcHJlY2F0ZWQNCmpRdWVyeS5leHByWyAiOiIg
XSA9IGpRdWVyeS5leHByLnBzZXVkb3M7DQpqUXVlcnkudW5pcXVlU29ydCA9IGpRdWVyeS51bmlx
dWUgPSBTaXp6bGUudW5pcXVlU29ydDsNCmpRdWVyeS50ZXh0ID0gU2l6emxlLmdldFRleHQ7DQpq
UXVlcnkuaXNYTUxEb2MgPSBTaXp6bGUuaXNYTUw7DQpqUXVlcnkuY29udGFpbnMgPSBTaXp6bGUu
Y29udGFpbnM7DQpqUXVlcnkuZXNjYXBlU2VsZWN0b3IgPSBTaXp6bGUuZXNjYXBlOw0KDQoNCg0K
DQp2YXIgZGlyID0gZnVuY3Rpb24oIGVsZW0sIGRpciwgdW50aWwgKSB7DQoJdmFyIG1hdGNoZWQg
PSBbXSwNCgkJdHJ1bmNhdGUgPSB1bnRpbCAhPT0gdW5kZWZpbmVkOw0KDQoJd2hpbGUgKCAoIGVs
ZW0gPSBlbGVtWyBkaXIgXSApICYmIGVsZW0ubm9kZVR5cGUgIT09IDkgKSB7DQoJCWlmICggZWxl
bS5ub2RlVHlwZSA9PT0gMSApIHsNCgkJCWlmICggdHJ1bmNhdGUgJiYgalF1ZXJ5KCBlbGVtICku
aXMoIHVudGlsICkgKSB7DQoJCQkJYnJlYWs7DQoJCQl9DQoJCQltYXRjaGVkLnB1c2goIGVsZW0g
KTsNCgkJfQ0KCX0NCglyZXR1cm4gbWF0Y2hlZDsNCn07DQoNCg0KdmFyIHNpYmxpbmdzID0gZnVu
Y3Rpb24oIG4sIGVsZW0gKSB7DQoJdmFyIG1hdGNoZWQgPSBbXTsNCg0KCWZvciAoIDsgbjsgbiA9
IG4ubmV4dFNpYmxpbmcgKSB7DQoJCWlmICggbi5ub2RlVHlwZSA9PT0gMSAmJiBuICE9PSBlbGVt
ICkgew0KCQkJbWF0Y2hlZC5wdXNoKCBuICk7DQoJCX0NCgl9DQoNCglyZXR1cm4gbWF0Y2hlZDsN
Cn07DQoNCg0KdmFyIHJuZWVkc0NvbnRleHQgPSBqUXVlcnkuZXhwci5tYXRjaC5uZWVkc0NvbnRl
eHQ7DQoNCg0KDQpmdW5jdGlvbiBub2RlTmFtZSggZWxlbSwgbmFtZSApIHsNCg0KICByZXR1cm4g
ZWxlbS5ub2RlTmFtZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUudG9M
b3dlckNhc2UoKTsNCg0KfTsNCnZhciByc2luZ2xlVGFnID0gKCAvXjwoW2Etel1bXlwvXDA+Olx4
MjBcdFxyXG5cZl0qKVtceDIwXHRcclxuXGZdKlwvPz4oPzo8XC9cMT58KSQvaSApOw0KDQoNCg0K
dmFyIHJpc1NpbXBsZSA9IC9eLlteOiNcW1wuLF0qJC87DQoNCi8vIEltcGxlbWVudCB0aGUgaWRl
bnRpY2FsIGZ1bmN0aW9uYWxpdHkgZm9yIGZpbHRlciBhbmQgbm90DQpmdW5jdGlvbiB3aW5ub3co
IGVsZW1lbnRzLCBxdWFsaWZpZXIsIG5vdCApIHsNCglpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBx
dWFsaWZpZXIgKSApIHsNCgkJcmV0dXJuIGpRdWVyeS5ncmVwKCBlbGVtZW50cywgZnVuY3Rpb24o
IGVsZW0sIGkgKSB7DQoJCQlyZXR1cm4gISFxdWFsaWZpZXIuY2FsbCggZWxlbSwgaSwgZWxlbSAp
ICE9PSBub3Q7DQoJCX0gKTsNCgl9DQoNCgkvLyBTaW5nbGUgZWxlbWVudA0KCWlmICggcXVhbGlm
aWVyLm5vZGVUeXBlICkgew0KCQlyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlv
biggZWxlbSApIHsNCgkJCXJldHVybiAoIGVsZW0gPT09IHF1YWxpZmllciApICE9PSBub3Q7DQoJ
CX0gKTsNCgl9DQoNCgkvLyBBcnJheWxpa2Ugb2YgZWxlbWVudHMgKGpRdWVyeSwgYXJndW1lbnRz
LCBBcnJheSkNCglpZiAoIHR5cGVvZiBxdWFsaWZpZXIgIT09ICJzdHJpbmciICkgew0KCQlyZXR1
cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHsNCgkJCXJldHVybiAo
IGluZGV4T2YuY2FsbCggcXVhbGlmaWVyLCBlbGVtICkgPiAtMSApICE9PSBub3Q7DQoJCX0gKTsN
Cgl9DQoNCgkvLyBTaW1wbGUgc2VsZWN0b3IgdGhhdCBjYW4gYmUgZmlsdGVyZWQgZGlyZWN0bHks
IHJlbW92aW5nIG5vbi1FbGVtZW50cw0KCWlmICggcmlzU2ltcGxlLnRlc3QoIHF1YWxpZmllciAp
ICkgew0KCQlyZXR1cm4galF1ZXJ5LmZpbHRlciggcXVhbGlmaWVyLCBlbGVtZW50cywgbm90ICk7
DQoJfQ0KDQoJLy8gQ29tcGxleCBzZWxlY3RvciwgY29tcGFyZSB0aGUgdHdvIHNldHMsIHJlbW92
aW5nIG5vbi1FbGVtZW50cw0KCXF1YWxpZmllciA9IGpRdWVyeS5maWx0ZXIoIHF1YWxpZmllciwg
ZWxlbWVudHMgKTsNCglyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxl
bSApIHsNCgkJcmV0dXJuICggaW5kZXhPZi5jYWxsKCBxdWFsaWZpZXIsIGVsZW0gKSA+IC0xICkg
IT09IG5vdCAmJiBlbGVtLm5vZGVUeXBlID09PSAxOw0KCX0gKTsNCn0NCg0KalF1ZXJ5LmZpbHRl
ciA9IGZ1bmN0aW9uKCBleHByLCBlbGVtcywgbm90ICkgew0KCXZhciBlbGVtID0gZWxlbXNbIDAg
XTsNCg0KCWlmICggbm90ICkgew0KCQlleHByID0gIjpub3QoIiArIGV4cHIgKyAiKSI7DQoJfQ0K
DQoJaWYgKCBlbGVtcy5sZW5ndGggPT09IDEgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHsNCgkJ
cmV0dXJuIGpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvciggZWxlbSwgZXhwciApID8gWyBlbGVt
IF0gOiBbXTsNCgl9DQoNCglyZXR1cm4galF1ZXJ5LmZpbmQubWF0Y2hlcyggZXhwciwgalF1ZXJ5
LmdyZXAoIGVsZW1zLCBmdW5jdGlvbiggZWxlbSApIHsNCgkJcmV0dXJuIGVsZW0ubm9kZVR5cGUg
PT09IDE7DQoJfSApICk7DQp9Ow0KDQpqUXVlcnkuZm4uZXh0ZW5kKCB7DQoJZmluZDogZnVuY3Rp
b24oIHNlbGVjdG9yICkgew0KCQl2YXIgaSwgcmV0LA0KCQkJbGVuID0gdGhpcy5sZW5ndGgsDQoJ
CQlzZWxmID0gdGhpczsNCg0KCQlpZiAoIHR5cGVvZiBzZWxlY3RvciAhPT0gInN0cmluZyIgKSB7
DQoJCQlyZXR1cm4gdGhpcy5wdXNoU3RhY2soIGpRdWVyeSggc2VsZWN0b3IgKS5maWx0ZXIoIGZ1
bmN0aW9uKCkgew0KCQkJCWZvciAoIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7DQoJCQkJCWlmICgg
alF1ZXJ5LmNvbnRhaW5zKCBzZWxmWyBpIF0sIHRoaXMgKSApIHsNCgkJCQkJCXJldHVybiB0cnVl
Ow0KCQkJCQl9DQoJCQkJfQ0KCQkJfSApICk7DQoJCX0NCg0KCQlyZXQgPSB0aGlzLnB1c2hTdGFj
ayggW10gKTsNCg0KCQlmb3IgKCBpID0gMDsgaSA8IGxlbjsgaSsrICkgew0KCQkJalF1ZXJ5LmZp
bmQoIHNlbGVjdG9yLCBzZWxmWyBpIF0sIHJldCApOw0KCQl9DQoNCgkJcmV0dXJuIGxlbiA+IDEg
PyBqUXVlcnkudW5pcXVlU29ydCggcmV0ICkgOiByZXQ7DQoJfSwNCglmaWx0ZXI6IGZ1bmN0aW9u
KCBzZWxlY3RvciApIHsNCgkJcmV0dXJuIHRoaXMucHVzaFN0YWNrKCB3aW5ub3coIHRoaXMsIHNl
bGVjdG9yIHx8IFtdLCBmYWxzZSApICk7DQoJfSwNCglub3Q6IGZ1bmN0aW9uKCBzZWxlY3RvciAp
IHsNCgkJcmV0dXJuIHRoaXMucHVzaFN0YWNrKCB3aW5ub3coIHRoaXMsIHNlbGVjdG9yIHx8IFtd
LCB0cnVlICkgKTsNCgl9LA0KCWlzOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7DQoJCXJldHVybiAh
IXdpbm5vdygNCgkJCXRoaXMsDQoNCgkJCS8vIElmIHRoaXMgaXMgYSBwb3NpdGlvbmFsL3JlbGF0
aXZlIHNlbGVjdG9yLCBjaGVjayBtZW1iZXJzaGlwIGluIHRoZSByZXR1cm5lZCBzZXQNCgkJCS8v
IHNvICQoInA6Zmlyc3QiKS5pcygicDpsYXN0Iikgd29uJ3QgcmV0dXJuIHRydWUgZm9yIGEgZG9j
IHdpdGggdHdvICJwIi4NCgkJCXR5cGVvZiBzZWxlY3RvciA9PT0gInN0cmluZyIgJiYgcm5lZWRz
Q29udGV4dC50ZXN0KCBzZWxlY3RvciApID8NCgkJCQlqUXVlcnkoIHNlbGVjdG9yICkgOg0KCQkJ
CXNlbGVjdG9yIHx8IFtdLA0KCQkJZmFsc2UNCgkJKS5sZW5ndGg7DQoJfQ0KfSApOw0KDQoNCi8v
IEluaXRpYWxpemUgYSBqUXVlcnkgb2JqZWN0DQoNCg0KLy8gQSBjZW50cmFsIHJlZmVyZW5jZSB0
byB0aGUgcm9vdCBqUXVlcnkoZG9jdW1lbnQpDQp2YXIgcm9vdGpRdWVyeSwNCg0KCS8vIEEgc2lt
cGxlIHdheSB0byBjaGVjayBmb3IgSFRNTCBzdHJpbmdzDQoJLy8gUHJpb3JpdGl6ZSAjaWQgb3Zl
ciA8dGFnPiB0byBhdm9pZCBYU1MgdmlhIGxvY2F0aW9uLmhhc2ggKCM5NTIxKQ0KCS8vIFN0cmlj
dCBIVE1MIHJlY29nbml0aW9uICgjMTEyOTA6IG11c3Qgc3RhcnQgd2l0aCA8KQ0KCS8vIFNob3J0
Y3V0IHNpbXBsZSAjaWQgY2FzZSBmb3Igc3BlZWQNCglycXVpY2tFeHByID0gL14oPzpccyooPFtc
d1xXXSs+KVtePl0qfCMoW1x3LV0rKSkkLywNCg0KCWluaXQgPSBqUXVlcnkuZm4uaW5pdCA9IGZ1
bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCwgcm9vdCApIHsNCgkJdmFyIG1hdGNoLCBlbGVtOw0K
DQoJCS8vIEhBTkRMRTogJCgiIiksICQobnVsbCksICQodW5kZWZpbmVkKSwgJChmYWxzZSkNCgkJ
aWYgKCAhc2VsZWN0b3IgKSB7DQoJCQlyZXR1cm4gdGhpczsNCgkJfQ0KDQoJCS8vIE1ldGhvZCBp
bml0KCkgYWNjZXB0cyBhbiBhbHRlcm5hdGUgcm9vdGpRdWVyeQ0KCQkvLyBzbyBtaWdyYXRlIGNh
biBzdXBwb3J0IGpRdWVyeS5zdWIgKGdoLTIxMDEpDQoJCXJvb3QgPSByb290IHx8IHJvb3RqUXVl
cnk7DQoNCgkJLy8gSGFuZGxlIEhUTUwgc3RyaW5ncw0KCQlpZiAoIHR5cGVvZiBzZWxlY3RvciA9
PT0gInN0cmluZyIgKSB7DQoJCQlpZiAoIHNlbGVjdG9yWyAwIF0gPT09ICI8IiAmJg0KCQkJCXNl
bGVjdG9yWyBzZWxlY3Rvci5sZW5ndGggLSAxIF0gPT09ICI+IiAmJg0KCQkJCXNlbGVjdG9yLmxl
bmd0aCA+PSAzICkgew0KDQoJCQkJLy8gQXNzdW1lIHRoYXQgc3RyaW5ncyB0aGF0IHN0YXJ0IGFu
ZCBlbmQgd2l0aCA8PiBhcmUgSFRNTCBhbmQgc2tpcCB0aGUgcmVnZXggY2hlY2sNCgkJCQltYXRj
aCA9IFsgbnVsbCwgc2VsZWN0b3IsIG51bGwgXTsNCg0KCQkJfSBlbHNlIHsNCgkJCQltYXRjaCA9
IHJxdWlja0V4cHIuZXhlYyggc2VsZWN0b3IgKTsNCgkJCX0NCg0KCQkJLy8gTWF0Y2ggaHRtbCBv
ciBtYWtlIHN1cmUgbm8gY29udGV4dCBpcyBzcGVjaWZpZWQgZm9yICNpZA0KCQkJaWYgKCBtYXRj
aCAmJiAoIG1hdGNoWyAxIF0gfHwgIWNvbnRleHQgKSApIHsNCg0KCQkJCS8vIEhBTkRMRTogJCho
dG1sKSAtPiAkKGFycmF5KQ0KCQkJCWlmICggbWF0Y2hbIDEgXSApIHsNCgkJCQkJY29udGV4dCA9
IGNvbnRleHQgaW5zdGFuY2VvZiBqUXVlcnkgPyBjb250ZXh0WyAwIF0gOiBjb250ZXh0Ow0KDQoJ
CQkJCS8vIE9wdGlvbiB0byBydW4gc2NyaXB0cyBpcyB0cnVlIGZvciBiYWNrLWNvbXBhdA0KCQkJ
CQkvLyBJbnRlbnRpb25hbGx5IGxldCB0aGUgZXJyb3IgYmUgdGhyb3duIGlmIHBhcnNlSFRNTCBp
cyBub3QgcHJlc2VudA0KCQkJCQlqUXVlcnkubWVyZ2UoIHRoaXMsIGpRdWVyeS5wYXJzZUhUTUwo
DQoJCQkJCQltYXRjaFsgMSBdLA0KCQkJCQkJY29udGV4dCAmJiBjb250ZXh0Lm5vZGVUeXBlID8g
Y29udGV4dC5vd25lckRvY3VtZW50IHx8IGNvbnRleHQgOiBkb2N1bWVudCwNCgkJCQkJCXRydWUN
CgkJCQkJKSApOw0KDQoJCQkJCS8vIEhBTkRMRTogJChodG1sLCBwcm9wcykNCgkJCQkJaWYgKCBy
c2luZ2xlVGFnLnRlc3QoIG1hdGNoWyAxIF0gKSAmJiBqUXVlcnkuaXNQbGFpbk9iamVjdCggY29u
dGV4dCApICkgew0KCQkJCQkJZm9yICggbWF0Y2ggaW4gY29udGV4dCApIHsNCg0KCQkJCQkJCS8v
IFByb3BlcnRpZXMgb2YgY29udGV4dCBhcmUgY2FsbGVkIGFzIG1ldGhvZHMgaWYgcG9zc2libGUN
CgkJCQkJCQlpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCB0aGlzWyBtYXRjaCBdICkgKSB7DQoJCQkJ
CQkJCXRoaXNbIG1hdGNoIF0oIGNvbnRleHRbIG1hdGNoIF0gKTsNCg0KCQkJCQkJCS8vIC4uLmFu
ZCBvdGhlcndpc2Ugc2V0IGFzIGF0dHJpYnV0ZXMNCgkJCQkJCQl9IGVsc2Ugew0KCQkJCQkJCQl0
aGlzLmF0dHIoIG1hdGNoLCBjb250ZXh0WyBtYXRjaCBdICk7DQoJCQkJCQkJfQ0KCQkJCQkJfQ0K
CQkJCQl9DQoNCgkJCQkJcmV0dXJuIHRoaXM7DQoNCgkJCQkvLyBIQU5ETEU6ICQoI2lkKQ0KCQkJ
CX0gZWxzZSB7DQoJCQkJCWVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggbWF0Y2hbIDIg
XSApOw0KDQoJCQkJCWlmICggZWxlbSApIHsNCg0KCQkJCQkJLy8gSW5qZWN0IHRoZSBlbGVtZW50
IGRpcmVjdGx5IGludG8gdGhlIGpRdWVyeSBvYmplY3QNCgkJCQkJCXRoaXNbIDAgXSA9IGVsZW07
DQoJCQkJCQl0aGlzLmxlbmd0aCA9IDE7DQoJCQkJCX0NCgkJCQkJcmV0dXJuIHRoaXM7DQoJCQkJ
fQ0KDQoJCQkvLyBIQU5ETEU6ICQoZXhwciwgJCguLi4pKQ0KCQkJfSBlbHNlIGlmICggIWNvbnRl
eHQgfHwgY29udGV4dC5qcXVlcnkgKSB7DQoJCQkJcmV0dXJuICggY29udGV4dCB8fCByb290ICku
ZmluZCggc2VsZWN0b3IgKTsNCg0KCQkJLy8gSEFORExFOiAkKGV4cHIsIGNvbnRleHQpDQoJCQkv
LyAod2hpY2ggaXMganVzdCBlcXVpdmFsZW50IHRvOiAkKGNvbnRleHQpLmZpbmQoZXhwcikNCgkJ
CX0gZWxzZSB7DQoJCQkJcmV0dXJuIHRoaXMuY29uc3RydWN0b3IoIGNvbnRleHQgKS5maW5kKCBz
ZWxlY3RvciApOw0KCQkJfQ0KDQoJCS8vIEhBTkRMRTogJChET01FbGVtZW50KQ0KCQl9IGVsc2Ug
aWYgKCBzZWxlY3Rvci5ub2RlVHlwZSApIHsNCgkJCXRoaXNbIDAgXSA9IHNlbGVjdG9yOw0KCQkJ
dGhpcy5sZW5ndGggPSAxOw0KCQkJcmV0dXJuIHRoaXM7DQoNCgkJLy8gSEFORExFOiAkKGZ1bmN0
aW9uKQ0KCQkvLyBTaG9ydGN1dCBmb3IgZG9jdW1lbnQgcmVhZHkNCgkJfSBlbHNlIGlmICggalF1
ZXJ5LmlzRnVuY3Rpb24oIHNlbGVjdG9yICkgKSB7DQoJCQlyZXR1cm4gcm9vdC5yZWFkeSAhPT0g
dW5kZWZpbmVkID8NCgkJCQlyb290LnJlYWR5KCBzZWxlY3RvciApIDoNCg0KCQkJCS8vIEV4ZWN1
dGUgaW1tZWRpYXRlbHkgaWYgcmVhZHkgaXMgbm90IHByZXNlbnQNCgkJCQlzZWxlY3RvciggalF1
ZXJ5ICk7DQoJCX0NCg0KCQlyZXR1cm4galF1ZXJ5Lm1ha2VBcnJheSggc2VsZWN0b3IsIHRoaXMg
KTsNCgl9Ow0KDQovLyBHaXZlIHRoZSBpbml0IGZ1bmN0aW9uIHRoZSBqUXVlcnkgcHJvdG90eXBl
IGZvciBsYXRlciBpbnN0YW50aWF0aW9uDQppbml0LnByb3RvdHlwZSA9IGpRdWVyeS5mbjsNCg0K
Ly8gSW5pdGlhbGl6ZSBjZW50cmFsIHJlZmVyZW5jZQ0Kcm9vdGpRdWVyeSA9IGpRdWVyeSggZG9j
dW1lbnQgKTsNCg0KDQp2YXIgcnBhcmVudHNwcmV2ID0gL14oPzpwYXJlbnRzfHByZXYoPzpVbnRp
bHxBbGwpKS8sDQoNCgkvLyBNZXRob2RzIGd1YXJhbnRlZWQgdG8gcHJvZHVjZSBhIHVuaXF1ZSBz
ZXQgd2hlbiBzdGFydGluZyBmcm9tIGEgdW5pcXVlIHNldA0KCWd1YXJhbnRlZWRVbmlxdWUgPSB7
DQoJCWNoaWxkcmVuOiB0cnVlLA0KCQljb250ZW50czogdHJ1ZSwNCgkJbmV4dDogdHJ1ZSwNCgkJ
cHJldjogdHJ1ZQ0KCX07DQoNCmpRdWVyeS5mbi5leHRlbmQoIHsNCgloYXM6IGZ1bmN0aW9uKCB0
YXJnZXQgKSB7DQoJCXZhciB0YXJnZXRzID0galF1ZXJ5KCB0YXJnZXQsIHRoaXMgKSwNCgkJCWwg
PSB0YXJnZXRzLmxlbmd0aDsNCg0KCQlyZXR1cm4gdGhpcy5maWx0ZXIoIGZ1bmN0aW9uKCkgew0K
CQkJdmFyIGkgPSAwOw0KCQkJZm9yICggOyBpIDwgbDsgaSsrICkgew0KCQkJCWlmICggalF1ZXJ5
LmNvbnRhaW5zKCB0aGlzLCB0YXJnZXRzWyBpIF0gKSApIHsNCgkJCQkJcmV0dXJuIHRydWU7DQoJ
CQkJfQ0KCQkJfQ0KCQl9ICk7DQoJfSwNCg0KCWNsb3Nlc3Q6IGZ1bmN0aW9uKCBzZWxlY3RvcnMs
IGNvbnRleHQgKSB7DQoJCXZhciBjdXIsDQoJCQlpID0gMCwNCgkJCWwgPSB0aGlzLmxlbmd0aCwN
CgkJCW1hdGNoZWQgPSBbXSwNCgkJCXRhcmdldHMgPSB0eXBlb2Ygc2VsZWN0b3JzICE9PSAic3Ry
aW5nIiAmJiBqUXVlcnkoIHNlbGVjdG9ycyApOw0KDQoJCS8vIFBvc2l0aW9uYWwgc2VsZWN0b3Jz
IG5ldmVyIG1hdGNoLCBzaW5jZSB0aGVyZSdzIG5vIF9zZWxlY3Rpb25fIGNvbnRleHQNCgkJaWYg
KCAhcm5lZWRzQ29udGV4dC50ZXN0KCBzZWxlY3RvcnMgKSApIHsNCgkJCWZvciAoIDsgaSA8IGw7
IGkrKyApIHsNCgkJCQlmb3IgKCBjdXIgPSB0aGlzWyBpIF07IGN1ciAmJiBjdXIgIT09IGNvbnRl
eHQ7IGN1ciA9IGN1ci5wYXJlbnROb2RlICkgew0KDQoJCQkJCS8vIEFsd2F5cyBza2lwIGRvY3Vt
ZW50IGZyYWdtZW50cw0KCQkJCQlpZiAoIGN1ci5ub2RlVHlwZSA8IDExICYmICggdGFyZ2V0cyA/
DQoJCQkJCQl0YXJnZXRzLmluZGV4KCBjdXIgKSA+IC0xIDoNCg0KCQkJCQkJLy8gRG9uJ3QgcGFz
cyBub24tZWxlbWVudHMgdG8gU2l6emxlDQoJCQkJCQljdXIubm9kZVR5cGUgPT09IDEgJiYNCgkJ
CQkJCQlqUXVlcnkuZmluZC5tYXRjaGVzU2VsZWN0b3IoIGN1ciwgc2VsZWN0b3JzICkgKSApIHsN
Cg0KCQkJCQkJbWF0Y2hlZC5wdXNoKCBjdXIgKTsNCgkJCQkJCWJyZWFrOw0KCQkJCQl9DQoJCQkJ
fQ0KCQkJfQ0KCQl9DQoNCgkJcmV0dXJuIHRoaXMucHVzaFN0YWNrKCBtYXRjaGVkLmxlbmd0aCA+
IDEgPyBqUXVlcnkudW5pcXVlU29ydCggbWF0Y2hlZCApIDogbWF0Y2hlZCApOw0KCX0sDQoNCgkv
LyBEZXRlcm1pbmUgdGhlIHBvc2l0aW9uIG9mIGFuIGVsZW1lbnQgd2l0aGluIHRoZSBzZXQNCglp
bmRleDogZnVuY3Rpb24oIGVsZW0gKSB7DQoNCgkJLy8gTm8gYXJndW1lbnQsIHJldHVybiBpbmRl
eCBpbiBwYXJlbnQNCgkJaWYgKCAhZWxlbSApIHsNCgkJCXJldHVybiAoIHRoaXNbIDAgXSAmJiB0
aGlzWyAwIF0ucGFyZW50Tm9kZSApID8gdGhpcy5maXJzdCgpLnByZXZBbGwoKS5sZW5ndGggOiAt
MTsNCgkJfQ0KDQoJCS8vIEluZGV4IGluIHNlbGVjdG9yDQoJCWlmICggdHlwZW9mIGVsZW0gPT09
ICJzdHJpbmciICkgew0KCQkJcmV0dXJuIGluZGV4T2YuY2FsbCggalF1ZXJ5KCBlbGVtICksIHRo
aXNbIDAgXSApOw0KCQl9DQoNCgkJLy8gTG9jYXRlIHRoZSBwb3NpdGlvbiBvZiB0aGUgZGVzaXJl
ZCBlbGVtZW50DQoJCXJldHVybiBpbmRleE9mLmNhbGwoIHRoaXMsDQoNCgkJCS8vIElmIGl0IHJl
Y2VpdmVzIGEgalF1ZXJ5IG9iamVjdCwgdGhlIGZpcnN0IGVsZW1lbnQgaXMgdXNlZA0KCQkJZWxl
bS5qcXVlcnkgPyBlbGVtWyAwIF0gOiBlbGVtDQoJCSk7DQoJfSwNCg0KCWFkZDogZnVuY3Rpb24o
IHNlbGVjdG9yLCBjb250ZXh0ICkgew0KCQlyZXR1cm4gdGhpcy5wdXNoU3RhY2soDQoJCQlqUXVl
cnkudW5pcXVlU29ydCgNCgkJCQlqUXVlcnkubWVyZ2UoIHRoaXMuZ2V0KCksIGpRdWVyeSggc2Vs
ZWN0b3IsIGNvbnRleHQgKSApDQoJCQkpDQoJCSk7DQoJfSwNCg0KCWFkZEJhY2s6IGZ1bmN0aW9u
KCBzZWxlY3RvciApIHsNCgkJcmV0dXJuIHRoaXMuYWRkKCBzZWxlY3RvciA9PSBudWxsID8NCgkJ
CXRoaXMucHJldk9iamVjdCA6IHRoaXMucHJldk9iamVjdC5maWx0ZXIoIHNlbGVjdG9yICkNCgkJ
KTsNCgl9DQp9ICk7DQoNCmZ1bmN0aW9uIHNpYmxpbmcoIGN1ciwgZGlyICkgew0KCXdoaWxlICgg
KCBjdXIgPSBjdXJbIGRpciBdICkgJiYgY3VyLm5vZGVUeXBlICE9PSAxICkge30NCglyZXR1cm4g
Y3VyOw0KfQ0KDQpqUXVlcnkuZWFjaCggew0KCXBhcmVudDogZnVuY3Rpb24oIGVsZW0gKSB7DQoJ
CXZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7DQoJCXJldHVybiBwYXJlbnQgJiYgcGFyZW50
Lm5vZGVUeXBlICE9PSAxMSA/IHBhcmVudCA6IG51bGw7DQoJfSwNCglwYXJlbnRzOiBmdW5jdGlv
biggZWxlbSApIHsNCgkJcmV0dXJuIGRpciggZWxlbSwgInBhcmVudE5vZGUiICk7DQoJfSwNCglw
YXJlbnRzVW50aWw6IGZ1bmN0aW9uKCBlbGVtLCBpLCB1bnRpbCApIHsNCgkJcmV0dXJuIGRpcigg
ZWxlbSwgInBhcmVudE5vZGUiLCB1bnRpbCApOw0KCX0sDQoJbmV4dDogZnVuY3Rpb24oIGVsZW0g
KSB7DQoJCXJldHVybiBzaWJsaW5nKCBlbGVtLCAibmV4dFNpYmxpbmciICk7DQoJfSwNCglwcmV2
OiBmdW5jdGlvbiggZWxlbSApIHsNCgkJcmV0dXJuIHNpYmxpbmcoIGVsZW0sICJwcmV2aW91c1Np
YmxpbmciICk7DQoJfSwNCgluZXh0QWxsOiBmdW5jdGlvbiggZWxlbSApIHsNCgkJcmV0dXJuIGRp
ciggZWxlbSwgIm5leHRTaWJsaW5nIiApOw0KCX0sDQoJcHJldkFsbDogZnVuY3Rpb24oIGVsZW0g
KSB7DQoJCXJldHVybiBkaXIoIGVsZW0sICJwcmV2aW91c1NpYmxpbmciICk7DQoJfSwNCgluZXh0
VW50aWw6IGZ1bmN0aW9uKCBlbGVtLCBpLCB1bnRpbCApIHsNCgkJcmV0dXJuIGRpciggZWxlbSwg
Im5leHRTaWJsaW5nIiwgdW50aWwgKTsNCgl9LA0KCXByZXZVbnRpbDogZnVuY3Rpb24oIGVsZW0s
IGksIHVudGlsICkgew0KCQlyZXR1cm4gZGlyKCBlbGVtLCAicHJldmlvdXNTaWJsaW5nIiwgdW50
aWwgKTsNCgl9LA0KCXNpYmxpbmdzOiBmdW5jdGlvbiggZWxlbSApIHsNCgkJcmV0dXJuIHNpYmxp
bmdzKCAoIGVsZW0ucGFyZW50Tm9kZSB8fCB7fSApLmZpcnN0Q2hpbGQsIGVsZW0gKTsNCgl9LA0K
CWNoaWxkcmVuOiBmdW5jdGlvbiggZWxlbSApIHsNCgkJcmV0dXJuIHNpYmxpbmdzKCBlbGVtLmZp
cnN0Q2hpbGQgKTsNCgl9LA0KCWNvbnRlbnRzOiBmdW5jdGlvbiggZWxlbSApIHsNCiAgICAgICAg
aWYgKCBub2RlTmFtZSggZWxlbSwgImlmcmFtZSIgKSApIHsNCiAgICAgICAgICAgIHJldHVybiBl
bGVtLmNvbnRlbnREb2N1bWVudDsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIFN1cHBvcnQ6IElF
IDkgLSAxMSBvbmx5LCBpT1MgNyBvbmx5LCBBbmRyb2lkIEJyb3dzZXIgPD00LjMgb25seQ0KICAg
ICAgICAvLyBUcmVhdCB0aGUgdGVtcGxhdGUgZWxlbWVudCBhcyBhIHJlZ3VsYXIgb25lIGluIGJy
b3dzZXJzIHRoYXQNCiAgICAgICAgLy8gZG9uJ3Qgc3VwcG9ydCBpdC4NCiAgICAgICAgaWYgKCBu
b2RlTmFtZSggZWxlbSwgInRlbXBsYXRlIiApICkgew0KICAgICAgICAgICAgZWxlbSA9IGVsZW0u
Y29udGVudCB8fCBlbGVtOw0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuIGpRdWVyeS5tZXJn
ZSggW10sIGVsZW0uY2hpbGROb2RlcyApOw0KCX0NCn0sIGZ1bmN0aW9uKCBuYW1lLCBmbiApIHsN
CglqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCB1bnRpbCwgc2VsZWN0b3IgKSB7DQoJCXZh
ciBtYXRjaGVkID0galF1ZXJ5Lm1hcCggdGhpcywgZm4sIHVudGlsICk7DQoNCgkJaWYgKCBuYW1l
LnNsaWNlKCAtNSApICE9PSAiVW50aWwiICkgew0KCQkJc2VsZWN0b3IgPSB1bnRpbDsNCgkJfQ0K
DQoJCWlmICggc2VsZWN0b3IgJiYgdHlwZW9mIHNlbGVjdG9yID09PSAic3RyaW5nIiApIHsNCgkJ
CW1hdGNoZWQgPSBqUXVlcnkuZmlsdGVyKCBzZWxlY3RvciwgbWF0Y2hlZCApOw0KCQl9DQoNCgkJ
aWYgKCB0aGlzLmxlbmd0aCA+IDEgKSB7DQoNCgkJCS8vIFJlbW92ZSBkdXBsaWNhdGVzDQoJCQlp
ZiAoICFndWFyYW50ZWVkVW5pcXVlWyBuYW1lIF0gKSB7DQoJCQkJalF1ZXJ5LnVuaXF1ZVNvcnQo
IG1hdGNoZWQgKTsNCgkJCX0NCg0KCQkJLy8gUmV2ZXJzZSBvcmRlciBmb3IgcGFyZW50cyogYW5k
IHByZXYtZGVyaXZhdGl2ZXMNCgkJCWlmICggcnBhcmVudHNwcmV2LnRlc3QoIG5hbWUgKSApIHsN
CgkJCQltYXRjaGVkLnJldmVyc2UoKTsNCgkJCX0NCgkJfQ0KDQoJCXJldHVybiB0aGlzLnB1c2hT
dGFjayggbWF0Y2hlZCApOw0KCX07DQp9ICk7DQp2YXIgcm5vdGh0bWx3aGl0ZSA9ICggL1teXHgy
MFx0XHJcblxmXSsvZyApOw0KDQoNCg0KLy8gQ29udmVydCBTdHJpbmctZm9ybWF0dGVkIG9wdGlv
bnMgaW50byBPYmplY3QtZm9ybWF0dGVkIG9uZXMNCmZ1bmN0aW9uIGNyZWF0ZU9wdGlvbnMoIG9w
dGlvbnMgKSB7DQoJdmFyIG9iamVjdCA9IHt9Ow0KCWpRdWVyeS5lYWNoKCBvcHRpb25zLm1hdGNo
KCBybm90aHRtbHdoaXRlICkgfHwgW10sIGZ1bmN0aW9uKCBfLCBmbGFnICkgew0KCQlvYmplY3Rb
IGZsYWcgXSA9IHRydWU7DQoJfSApOw0KCXJldHVybiBvYmplY3Q7DQp9DQoNCi8qDQogKiBDcmVh
dGUgYSBjYWxsYmFjayBsaXN0IHVzaW5nIHRoZSBmb2xsb3dpbmcgcGFyYW1ldGVyczoNCiAqDQog
KglvcHRpb25zOiBhbiBvcHRpb25hbCBsaXN0IG9mIHNwYWNlLXNlcGFyYXRlZCBvcHRpb25zIHRo
YXQgd2lsbCBjaGFuZ2UgaG93DQogKgkJCXRoZSBjYWxsYmFjayBsaXN0IGJlaGF2ZXMgb3IgYSBt
b3JlIHRyYWRpdGlvbmFsIG9wdGlvbiBvYmplY3QNCiAqDQogKiBCeSBkZWZhdWx0IGEgY2FsbGJh
Y2sgbGlzdCB3aWxsIGFjdCBsaWtlIGFuIGV2ZW50IGNhbGxiYWNrIGxpc3QgYW5kIGNhbiBiZQ0K
ICogImZpcmVkIiBtdWx0aXBsZSB0aW1lcy4NCiAqDQogKiBQb3NzaWJsZSBvcHRpb25zOg0KICoN
CiAqCW9uY2U6CQkJd2lsbCBlbnN1cmUgdGhlIGNhbGxiYWNrIGxpc3QgY2FuIG9ubHkgYmUgZmly
ZWQgb25jZSAobGlrZSBhIERlZmVycmVkKQ0KICoNCiAqCW1lbW9yeToJCQl3aWxsIGtlZXAgdHJh
Y2sgb2YgcHJldmlvdXMgdmFsdWVzIGFuZCB3aWxsIGNhbGwgYW55IGNhbGxiYWNrIGFkZGVkDQog
KgkJCQkJYWZ0ZXIgdGhlIGxpc3QgaGFzIGJlZW4gZmlyZWQgcmlnaHQgYXdheSB3aXRoIHRoZSBs
YXRlc3QgIm1lbW9yaXplZCINCiAqCQkJCQl2YWx1ZXMgKGxpa2UgYSBEZWZlcnJlZCkNCiAqDQog
Kgl1bmlxdWU6CQkJd2lsbCBlbnN1cmUgYSBjYWxsYmFjayBjYW4gb25seSBiZSBhZGRlZCBvbmNl
IChubyBkdXBsaWNhdGUgaW4gdGhlIGxpc3QpDQogKg0KICoJc3RvcE9uRmFsc2U6CWludGVycnVw
dCBjYWxsaW5ncyB3aGVuIGEgY2FsbGJhY2sgcmV0dXJucyBmYWxzZQ0KICoNCiAqLw0KalF1ZXJ5
LkNhbGxiYWNrcyA9IGZ1bmN0aW9uKCBvcHRpb25zICkgew0KDQoJLy8gQ29udmVydCBvcHRpb25z
IGZyb20gU3RyaW5nLWZvcm1hdHRlZCB0byBPYmplY3QtZm9ybWF0dGVkIGlmIG5lZWRlZA0KCS8v
ICh3ZSBjaGVjayBpbiBjYWNoZSBmaXJzdCkNCglvcHRpb25zID0gdHlwZW9mIG9wdGlvbnMgPT09
ICJzdHJpbmciID8NCgkJY3JlYXRlT3B0aW9ucyggb3B0aW9ucyApIDoNCgkJalF1ZXJ5LmV4dGVu
ZCgge30sIG9wdGlvbnMgKTsNCg0KCXZhciAvLyBGbGFnIHRvIGtub3cgaWYgbGlzdCBpcyBjdXJy
ZW50bHkgZmlyaW5nDQoJCWZpcmluZywNCg0KCQkvLyBMYXN0IGZpcmUgdmFsdWUgZm9yIG5vbi1m
b3JnZXR0YWJsZSBsaXN0cw0KCQltZW1vcnksDQoNCgkJLy8gRmxhZyB0byBrbm93IGlmIGxpc3Qg
d2FzIGFscmVhZHkgZmlyZWQNCgkJZmlyZWQsDQoNCgkJLy8gRmxhZyB0byBwcmV2ZW50IGZpcmlu
Zw0KCQlsb2NrZWQsDQoNCgkJLy8gQWN0dWFsIGNhbGxiYWNrIGxpc3QNCgkJbGlzdCA9IFtdLA0K
DQoJCS8vIFF1ZXVlIG9mIGV4ZWN1dGlvbiBkYXRhIGZvciByZXBlYXRhYmxlIGxpc3RzDQoJCXF1
ZXVlID0gW10sDQoNCgkJLy8gSW5kZXggb2YgY3VycmVudGx5IGZpcmluZyBjYWxsYmFjayAobW9k
aWZpZWQgYnkgYWRkL3JlbW92ZSBhcyBuZWVkZWQpDQoJCWZpcmluZ0luZGV4ID0gLTEsDQoNCgkJ
Ly8gRmlyZSBjYWxsYmFja3MNCgkJZmlyZSA9IGZ1bmN0aW9uKCkgew0KDQoJCQkvLyBFbmZvcmNl
IHNpbmdsZS1maXJpbmcNCgkJCWxvY2tlZCA9IGxvY2tlZCB8fCBvcHRpb25zLm9uY2U7DQoNCgkJ
CS8vIEV4ZWN1dGUgY2FsbGJhY2tzIGZvciBhbGwgcGVuZGluZyBleGVjdXRpb25zLA0KCQkJLy8g
cmVzcGVjdGluZyBmaXJpbmdJbmRleCBvdmVycmlkZXMgYW5kIHJ1bnRpbWUgY2hhbmdlcw0KCQkJ
ZmlyZWQgPSBmaXJpbmcgPSB0cnVlOw0KCQkJZm9yICggOyBxdWV1ZS5sZW5ndGg7IGZpcmluZ0lu
ZGV4ID0gLTEgKSB7DQoJCQkJbWVtb3J5ID0gcXVldWUuc2hpZnQoKTsNCgkJCQl3aGlsZSAoICsr
ZmlyaW5nSW5kZXggPCBsaXN0Lmxlbmd0aCApIHsNCg0KCQkJCQkvLyBSdW4gY2FsbGJhY2sgYW5k
IGNoZWNrIGZvciBlYXJseSB0ZXJtaW5hdGlvbg0KCQkJCQlpZiAoIGxpc3RbIGZpcmluZ0luZGV4
IF0uYXBwbHkoIG1lbW9yeVsgMCBdLCBtZW1vcnlbIDEgXSApID09PSBmYWxzZSAmJg0KCQkJCQkJ
b3B0aW9ucy5zdG9wT25GYWxzZSApIHsNCg0KCQkJCQkJLy8gSnVtcCB0byBlbmQgYW5kIGZvcmdl
dCB0aGUgZGF0YSBzbyAuYWRkIGRvZXNuJ3QgcmUtZmlyZQ0KCQkJCQkJZmlyaW5nSW5kZXggPSBs
aXN0Lmxlbmd0aDsNCgkJCQkJCW1lbW9yeSA9IGZhbHNlOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0K
DQoJCQkvLyBGb3JnZXQgdGhlIGRhdGEgaWYgd2UncmUgZG9uZSB3aXRoIGl0DQoJCQlpZiAoICFv
cHRpb25zLm1lbW9yeSApIHsNCgkJCQltZW1vcnkgPSBmYWxzZTsNCgkJCX0NCg0KCQkJZmlyaW5n
ID0gZmFsc2U7DQoNCgkJCS8vIENsZWFuIHVwIGlmIHdlJ3JlIGRvbmUgZmlyaW5nIGZvciBnb29k
DQoJCQlpZiAoIGxvY2tlZCApIHsNCg0KCQkJCS8vIEtlZXAgYW4gZW1wdHkgbGlzdCBpZiB3ZSBo
YXZlIGRhdGEgZm9yIGZ1dHVyZSBhZGQgY2FsbHMNCgkJCQlpZiAoIG1lbW9yeSApIHsNCgkJCQkJ
bGlzdCA9IFtdOw0KDQoJCQkJLy8gT3RoZXJ3aXNlLCB0aGlzIG9iamVjdCBpcyBzcGVudA0KCQkJ
CX0gZWxzZSB7DQoJCQkJCWxpc3QgPSAiIjsNCgkJCQl9DQoJCQl9DQoJCX0sDQoNCgkJLy8gQWN0
dWFsIENhbGxiYWNrcyBvYmplY3QNCgkJc2VsZiA9IHsNCg0KCQkJLy8gQWRkIGEgY2FsbGJhY2sg
b3IgYSBjb2xsZWN0aW9uIG9mIGNhbGxiYWNrcyB0byB0aGUgbGlzdA0KCQkJYWRkOiBmdW5jdGlv
bigpIHsNCgkJCQlpZiAoIGxpc3QgKSB7DQoNCgkJCQkJLy8gSWYgd2UgaGF2ZSBtZW1vcnkgZnJv
bSBhIHBhc3QgcnVuLCB3ZSBzaG91bGQgZmlyZSBhZnRlciBhZGRpbmcNCgkJCQkJaWYgKCBtZW1v
cnkgJiYgIWZpcmluZyApIHsNCgkJCQkJCWZpcmluZ0luZGV4ID0gbGlzdC5sZW5ndGggLSAxOw0K
CQkJCQkJcXVldWUucHVzaCggbWVtb3J5ICk7DQoJCQkJCX0NCg0KCQkJCQkoIGZ1bmN0aW9uIGFk
ZCggYXJncyApIHsNCgkJCQkJCWpRdWVyeS5lYWNoKCBhcmdzLCBmdW5jdGlvbiggXywgYXJnICkg
ew0KCQkJCQkJCWlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGFyZyApICkgew0KCQkJCQkJCQlpZiAo
ICFvcHRpb25zLnVuaXF1ZSB8fCAhc2VsZi5oYXMoIGFyZyApICkgew0KCQkJCQkJCQkJbGlzdC5w
dXNoKCBhcmcgKTsNCgkJCQkJCQkJfQ0KCQkJCQkJCX0gZWxzZSBpZiAoIGFyZyAmJiBhcmcubGVu
Z3RoICYmIGpRdWVyeS50eXBlKCBhcmcgKSAhPT0gInN0cmluZyIgKSB7DQoNCgkJCQkJCQkJLy8g
SW5zcGVjdCByZWN1cnNpdmVseQ0KCQkJCQkJCQlhZGQoIGFyZyApOw0KCQkJCQkJCX0NCgkJCQkJ
CX0gKTsNCgkJCQkJfSApKCBhcmd1bWVudHMgKTsNCg0KCQkJCQlpZiAoIG1lbW9yeSAmJiAhZmly
aW5nICkgew0KCQkJCQkJZmlyZSgpOw0KCQkJCQl9DQoJCQkJfQ0KCQkJCXJldHVybiB0aGlzOw0K
CQkJfSwNCg0KCQkJLy8gUmVtb3ZlIGEgY2FsbGJhY2sgZnJvbSB0aGUgbGlzdA0KCQkJcmVtb3Zl
OiBmdW5jdGlvbigpIHsNCgkJCQlqUXVlcnkuZWFjaCggYXJndW1lbnRzLCBmdW5jdGlvbiggXywg
YXJnICkgew0KCQkJCQl2YXIgaW5kZXg7DQoJCQkJCXdoaWxlICggKCBpbmRleCA9IGpRdWVyeS5p
bkFycmF5KCBhcmcsIGxpc3QsIGluZGV4ICkgKSA+IC0xICkgew0KCQkJCQkJbGlzdC5zcGxpY2Uo
IGluZGV4LCAxICk7DQoNCgkJCQkJCS8vIEhhbmRsZSBmaXJpbmcgaW5kZXhlcw0KCQkJCQkJaWYg
KCBpbmRleCA8PSBmaXJpbmdJbmRleCApIHsNCgkJCQkJCQlmaXJpbmdJbmRleC0tOw0KCQkJCQkJ
fQ0KCQkJCQl9DQoJCQkJfSApOw0KCQkJCXJldHVybiB0aGlzOw0KCQkJfSwNCg0KCQkJLy8gQ2hl
Y2sgaWYgYSBnaXZlbiBjYWxsYmFjayBpcyBpbiB0aGUgbGlzdC4NCgkJCS8vIElmIG5vIGFyZ3Vt
ZW50IGlzIGdpdmVuLCByZXR1cm4gd2hldGhlciBvciBub3QgbGlzdCBoYXMgY2FsbGJhY2tzIGF0
dGFjaGVkLg0KCQkJaGFzOiBmdW5jdGlvbiggZm4gKSB7DQoJCQkJcmV0dXJuIGZuID8NCgkJCQkJ
alF1ZXJ5LmluQXJyYXkoIGZuLCBsaXN0ICkgPiAtMSA6DQoJCQkJCWxpc3QubGVuZ3RoID4gMDsN
CgkJCX0sDQoNCgkJCS8vIFJlbW92ZSBhbGwgY2FsbGJhY2tzIGZyb20gdGhlIGxpc3QNCgkJCWVt
cHR5OiBmdW5jdGlvbigpIHsNCgkJCQlpZiAoIGxpc3QgKSB7DQoJCQkJCWxpc3QgPSBbXTsNCgkJ
CQl9DQoJCQkJcmV0dXJuIHRoaXM7DQoJCQl9LA0KDQoJCQkvLyBEaXNhYmxlIC5maXJlIGFuZCAu
YWRkDQoJCQkvLyBBYm9ydCBhbnkgY3VycmVudC9wZW5kaW5nIGV4ZWN1dGlvbnMNCgkJCS8vIENs
ZWFyIGFsbCBjYWxsYmFja3MgYW5kIHZhbHVlcw0KCQkJZGlzYWJsZTogZnVuY3Rpb24oKSB7DQoJ
CQkJbG9ja2VkID0gcXVldWUgPSBbXTsNCgkJCQlsaXN0ID0gbWVtb3J5ID0gIiI7DQoJCQkJcmV0
dXJuIHRoaXM7DQoJCQl9LA0KCQkJZGlzYWJsZWQ6IGZ1bmN0aW9uKCkgew0KCQkJCXJldHVybiAh
bGlzdDsNCgkJCX0sDQoNCgkJCS8vIERpc2FibGUgLmZpcmUNCgkJCS8vIEFsc28gZGlzYWJsZSAu
YWRkIHVubGVzcyB3ZSBoYXZlIG1lbW9yeSAoc2luY2UgaXQgd291bGQgaGF2ZSBubyBlZmZlY3Qp
DQoJCQkvLyBBYm9ydCBhbnkgcGVuZGluZyBleGVjdXRpb25zDQoJCQlsb2NrOiBmdW5jdGlvbigp
IHsNCgkJCQlsb2NrZWQgPSBxdWV1ZSA9IFtdOw0KCQkJCWlmICggIW1lbW9yeSAmJiAhZmlyaW5n
ICkgew0KCQkJCQlsaXN0ID0gbWVtb3J5ID0gIiI7DQoJCQkJfQ0KCQkJCXJldHVybiB0aGlzOw0K
CQkJfSwNCgkJCWxvY2tlZDogZnVuY3Rpb24oKSB7DQoJCQkJcmV0dXJuICEhbG9ja2VkOw0KCQkJ
fSwNCg0KCQkJLy8gQ2FsbCBhbGwgY2FsbGJhY2tzIHdpdGggdGhlIGdpdmVuIGNvbnRleHQgYW5k
IGFyZ3VtZW50cw0KCQkJZmlyZVdpdGg6IGZ1bmN0aW9uKCBjb250ZXh0LCBhcmdzICkgew0KCQkJ
CWlmICggIWxvY2tlZCApIHsNCgkJCQkJYXJncyA9IGFyZ3MgfHwgW107DQoJCQkJCWFyZ3MgPSBb
IGNvbnRleHQsIGFyZ3Muc2xpY2UgPyBhcmdzLnNsaWNlKCkgOiBhcmdzIF07DQoJCQkJCXF1ZXVl
LnB1c2goIGFyZ3MgKTsNCgkJCQkJaWYgKCAhZmlyaW5nICkgew0KCQkJCQkJZmlyZSgpOw0KCQkJ
CQl9DQoJCQkJfQ0KCQkJCXJldHVybiB0aGlzOw0KCQkJfSwNCg0KCQkJLy8gQ2FsbCBhbGwgdGhl
IGNhbGxiYWNrcyB3aXRoIHRoZSBnaXZlbiBhcmd1bWVudHMNCgkJCWZpcmU6IGZ1bmN0aW9uKCkg
ew0KCQkJCXNlbGYuZmlyZVdpdGgoIHRoaXMsIGFyZ3VtZW50cyApOw0KCQkJCXJldHVybiB0aGlz
Ow0KCQkJfSwNCg0KCQkJLy8gVG8ga25vdyBpZiB0aGUgY2FsbGJhY2tzIGhhdmUgYWxyZWFkeSBi
ZWVuIGNhbGxlZCBhdCBsZWFzdCBvbmNlDQoJCQlmaXJlZDogZnVuY3Rpb24oKSB7DQoJCQkJcmV0
dXJuICEhZmlyZWQ7DQoJCQl9DQoJCX07DQoNCglyZXR1cm4gc2VsZjsNCn07DQoNCg0KZnVuY3Rp
b24gSWRlbnRpdHkoIHYgKSB7DQoJcmV0dXJuIHY7DQp9DQpmdW5jdGlvbiBUaHJvd2VyKCBleCAp
IHsNCgl0aHJvdyBleDsNCn0NCg0KZnVuY3Rpb24gYWRvcHRWYWx1ZSggdmFsdWUsIHJlc29sdmUs
IHJlamVjdCwgbm9WYWx1ZSApIHsNCgl2YXIgbWV0aG9kOw0KDQoJdHJ5IHsNCg0KCQkvLyBDaGVj
ayBmb3IgcHJvbWlzZSBhc3BlY3QgZmlyc3QgdG8gcHJpdmlsZWdlIHN5bmNocm9ub3VzIGJlaGF2
aW9yDQoJCWlmICggdmFsdWUgJiYgalF1ZXJ5LmlzRnVuY3Rpb24oICggbWV0aG9kID0gdmFsdWUu
cHJvbWlzZSApICkgKSB7DQoJCQltZXRob2QuY2FsbCggdmFsdWUgKS5kb25lKCByZXNvbHZlICku
ZmFpbCggcmVqZWN0ICk7DQoNCgkJLy8gT3RoZXIgdGhlbmFibGVzDQoJCX0gZWxzZSBpZiAoIHZh
bHVlICYmIGpRdWVyeS5pc0Z1bmN0aW9uKCAoIG1ldGhvZCA9IHZhbHVlLnRoZW4gKSApICkgew0K
CQkJbWV0aG9kLmNhbGwoIHZhbHVlLCByZXNvbHZlLCByZWplY3QgKTsNCg0KCQkvLyBPdGhlciBu
b24tdGhlbmFibGVzDQoJCX0gZWxzZSB7DQoNCgkJCS8vIENvbnRyb2wgYHJlc29sdmVgIGFyZ3Vt
ZW50cyBieSBsZXR0aW5nIEFycmF5I3NsaWNlIGNhc3QgYm9vbGVhbiBgbm9WYWx1ZWAgdG8gaW50
ZWdlcjoNCgkJCS8vICogZmFsc2U6IFsgdmFsdWUgXS5zbGljZSggMCApID0+IHJlc29sdmUoIHZh
bHVlICkNCgkJCS8vICogdHJ1ZTogWyB2YWx1ZSBdLnNsaWNlKCAxICkgPT4gcmVzb2x2ZSgpDQoJ
CQlyZXNvbHZlLmFwcGx5KCB1bmRlZmluZWQsIFsgdmFsdWUgXS5zbGljZSggbm9WYWx1ZSApICk7
DQoJCX0NCg0KCS8vIEZvciBQcm9taXNlcy9BKywgY29udmVydCBleGNlcHRpb25zIGludG8gcmVq
ZWN0aW9ucw0KCS8vIFNpbmNlIGpRdWVyeS53aGVuIGRvZXNuJ3QgdW53cmFwIHRoZW5hYmxlcywg
d2UgY2FuIHNraXAgdGhlIGV4dHJhIGNoZWNrcyBhcHBlYXJpbmcgaW4NCgkvLyBEZWZlcnJlZCN0
aGVuIHRvIGNvbmRpdGlvbmFsbHkgc3VwcHJlc3MgcmVqZWN0aW9uLg0KCX0gY2F0Y2ggKCB2YWx1
ZSApIHsNCg0KCQkvLyBTdXBwb3J0OiBBbmRyb2lkIDQuMCBvbmx5DQoJCS8vIFN0cmljdCBtb2Rl
IGZ1bmN0aW9ucyBpbnZva2VkIHdpdGhvdXQgLmNhbGwvLmFwcGx5IGdldCBnbG9iYWwtb2JqZWN0
IGNvbnRleHQNCgkJcmVqZWN0LmFwcGx5KCB1bmRlZmluZWQsIFsgdmFsdWUgXSApOw0KCX0NCn0N
Cg0KalF1ZXJ5LmV4dGVuZCggew0KDQoJRGVmZXJyZWQ6IGZ1bmN0aW9uKCBmdW5jICkgew0KCQl2
YXIgdHVwbGVzID0gWw0KDQoJCQkJLy8gYWN0aW9uLCBhZGQgbGlzdGVuZXIsIGNhbGxiYWNrcywN
CgkJCQkvLyAuLi4gLnRoZW4gaGFuZGxlcnMsIGFyZ3VtZW50IGluZGV4LCBbZmluYWwgc3RhdGVd
DQoJCQkJWyAibm90aWZ5IiwgInByb2dyZXNzIiwgalF1ZXJ5LkNhbGxiYWNrcyggIm1lbW9yeSIg
KSwNCgkJCQkJalF1ZXJ5LkNhbGxiYWNrcyggIm1lbW9yeSIgKSwgMiBdLA0KCQkJCVsgInJlc29s
dmUiLCAiZG9uZSIsIGpRdWVyeS5DYWxsYmFja3MoICJvbmNlIG1lbW9yeSIgKSwNCgkJCQkJalF1
ZXJ5LkNhbGxiYWNrcyggIm9uY2UgbWVtb3J5IiApLCAwLCAicmVzb2x2ZWQiIF0sDQoJCQkJWyAi
cmVqZWN0IiwgImZhaWwiLCBqUXVlcnkuQ2FsbGJhY2tzKCAib25jZSBtZW1vcnkiICksDQoJCQkJ
CWpRdWVyeS5DYWxsYmFja3MoICJvbmNlIG1lbW9yeSIgKSwgMSwgInJlamVjdGVkIiBdDQoJCQld
LA0KCQkJc3RhdGUgPSAicGVuZGluZyIsDQoJCQlwcm9taXNlID0gew0KCQkJCXN0YXRlOiBmdW5j
dGlvbigpIHsNCgkJCQkJcmV0dXJuIHN0YXRlOw0KCQkJCX0sDQoJCQkJYWx3YXlzOiBmdW5jdGlv
bigpIHsNCgkJCQkJZGVmZXJyZWQuZG9uZSggYXJndW1lbnRzICkuZmFpbCggYXJndW1lbnRzICk7
DQoJCQkJCXJldHVybiB0aGlzOw0KCQkJCX0sDQoJCQkJImNhdGNoIjogZnVuY3Rpb24oIGZuICkg
ew0KCQkJCQlyZXR1cm4gcHJvbWlzZS50aGVuKCBudWxsLCBmbiApOw0KCQkJCX0sDQoNCgkJCQkv
LyBLZWVwIHBpcGUgZm9yIGJhY2stY29tcGF0DQoJCQkJcGlwZTogZnVuY3Rpb24oIC8qIGZuRG9u
ZSwgZm5GYWlsLCBmblByb2dyZXNzICovICkgew0KCQkJCQl2YXIgZm5zID0gYXJndW1lbnRzOw0K
DQoJCQkJCXJldHVybiBqUXVlcnkuRGVmZXJyZWQoIGZ1bmN0aW9uKCBuZXdEZWZlciApIHsNCgkJ
CQkJCWpRdWVyeS5lYWNoKCB0dXBsZXMsIGZ1bmN0aW9uKCBpLCB0dXBsZSApIHsNCg0KCQkJCQkJ
CS8vIE1hcCB0dXBsZXMgKHByb2dyZXNzLCBkb25lLCBmYWlsKSB0byBhcmd1bWVudHMgKGRvbmUs
IGZhaWwsIHByb2dyZXNzKQ0KCQkJCQkJCXZhciBmbiA9IGpRdWVyeS5pc0Z1bmN0aW9uKCBmbnNb
IHR1cGxlWyA0IF0gXSApICYmIGZuc1sgdHVwbGVbIDQgXSBdOw0KDQoJCQkJCQkJLy8gZGVmZXJy
ZWQucHJvZ3Jlc3MoZnVuY3Rpb24oKSB7IGJpbmQgdG8gbmV3RGVmZXIgb3IgbmV3RGVmZXIubm90
aWZ5IH0pDQoJCQkJCQkJLy8gZGVmZXJyZWQuZG9uZShmdW5jdGlvbigpIHsgYmluZCB0byBuZXdE
ZWZlciBvciBuZXdEZWZlci5yZXNvbHZlIH0pDQoJCQkJCQkJLy8gZGVmZXJyZWQuZmFpbChmdW5j
dGlvbigpIHsgYmluZCB0byBuZXdEZWZlciBvciBuZXdEZWZlci5yZWplY3QgfSkNCgkJCQkJCQlk
ZWZlcnJlZFsgdHVwbGVbIDEgXSBdKCBmdW5jdGlvbigpIHsNCgkJCQkJCQkJdmFyIHJldHVybmVk
ID0gZm4gJiYgZm4uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApOw0KCQkJCQkJCQlpZiAoIHJldHVy
bmVkICYmIGpRdWVyeS5pc0Z1bmN0aW9uKCByZXR1cm5lZC5wcm9taXNlICkgKSB7DQoJCQkJCQkJ
CQlyZXR1cm5lZC5wcm9taXNlKCkNCgkJCQkJCQkJCQkucHJvZ3Jlc3MoIG5ld0RlZmVyLm5vdGlm
eSApDQoJCQkJCQkJCQkJLmRvbmUoIG5ld0RlZmVyLnJlc29sdmUgKQ0KCQkJCQkJCQkJCS5mYWls
KCBuZXdEZWZlci5yZWplY3QgKTsNCgkJCQkJCQkJfSBlbHNlIHsNCgkJCQkJCQkJCW5ld0RlZmVy
WyB0dXBsZVsgMCBdICsgIldpdGgiIF0oDQoJCQkJCQkJCQkJdGhpcywNCgkJCQkJCQkJCQlmbiA/
IFsgcmV0dXJuZWQgXSA6IGFyZ3VtZW50cw0KCQkJCQkJCQkJKTsNCgkJCQkJCQkJfQ0KCQkJCQkJ
CX0gKTsNCgkJCQkJCX0gKTsNCgkJCQkJCWZucyA9IG51bGw7DQoJCQkJCX0gKS5wcm9taXNlKCk7
DQoJCQkJfSwNCgkJCQl0aGVuOiBmdW5jdGlvbiggb25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIG9u
UHJvZ3Jlc3MgKSB7DQoJCQkJCXZhciBtYXhEZXB0aCA9IDA7DQoJCQkJCWZ1bmN0aW9uIHJlc29s
dmUoIGRlcHRoLCBkZWZlcnJlZCwgaGFuZGxlciwgc3BlY2lhbCApIHsNCgkJCQkJCXJldHVybiBm
dW5jdGlvbigpIHsNCgkJCQkJCQl2YXIgdGhhdCA9IHRoaXMsDQoJCQkJCQkJCWFyZ3MgPSBhcmd1
bWVudHMsDQoJCQkJCQkJCW1pZ2h0VGhyb3cgPSBmdW5jdGlvbigpIHsNCgkJCQkJCQkJCXZhciBy
ZXR1cm5lZCwgdGhlbjsNCg0KCQkJCQkJCQkJLy8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlv
biAyLjMuMy4zLjMNCgkJCQkJCQkJCS8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50
LTU5DQoJCQkJCQkJCQkvLyBJZ25vcmUgZG91YmxlLXJlc29sdXRpb24gYXR0ZW1wdHMNCgkJCQkJ
CQkJCWlmICggZGVwdGggPCBtYXhEZXB0aCApIHsNCgkJCQkJCQkJCQlyZXR1cm47DQoJCQkJCQkJ
CQl9DQoNCgkJCQkJCQkJCXJldHVybmVkID0gaGFuZGxlci5hcHBseSggdGhhdCwgYXJncyApOw0K
DQoJCQkJCQkJCQkvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4xDQoJCQkJCQkJ
CQkvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC00OA0KCQkJCQkJCQkJaWYgKCBy
ZXR1cm5lZCA9PT0gZGVmZXJyZWQucHJvbWlzZSgpICkgew0KCQkJCQkJCQkJCXRocm93IG5ldyBU
eXBlRXJyb3IoICJUaGVuYWJsZSBzZWxmLXJlc29sdXRpb24iICk7DQoJCQkJCQkJCQl9DQoNCgkJ
CQkJCQkJCS8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb25zIDIuMy4zLjEsIDMuNQ0KCQkJ
CQkJCQkJLy8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNTQNCgkJCQkJCQkJCS8v
IGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTc1DQoJCQkJCQkJCQkvLyBSZXRyaWV2
ZSBgdGhlbmAgb25seSBvbmNlDQoJCQkJCQkJCQl0aGVuID0gcmV0dXJuZWQgJiYNCg0KCQkJCQkJ
CQkJCS8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjQNCgkJCQkJCQkJCQkvLyBo
dHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC02NA0KCQkJCQkJCQkJCS8vIE9ubHkgY2hl
Y2sgb2JqZWN0cyBhbmQgZnVuY3Rpb25zIGZvciB0aGVuYWJpbGl0eQ0KCQkJCQkJCQkJCSggdHlw
ZW9mIHJldHVybmVkID09PSAib2JqZWN0IiB8fA0KCQkJCQkJCQkJCQl0eXBlb2YgcmV0dXJuZWQg
PT09ICJmdW5jdGlvbiIgKSAmJg0KCQkJCQkJCQkJCXJldHVybmVkLnRoZW47DQoNCgkJCQkJCQkJ
CS8vIEhhbmRsZSBhIHJldHVybmVkIHRoZW5hYmxlDQoJCQkJCQkJCQlpZiAoIGpRdWVyeS5pc0Z1
bmN0aW9uKCB0aGVuICkgKSB7DQoNCgkJCQkJCQkJCQkvLyBTcGVjaWFsIHByb2Nlc3NvcnMgKG5v
dGlmeSkganVzdCB3YWl0IGZvciByZXNvbHV0aW9uDQoJCQkJCQkJCQkJaWYgKCBzcGVjaWFsICkg
ew0KCQkJCQkJCQkJCQl0aGVuLmNhbGwoDQoJCQkJCQkJCQkJCQlyZXR1cm5lZCwNCgkJCQkJCQkJ
CQkJCXJlc29sdmUoIG1heERlcHRoLCBkZWZlcnJlZCwgSWRlbnRpdHksIHNwZWNpYWwgKSwNCgkJ
CQkJCQkJCQkJCXJlc29sdmUoIG1heERlcHRoLCBkZWZlcnJlZCwgVGhyb3dlciwgc3BlY2lhbCAp
DQoJCQkJCQkJCQkJCSk7DQoNCgkJCQkJCQkJCQkvLyBOb3JtYWwgcHJvY2Vzc29ycyAocmVzb2x2
ZSkgYWxzbyBob29rIGludG8gcHJvZ3Jlc3MNCgkJCQkJCQkJCQl9IGVsc2Ugew0KDQoJCQkJCQkJ
CQkJCS8vIC4uLmFuZCBkaXNyZWdhcmQgb2xkZXIgcmVzb2x1dGlvbiB2YWx1ZXMNCgkJCQkJCQkJ
CQkJbWF4RGVwdGgrKzsNCg0KCQkJCQkJCQkJCQl0aGVuLmNhbGwoDQoJCQkJCQkJCQkJCQlyZXR1
cm5lZCwNCgkJCQkJCQkJCQkJCXJlc29sdmUoIG1heERlcHRoLCBkZWZlcnJlZCwgSWRlbnRpdHks
IHNwZWNpYWwgKSwNCgkJCQkJCQkJCQkJCXJlc29sdmUoIG1heERlcHRoLCBkZWZlcnJlZCwgVGhy
b3dlciwgc3BlY2lhbCApLA0KCQkJCQkJCQkJCQkJcmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVk
LCBJZGVudGl0eSwNCgkJCQkJCQkJCQkJCQlkZWZlcnJlZC5ub3RpZnlXaXRoICkNCgkJCQkJCQkJ
CQkJKTsNCgkJCQkJCQkJCQl9DQoNCgkJCQkJCQkJCS8vIEhhbmRsZSBhbGwgb3RoZXIgcmV0dXJu
ZWQgdmFsdWVzDQoJCQkJCQkJCQl9IGVsc2Ugew0KDQoJCQkJCQkJCQkJLy8gT25seSBzdWJzdGl0
dXRlIGhhbmRsZXJzIHBhc3Mgb24gY29udGV4dA0KCQkJCQkJCQkJCS8vIGFuZCBtdWx0aXBsZSB2
YWx1ZXMgKG5vbi1zcGVjIGJlaGF2aW9yKQ0KCQkJCQkJCQkJCWlmICggaGFuZGxlciAhPT0gSWRl
bnRpdHkgKSB7DQoJCQkJCQkJCQkJCXRoYXQgPSB1bmRlZmluZWQ7DQoJCQkJCQkJCQkJCWFyZ3Mg
PSBbIHJldHVybmVkIF07DQoJCQkJCQkJCQkJfQ0KDQoJCQkJCQkJCQkJLy8gUHJvY2VzcyB0aGUg
dmFsdWUocykNCgkJCQkJCQkJCQkvLyBEZWZhdWx0IHByb2Nlc3MgaXMgcmVzb2x2ZQ0KCQkJCQkJ
CQkJCSggc3BlY2lhbCB8fCBkZWZlcnJlZC5yZXNvbHZlV2l0aCApKCB0aGF0LCBhcmdzICk7DQoJ
CQkJCQkJCQl9DQoJCQkJCQkJCX0sDQoNCgkJCQkJCQkJLy8gT25seSBub3JtYWwgcHJvY2Vzc29y
cyAocmVzb2x2ZSkgY2F0Y2ggYW5kIHJlamVjdCBleGNlcHRpb25zDQoJCQkJCQkJCXByb2Nlc3Mg
PSBzcGVjaWFsID8NCgkJCQkJCQkJCW1pZ2h0VGhyb3cgOg0KCQkJCQkJCQkJZnVuY3Rpb24oKSB7
DQoJCQkJCQkJCQkJdHJ5IHsNCgkJCQkJCQkJCQkJbWlnaHRUaHJvdygpOw0KCQkJCQkJCQkJCX0g
Y2F0Y2ggKCBlICkgew0KDQoJCQkJCQkJCQkJCWlmICggalF1ZXJ5LkRlZmVycmVkLmV4Y2VwdGlv
bkhvb2sgKSB7DQoJCQkJCQkJCQkJCQlqUXVlcnkuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayggZSwN
CgkJCQkJCQkJCQkJCQlwcm9jZXNzLnN0YWNrVHJhY2UgKTsNCgkJCQkJCQkJCQkJfQ0KDQoJCQkJ
CQkJCQkJCS8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjMuMy40LjENCgkJCQkJ
CQkJCQkJLy8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNjENCgkJCQkJCQkJCQkJ
Ly8gSWdub3JlIHBvc3QtcmVzb2x1dGlvbiBleGNlcHRpb25zDQoJCQkJCQkJCQkJCWlmICggZGVw
dGggKyAxID49IG1heERlcHRoICkgew0KDQoJCQkJCQkJCQkJCQkvLyBPbmx5IHN1YnN0aXR1dGUg
aGFuZGxlcnMgcGFzcyBvbiBjb250ZXh0DQoJCQkJCQkJCQkJCQkvLyBhbmQgbXVsdGlwbGUgdmFs
dWVzIChub24tc3BlYyBiZWhhdmlvcikNCgkJCQkJCQkJCQkJCWlmICggaGFuZGxlciAhPT0gVGhy
b3dlciApIHsNCgkJCQkJCQkJCQkJCQl0aGF0ID0gdW5kZWZpbmVkOw0KCQkJCQkJCQkJCQkJCWFy
Z3MgPSBbIGUgXTsNCgkJCQkJCQkJCQkJCX0NCg0KCQkJCQkJCQkJCQkJZGVmZXJyZWQucmVqZWN0
V2l0aCggdGhhdCwgYXJncyApOw0KCQkJCQkJCQkJCQl9DQoJCQkJCQkJCQkJfQ0KCQkJCQkJCQkJ
fTsNCg0KCQkJCQkJCS8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjMuMy4xDQoJ
CQkJCQkJLy8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNTcNCgkJCQkJCQkvLyBS
ZS1yZXNvbHZlIHByb21pc2VzIGltbWVkaWF0ZWx5IHRvIGRvZGdlIGZhbHNlIHJlamVjdGlvbiBm
cm9tDQoJCQkJCQkJLy8gc3Vic2VxdWVudCBlcnJvcnMNCgkJCQkJCQlpZiAoIGRlcHRoICkgew0K
CQkJCQkJCQlwcm9jZXNzKCk7DQoJCQkJCQkJfSBlbHNlIHsNCg0KCQkJCQkJCQkvLyBDYWxsIGFu
IG9wdGlvbmFsIGhvb2sgdG8gcmVjb3JkIHRoZSBzdGFjaywgaW4gY2FzZSBvZiBleGNlcHRpb24N
CgkJCQkJCQkJLy8gc2luY2UgaXQncyBvdGhlcndpc2UgbG9zdCB3aGVuIGV4ZWN1dGlvbiBnb2Vz
IGFzeW5jDQoJCQkJCQkJCWlmICggalF1ZXJ5LkRlZmVycmVkLmdldFN0YWNrSG9vayApIHsNCgkJ
CQkJCQkJCXByb2Nlc3Muc3RhY2tUcmFjZSA9IGpRdWVyeS5EZWZlcnJlZC5nZXRTdGFja0hvb2so
KTsNCgkJCQkJCQkJfQ0KCQkJCQkJCQl3aW5kb3cuc2V0VGltZW91dCggcHJvY2VzcyApOw0KCQkJ
CQkJCX0NCgkJCQkJCX07DQoJCQkJCX0NCg0KCQkJCQlyZXR1cm4galF1ZXJ5LkRlZmVycmVkKCBm
dW5jdGlvbiggbmV3RGVmZXIgKSB7DQoNCgkJCQkJCS8vIHByb2dyZXNzX2hhbmRsZXJzLmFkZCgg
Li4uICkNCgkJCQkJCXR1cGxlc1sgMCBdWyAzIF0uYWRkKA0KCQkJCQkJCXJlc29sdmUoDQoJCQkJ
CQkJCTAsDQoJCQkJCQkJCW5ld0RlZmVyLA0KCQkJCQkJCQlqUXVlcnkuaXNGdW5jdGlvbiggb25Q
cm9ncmVzcyApID8NCgkJCQkJCQkJCW9uUHJvZ3Jlc3MgOg0KCQkJCQkJCQkJSWRlbnRpdHksDQoJ
CQkJCQkJCW5ld0RlZmVyLm5vdGlmeVdpdGgNCgkJCQkJCQkpDQoJCQkJCQkpOw0KDQoJCQkJCQkv
LyBmdWxmaWxsZWRfaGFuZGxlcnMuYWRkKCAuLi4gKQ0KCQkJCQkJdHVwbGVzWyAxIF1bIDMgXS5h
ZGQoDQoJCQkJCQkJcmVzb2x2ZSgNCgkJCQkJCQkJMCwNCgkJCQkJCQkJbmV3RGVmZXIsDQoJCQkJ
CQkJCWpRdWVyeS5pc0Z1bmN0aW9uKCBvbkZ1bGZpbGxlZCApID8NCgkJCQkJCQkJCW9uRnVsZmls
bGVkIDoNCgkJCQkJCQkJCUlkZW50aXR5DQoJCQkJCQkJKQ0KCQkJCQkJKTsNCg0KCQkJCQkJLy8g
cmVqZWN0ZWRfaGFuZGxlcnMuYWRkKCAuLi4gKQ0KCQkJCQkJdHVwbGVzWyAyIF1bIDMgXS5hZGQo
DQoJCQkJCQkJcmVzb2x2ZSgNCgkJCQkJCQkJMCwNCgkJCQkJCQkJbmV3RGVmZXIsDQoJCQkJCQkJ
CWpRdWVyeS5pc0Z1bmN0aW9uKCBvblJlamVjdGVkICkgPw0KCQkJCQkJCQkJb25SZWplY3RlZCA6
DQoJCQkJCQkJCQlUaHJvd2VyDQoJCQkJCQkJKQ0KCQkJCQkJKTsNCgkJCQkJfSApLnByb21pc2Uo
KTsNCgkJCQl9LA0KDQoJCQkJLy8gR2V0IGEgcHJvbWlzZSBmb3IgdGhpcyBkZWZlcnJlZA0KCQkJ
CS8vIElmIG9iaiBpcyBwcm92aWRlZCwgdGhlIHByb21pc2UgYXNwZWN0IGlzIGFkZGVkIHRvIHRo
ZSBvYmplY3QNCgkJCQlwcm9taXNlOiBmdW5jdGlvbiggb2JqICkgew0KCQkJCQlyZXR1cm4gb2Jq
ICE9IG51bGwgPyBqUXVlcnkuZXh0ZW5kKCBvYmosIHByb21pc2UgKSA6IHByb21pc2U7DQoJCQkJ
fQ0KCQkJfSwNCgkJCWRlZmVycmVkID0ge307DQoNCgkJLy8gQWRkIGxpc3Qtc3BlY2lmaWMgbWV0
aG9kcw0KCQlqUXVlcnkuZWFjaCggdHVwbGVzLCBmdW5jdGlvbiggaSwgdHVwbGUgKSB7DQoJCQl2
YXIgbGlzdCA9IHR1cGxlWyAyIF0sDQoJCQkJc3RhdGVTdHJpbmcgPSB0dXBsZVsgNSBdOw0KDQoJ
CQkvLyBwcm9taXNlLnByb2dyZXNzID0gbGlzdC5hZGQNCgkJCS8vIHByb21pc2UuZG9uZSA9IGxp
c3QuYWRkDQoJCQkvLyBwcm9taXNlLmZhaWwgPSBsaXN0LmFkZA0KCQkJcHJvbWlzZVsgdHVwbGVb
IDEgXSBdID0gbGlzdC5hZGQ7DQoNCgkJCS8vIEhhbmRsZSBzdGF0ZQ0KCQkJaWYgKCBzdGF0ZVN0
cmluZyApIHsNCgkJCQlsaXN0LmFkZCgNCgkJCQkJZnVuY3Rpb24oKSB7DQoNCgkJCQkJCS8vIHN0
YXRlID0gInJlc29sdmVkIiAoaS5lLiwgZnVsZmlsbGVkKQ0KCQkJCQkJLy8gc3RhdGUgPSAicmVq
ZWN0ZWQiDQoJCQkJCQlzdGF0ZSA9IHN0YXRlU3RyaW5nOw0KCQkJCQl9LA0KDQoJCQkJCS8vIHJl
amVjdGVkX2NhbGxiYWNrcy5kaXNhYmxlDQoJCQkJCS8vIGZ1bGZpbGxlZF9jYWxsYmFja3MuZGlz
YWJsZQ0KCQkJCQl0dXBsZXNbIDMgLSBpIF1bIDIgXS5kaXNhYmxlLA0KDQoJCQkJCS8vIHByb2dy
ZXNzX2NhbGxiYWNrcy5sb2NrDQoJCQkJCXR1cGxlc1sgMCBdWyAyIF0ubG9jaw0KCQkJCSk7DQoJ
CQl9DQoNCgkJCS8vIHByb2dyZXNzX2hhbmRsZXJzLmZpcmUNCgkJCS8vIGZ1bGZpbGxlZF9oYW5k
bGVycy5maXJlDQoJCQkvLyByZWplY3RlZF9oYW5kbGVycy5maXJlDQoJCQlsaXN0LmFkZCggdHVw
bGVbIDMgXS5maXJlICk7DQoNCgkJCS8vIGRlZmVycmVkLm5vdGlmeSA9IGZ1bmN0aW9uKCkgeyBk
ZWZlcnJlZC5ub3RpZnlXaXRoKC4uLikgfQ0KCQkJLy8gZGVmZXJyZWQucmVzb2x2ZSA9IGZ1bmN0
aW9uKCkgeyBkZWZlcnJlZC5yZXNvbHZlV2l0aCguLi4pIH0NCgkJCS8vIGRlZmVycmVkLnJlamVj
dCA9IGZ1bmN0aW9uKCkgeyBkZWZlcnJlZC5yZWplY3RXaXRoKC4uLikgfQ0KCQkJZGVmZXJyZWRb
IHR1cGxlWyAwIF0gXSA9IGZ1bmN0aW9uKCkgew0KCQkJCWRlZmVycmVkWyB0dXBsZVsgMCBdICsg
IldpdGgiIF0oIHRoaXMgPT09IGRlZmVycmVkID8gdW5kZWZpbmVkIDogdGhpcywgYXJndW1lbnRz
ICk7DQoJCQkJcmV0dXJuIHRoaXM7DQoJCQl9Ow0KDQoJCQkvLyBkZWZlcnJlZC5ub3RpZnlXaXRo
ID0gbGlzdC5maXJlV2l0aA0KCQkJLy8gZGVmZXJyZWQucmVzb2x2ZVdpdGggPSBsaXN0LmZpcmVX
aXRoDQoJCQkvLyBkZWZlcnJlZC5yZWplY3RXaXRoID0gbGlzdC5maXJlV2l0aA0KCQkJZGVmZXJy
ZWRbIHR1cGxlWyAwIF0gKyAiV2l0aCIgXSA9IGxpc3QuZmlyZVdpdGg7DQoJCX0gKTsNCg0KCQkv
LyBNYWtlIHRoZSBkZWZlcnJlZCBhIHByb21pc2UNCgkJcHJvbWlzZS5wcm9taXNlKCBkZWZlcnJl
ZCApOw0KDQoJCS8vIENhbGwgZ2l2ZW4gZnVuYyBpZiBhbnkNCgkJaWYgKCBmdW5jICkgew0KCQkJ
ZnVuYy5jYWxsKCBkZWZlcnJlZCwgZGVmZXJyZWQgKTsNCgkJfQ0KDQoJCS8vIEFsbCBkb25lIQ0K
CQlyZXR1cm4gZGVmZXJyZWQ7DQoJfSwNCg0KCS8vIERlZmVycmVkIGhlbHBlcg0KCXdoZW46IGZ1
bmN0aW9uKCBzaW5nbGVWYWx1ZSApIHsNCgkJdmFyDQoNCgkJCS8vIGNvdW50IG9mIHVuY29tcGxl
dGVkIHN1Ym9yZGluYXRlcw0KCQkJcmVtYWluaW5nID0gYXJndW1lbnRzLmxlbmd0aCwNCg0KCQkJ
Ly8gY291bnQgb2YgdW5wcm9jZXNzZWQgYXJndW1lbnRzDQoJCQlpID0gcmVtYWluaW5nLA0KDQoJ
CQkvLyBzdWJvcmRpbmF0ZSBmdWxmaWxsbWVudCBkYXRhDQoJCQlyZXNvbHZlQ29udGV4dHMgPSBB
cnJheSggaSApLA0KCQkJcmVzb2x2ZVZhbHVlcyA9IHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApLA0K
DQoJCQkvLyB0aGUgbWFzdGVyIERlZmVycmVkDQoJCQltYXN0ZXIgPSBqUXVlcnkuRGVmZXJyZWQo
KSwNCg0KCQkJLy8gc3Vib3JkaW5hdGUgY2FsbGJhY2sgZmFjdG9yeQ0KCQkJdXBkYXRlRnVuYyA9
IGZ1bmN0aW9uKCBpICkgew0KCQkJCXJldHVybiBmdW5jdGlvbiggdmFsdWUgKSB7DQoJCQkJCXJl
c29sdmVDb250ZXh0c1sgaSBdID0gdGhpczsNCgkJCQkJcmVzb2x2ZVZhbHVlc1sgaSBdID0gYXJn
dW1lbnRzLmxlbmd0aCA+IDEgPyBzbGljZS5jYWxsKCBhcmd1bWVudHMgKSA6IHZhbHVlOw0KCQkJ
CQlpZiAoICEoIC0tcmVtYWluaW5nICkgKSB7DQoJCQkJCQltYXN0ZXIucmVzb2x2ZVdpdGgoIHJl
c29sdmVDb250ZXh0cywgcmVzb2x2ZVZhbHVlcyApOw0KCQkJCQl9DQoJCQkJfTsNCgkJCX07DQoN
CgkJLy8gU2luZ2xlLSBhbmQgZW1wdHkgYXJndW1lbnRzIGFyZSBhZG9wdGVkIGxpa2UgUHJvbWlz
ZS5yZXNvbHZlDQoJCWlmICggcmVtYWluaW5nIDw9IDEgKSB7DQoJCQlhZG9wdFZhbHVlKCBzaW5n
bGVWYWx1ZSwgbWFzdGVyLmRvbmUoIHVwZGF0ZUZ1bmMoIGkgKSApLnJlc29sdmUsIG1hc3Rlci5y
ZWplY3QsDQoJCQkJIXJlbWFpbmluZyApOw0KDQoJCQkvLyBVc2UgLnRoZW4oKSB0byB1bndyYXAg
c2Vjb25kYXJ5IHRoZW5hYmxlcyAoY2YuIGdoLTMwMDApDQoJCQlpZiAoIG1hc3Rlci5zdGF0ZSgp
ID09PSAicGVuZGluZyIgfHwNCgkJCQlqUXVlcnkuaXNGdW5jdGlvbiggcmVzb2x2ZVZhbHVlc1sg
aSBdICYmIHJlc29sdmVWYWx1ZXNbIGkgXS50aGVuICkgKSB7DQoNCgkJCQlyZXR1cm4gbWFzdGVy
LnRoZW4oKTsNCgkJCX0NCgkJfQ0KDQoJCS8vIE11bHRpcGxlIGFyZ3VtZW50cyBhcmUgYWdncmVn
YXRlZCBsaWtlIFByb21pc2UuYWxsIGFycmF5IGVsZW1lbnRzDQoJCXdoaWxlICggaS0tICkgew0K
CQkJYWRvcHRWYWx1ZSggcmVzb2x2ZVZhbHVlc1sgaSBdLCB1cGRhdGVGdW5jKCBpICksIG1hc3Rl
ci5yZWplY3QgKTsNCgkJfQ0KDQoJCXJldHVybiBtYXN0ZXIucHJvbWlzZSgpOw0KCX0NCn0gKTsN
Cg0KDQovLyBUaGVzZSB1c3VhbGx5IGluZGljYXRlIGEgcHJvZ3JhbW1lciBtaXN0YWtlIGR1cmlu
ZyBkZXZlbG9wbWVudCwNCi8vIHdhcm4gYWJvdXQgdGhlbSBBU0FQIHJhdGhlciB0aGFuIHN3YWxs
b3dpbmcgdGhlbSBieSBkZWZhdWx0Lg0KdmFyIHJlcnJvck5hbWVzID0gL14oRXZhbHxJbnRlcm5h
bHxSYW5nZXxSZWZlcmVuY2V8U3ludGF4fFR5cGV8VVJJKUVycm9yJC87DQoNCmpRdWVyeS5EZWZl
cnJlZC5leGNlcHRpb25Ib29rID0gZnVuY3Rpb24oIGVycm9yLCBzdGFjayApIHsNCg0KCS8vIFN1
cHBvcnQ6IElFIDggLSA5IG9ubHkNCgkvLyBDb25zb2xlIGV4aXN0cyB3aGVuIGRldiB0b29scyBh
cmUgb3Blbiwgd2hpY2ggY2FuIGhhcHBlbiBhdCBhbnkgdGltZQ0KCWlmICggd2luZG93LmNvbnNv
bGUgJiYgd2luZG93LmNvbnNvbGUud2FybiAmJiBlcnJvciAmJiByZXJyb3JOYW1lcy50ZXN0KCBl
cnJvci5uYW1lICkgKSB7DQoJCXdpbmRvdy5jb25zb2xlLndhcm4oICJqUXVlcnkuRGVmZXJyZWQg
ZXhjZXB0aW9uOiAiICsgZXJyb3IubWVzc2FnZSwgZXJyb3Iuc3RhY2ssIHN0YWNrICk7DQoJfQ0K
fTsNCg0KDQoNCg0KalF1ZXJ5LnJlYWR5RXhjZXB0aW9uID0gZnVuY3Rpb24oIGVycm9yICkgew0K
CXdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHsNCgkJdGhyb3cgZXJyb3I7DQoJfSApOw0K
fTsNCg0KDQoNCg0KLy8gVGhlIGRlZmVycmVkIHVzZWQgb24gRE9NIHJlYWR5DQp2YXIgcmVhZHlM
aXN0ID0galF1ZXJ5LkRlZmVycmVkKCk7DQoNCmpRdWVyeS5mbi5yZWFkeSA9IGZ1bmN0aW9uKCBm
biApIHsNCg0KCXJlYWR5TGlzdA0KCQkudGhlbiggZm4gKQ0KDQoJCS8vIFdyYXAgalF1ZXJ5LnJl
YWR5RXhjZXB0aW9uIGluIGEgZnVuY3Rpb24gc28gdGhhdCB0aGUgbG9va3VwDQoJCS8vIGhhcHBl
bnMgYXQgdGhlIHRpbWUgb2YgZXJyb3IgaGFuZGxpbmcgaW5zdGVhZCBvZiBjYWxsYmFjaw0KCQkv
LyByZWdpc3RyYXRpb24uDQoJCS5jYXRjaCggZnVuY3Rpb24oIGVycm9yICkgew0KCQkJalF1ZXJ5
LnJlYWR5RXhjZXB0aW9uKCBlcnJvciApOw0KCQl9ICk7DQoNCglyZXR1cm4gdGhpczsNCn07DQoN
CmpRdWVyeS5leHRlbmQoIHsNCg0KCS8vIElzIHRoZSBET00gcmVhZHkgdG8gYmUgdXNlZD8gU2V0
IHRvIHRydWUgb25jZSBpdCBvY2N1cnMuDQoJaXNSZWFkeTogZmFsc2UsDQoNCgkvLyBBIGNvdW50
ZXIgdG8gdHJhY2sgaG93IG1hbnkgaXRlbXMgdG8gd2FpdCBmb3IgYmVmb3JlDQoJLy8gdGhlIHJl
YWR5IGV2ZW50IGZpcmVzLiBTZWUgIzY3ODENCglyZWFkeVdhaXQ6IDEsDQoNCgkvLyBIYW5kbGUg
d2hlbiB0aGUgRE9NIGlzIHJlYWR5DQoJcmVhZHk6IGZ1bmN0aW9uKCB3YWl0ICkgew0KDQoJCS8v
IEFib3J0IGlmIHRoZXJlIGFyZSBwZW5kaW5nIGhvbGRzIG9yIHdlJ3JlIGFscmVhZHkgcmVhZHkN
CgkJaWYgKCB3YWl0ID09PSB0cnVlID8gLS1qUXVlcnkucmVhZHlXYWl0IDogalF1ZXJ5LmlzUmVh
ZHkgKSB7DQoJCQlyZXR1cm47DQoJCX0NCg0KCQkvLyBSZW1lbWJlciB0aGF0IHRoZSBET00gaXMg
cmVhZHkNCgkJalF1ZXJ5LmlzUmVhZHkgPSB0cnVlOw0KDQoJCS8vIElmIGEgbm9ybWFsIERPTSBS
ZWFkeSBldmVudCBmaXJlZCwgZGVjcmVtZW50LCBhbmQgd2FpdCBpZiBuZWVkIGJlDQoJCWlmICgg
d2FpdCAhPT0gdHJ1ZSAmJiAtLWpRdWVyeS5yZWFkeVdhaXQgPiAwICkgew0KCQkJcmV0dXJuOw0K
CQl9DQoNCgkJLy8gSWYgdGhlcmUgYXJlIGZ1bmN0aW9ucyBib3VuZCwgdG8gZXhlY3V0ZQ0KCQly
ZWFkeUxpc3QucmVzb2x2ZVdpdGgoIGRvY3VtZW50LCBbIGpRdWVyeSBdICk7DQoJfQ0KfSApOw0K
DQpqUXVlcnkucmVhZHkudGhlbiA9IHJlYWR5TGlzdC50aGVuOw0KDQovLyBUaGUgcmVhZHkgZXZl
bnQgaGFuZGxlciBhbmQgc2VsZiBjbGVhbnVwIG1ldGhvZA0KZnVuY3Rpb24gY29tcGxldGVkKCkg
ew0KCWRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoICJET01Db250ZW50TG9hZGVkIiwgY29t
cGxldGVkICk7DQoJd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoICJsb2FkIiwgY29tcGxldGVk
ICk7DQoJalF1ZXJ5LnJlYWR5KCk7DQp9DQoNCi8vIENhdGNoIGNhc2VzIHdoZXJlICQoZG9jdW1l
bnQpLnJlYWR5KCkgaXMgY2FsbGVkDQovLyBhZnRlciB0aGUgYnJvd3NlciBldmVudCBoYXMgYWxy
ZWFkeSBvY2N1cnJlZC4NCi8vIFN1cHBvcnQ6IElFIDw9OSAtIDEwIG9ubHkNCi8vIE9sZGVyIElF
IHNvbWV0aW1lcyBzaWduYWxzICJpbnRlcmFjdGl2ZSIgdG9vIHNvb24NCmlmICggZG9jdW1lbnQu
cmVhZHlTdGF0ZSA9PT0gImNvbXBsZXRlIiB8fA0KCSggZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0g
ImxvYWRpbmciICYmICFkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwgKSApIHsNCg0K
CS8vIEhhbmRsZSBpdCBhc3luY2hyb25vdXNseSB0byBhbGxvdyBzY3JpcHRzIHRoZSBvcHBvcnR1
bml0eSB0byBkZWxheSByZWFkeQ0KCXdpbmRvdy5zZXRUaW1lb3V0KCBqUXVlcnkucmVhZHkgKTsN
Cg0KfSBlbHNlIHsNCg0KCS8vIFVzZSB0aGUgaGFuZHkgZXZlbnQgY2FsbGJhY2sNCglkb2N1bWVu
dC5hZGRFdmVudExpc3RlbmVyKCAiRE9NQ29udGVudExvYWRlZCIsIGNvbXBsZXRlZCApOw0KDQoJ
Ly8gQSBmYWxsYmFjayB0byB3aW5kb3cub25sb2FkLCB0aGF0IHdpbGwgYWx3YXlzIHdvcmsNCgl3
aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggImxvYWQiLCBjb21wbGV0ZWQgKTsNCn0NCg0KDQoNCg0K
Ly8gTXVsdGlmdW5jdGlvbmFsIG1ldGhvZCB0byBnZXQgYW5kIHNldCB2YWx1ZXMgb2YgYSBjb2xs
ZWN0aW9uDQovLyBUaGUgdmFsdWUvcyBjYW4gb3B0aW9uYWxseSBiZSBleGVjdXRlZCBpZiBpdCdz
IGEgZnVuY3Rpb24NCnZhciBhY2Nlc3MgPSBmdW5jdGlvbiggZWxlbXMsIGZuLCBrZXksIHZhbHVl
LCBjaGFpbmFibGUsIGVtcHR5R2V0LCByYXcgKSB7DQoJdmFyIGkgPSAwLA0KCQlsZW4gPSBlbGVt
cy5sZW5ndGgsDQoJCWJ1bGsgPSBrZXkgPT0gbnVsbDsNCg0KCS8vIFNldHMgbWFueSB2YWx1ZXMN
CglpZiAoIGpRdWVyeS50eXBlKCBrZXkgKSA9PT0gIm9iamVjdCIgKSB7DQoJCWNoYWluYWJsZSA9
IHRydWU7DQoJCWZvciAoIGkgaW4ga2V5ICkgew0KCQkJYWNjZXNzKCBlbGVtcywgZm4sIGksIGtl
eVsgaSBdLCB0cnVlLCBlbXB0eUdldCwgcmF3ICk7DQoJCX0NCg0KCS8vIFNldHMgb25lIHZhbHVl
DQoJfSBlbHNlIGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHsNCgkJY2hhaW5hYmxlID0gdHJ1
ZTsNCg0KCQlpZiAoICFqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKSApIHsNCgkJCXJhdyA9IHRy
dWU7DQoJCX0NCg0KCQlpZiAoIGJ1bGsgKSB7DQoNCgkJCS8vIEJ1bGsgb3BlcmF0aW9ucyBydW4g
YWdhaW5zdCB0aGUgZW50aXJlIHNldA0KCQkJaWYgKCByYXcgKSB7DQoJCQkJZm4uY2FsbCggZWxl
bXMsIHZhbHVlICk7DQoJCQkJZm4gPSBudWxsOw0KDQoJCQkvLyAuLi5leGNlcHQgd2hlbiBleGVj
dXRpbmcgZnVuY3Rpb24gdmFsdWVzDQoJCQl9IGVsc2Ugew0KCQkJCWJ1bGsgPSBmbjsNCgkJCQlm
biA9IGZ1bmN0aW9uKCBlbGVtLCBrZXksIHZhbHVlICkgew0KCQkJCQlyZXR1cm4gYnVsay5jYWxs
KCBqUXVlcnkoIGVsZW0gKSwgdmFsdWUgKTsNCgkJCQl9Ow0KCQkJfQ0KCQl9DQoNCgkJaWYgKCBm
biApIHsNCgkJCWZvciAoIDsgaSA8IGxlbjsgaSsrICkgew0KCQkJCWZuKA0KCQkJCQllbGVtc1sg
aSBdLCBrZXksIHJhdyA/DQoJCQkJCXZhbHVlIDoNCgkJCQkJdmFsdWUuY2FsbCggZWxlbXNbIGkg
XSwgaSwgZm4oIGVsZW1zWyBpIF0sIGtleSApICkNCgkJCQkpOw0KCQkJfQ0KCQl9DQoJfQ0KDQoJ
aWYgKCBjaGFpbmFibGUgKSB7DQoJCXJldHVybiBlbGVtczsNCgl9DQoNCgkvLyBHZXRzDQoJaWYg
KCBidWxrICkgew0KCQlyZXR1cm4gZm4uY2FsbCggZWxlbXMgKTsNCgl9DQoNCglyZXR1cm4gbGVu
ID8gZm4oIGVsZW1zWyAwIF0sIGtleSApIDogZW1wdHlHZXQ7DQp9Ow0KdmFyIGFjY2VwdERhdGEg
PSBmdW5jdGlvbiggb3duZXIgKSB7DQoNCgkvLyBBY2NlcHRzIG9ubHk6DQoJLy8gIC0gTm9kZQ0K
CS8vICAgIC0gTm9kZS5FTEVNRU5UX05PREUNCgkvLyAgICAtIE5vZGUuRE9DVU1FTlRfTk9ERQ0K
CS8vICAtIE9iamVjdA0KCS8vICAgIC0gQW55DQoJcmV0dXJuIG93bmVyLm5vZGVUeXBlID09PSAx
IHx8IG93bmVyLm5vZGVUeXBlID09PSA5IHx8ICEoICtvd25lci5ub2RlVHlwZSApOw0KfTsNCg0K
DQoNCg0KZnVuY3Rpb24gRGF0YSgpIHsNCgl0aGlzLmV4cGFuZG8gPSBqUXVlcnkuZXhwYW5kbyAr
IERhdGEudWlkKys7DQp9DQoNCkRhdGEudWlkID0gMTsNCg0KRGF0YS5wcm90b3R5cGUgPSB7DQoN
CgljYWNoZTogZnVuY3Rpb24oIG93bmVyICkgew0KDQoJCS8vIENoZWNrIGlmIHRoZSBvd25lciBv
YmplY3QgYWxyZWFkeSBoYXMgYSBjYWNoZQ0KCQl2YXIgdmFsdWUgPSBvd25lclsgdGhpcy5leHBh
bmRvIF07DQoNCgkJLy8gSWYgbm90LCBjcmVhdGUgb25lDQoJCWlmICggIXZhbHVlICkgew0KCQkJ
dmFsdWUgPSB7fTsNCg0KCQkJLy8gV2UgY2FuIGFjY2VwdCBkYXRhIGZvciBub24tZWxlbWVudCBu
b2RlcyBpbiBtb2Rlcm4gYnJvd3NlcnMsDQoJCQkvLyBidXQgd2Ugc2hvdWxkIG5vdCwgc2VlICM4
MzM1Lg0KCQkJLy8gQWx3YXlzIHJldHVybiBhbiBlbXB0eSBvYmplY3QuDQoJCQlpZiAoIGFjY2Vw
dERhdGEoIG93bmVyICkgKSB7DQoNCgkJCQkvLyBJZiBpdCBpcyBhIG5vZGUgdW5saWtlbHkgdG8g
YmUgc3RyaW5naWZ5LWVkIG9yIGxvb3BlZCBvdmVyDQoJCQkJLy8gdXNlIHBsYWluIGFzc2lnbm1l
bnQNCgkJCQlpZiAoIG93bmVyLm5vZGVUeXBlICkgew0KCQkJCQlvd25lclsgdGhpcy5leHBhbmRv
IF0gPSB2YWx1ZTsNCg0KCQkJCS8vIE90aGVyd2lzZSBzZWN1cmUgaXQgaW4gYSBub24tZW51bWVy
YWJsZSBwcm9wZXJ0eQ0KCQkJCS8vIGNvbmZpZ3VyYWJsZSBtdXN0IGJlIHRydWUgdG8gYWxsb3cg
dGhlIHByb3BlcnR5IHRvIGJlDQoJCQkJLy8gZGVsZXRlZCB3aGVuIGRhdGEgaXMgcmVtb3ZlZA0K
CQkJCX0gZWxzZSB7DQoJCQkJCU9iamVjdC5kZWZpbmVQcm9wZXJ0eSggb3duZXIsIHRoaXMuZXhw
YW5kbywgew0KCQkJCQkJdmFsdWU6IHZhbHVlLA0KCQkJCQkJY29uZmlndXJhYmxlOiB0cnVlDQoJ
CQkJCX0gKTsNCgkJCQl9DQoJCQl9DQoJCX0NCg0KCQlyZXR1cm4gdmFsdWU7DQoJfSwNCglzZXQ6
IGZ1bmN0aW9uKCBvd25lciwgZGF0YSwgdmFsdWUgKSB7DQoJCXZhciBwcm9wLA0KCQkJY2FjaGUg
PSB0aGlzLmNhY2hlKCBvd25lciApOw0KDQoJCS8vIEhhbmRsZTogWyBvd25lciwga2V5LCB2YWx1
ZSBdIGFyZ3MNCgkJLy8gQWx3YXlzIHVzZSBjYW1lbENhc2Uga2V5IChnaC0yMjU3KQ0KCQlpZiAo
IHR5cGVvZiBkYXRhID09PSAic3RyaW5nIiApIHsNCgkJCWNhY2hlWyBqUXVlcnkuY2FtZWxDYXNl
KCBkYXRhICkgXSA9IHZhbHVlOw0KDQoJCS8vIEhhbmRsZTogWyBvd25lciwgeyBwcm9wZXJ0aWVz
IH0gXSBhcmdzDQoJCX0gZWxzZSB7DQoNCgkJCS8vIENvcHkgdGhlIHByb3BlcnRpZXMgb25lLWJ5
LW9uZSB0byB0aGUgY2FjaGUgb2JqZWN0DQoJCQlmb3IgKCBwcm9wIGluIGRhdGEgKSB7DQoJCQkJ
Y2FjaGVbIGpRdWVyeS5jYW1lbENhc2UoIHByb3AgKSBdID0gZGF0YVsgcHJvcCBdOw0KCQkJfQ0K
CQl9DQoJCXJldHVybiBjYWNoZTsNCgl9LA0KCWdldDogZnVuY3Rpb24oIG93bmVyLCBrZXkgKSB7
DQoJCXJldHVybiBrZXkgPT09IHVuZGVmaW5lZCA/DQoJCQl0aGlzLmNhY2hlKCBvd25lciApIDoN
Cg0KCQkJLy8gQWx3YXlzIHVzZSBjYW1lbENhc2Uga2V5IChnaC0yMjU3KQ0KCQkJb3duZXJbIHRo
aXMuZXhwYW5kbyBdICYmIG93bmVyWyB0aGlzLmV4cGFuZG8gXVsgalF1ZXJ5LmNhbWVsQ2FzZSgg
a2V5ICkgXTsNCgl9LA0KCWFjY2VzczogZnVuY3Rpb24oIG93bmVyLCBrZXksIHZhbHVlICkgew0K
DQoJCS8vIEluIGNhc2VzIHdoZXJlIGVpdGhlcjoNCgkJLy8NCgkJLy8gICAxLiBObyBrZXkgd2Fz
IHNwZWNpZmllZA0KCQkvLyAgIDIuIEEgc3RyaW5nIGtleSB3YXMgc3BlY2lmaWVkLCBidXQgbm8g
dmFsdWUgcHJvdmlkZWQNCgkJLy8NCgkJLy8gVGFrZSB0aGUgInJlYWQiIHBhdGggYW5kIGFsbG93
IHRoZSBnZXQgbWV0aG9kIHRvIGRldGVybWluZQ0KCQkvLyB3aGljaCB2YWx1ZSB0byByZXR1cm4s
IHJlc3BlY3RpdmVseSBlaXRoZXI6DQoJCS8vDQoJCS8vICAgMS4gVGhlIGVudGlyZSBjYWNoZSBv
YmplY3QNCgkJLy8gICAyLiBUaGUgZGF0YSBzdG9yZWQgYXQgdGhlIGtleQ0KCQkvLw0KCQlpZiAo
IGtleSA9PT0gdW5kZWZpbmVkIHx8DQoJCQkJKCAoIGtleSAmJiB0eXBlb2Yga2V5ID09PSAic3Ry
aW5nIiApICYmIHZhbHVlID09PSB1bmRlZmluZWQgKSApIHsNCg0KCQkJcmV0dXJuIHRoaXMuZ2V0
KCBvd25lciwga2V5ICk7DQoJCX0NCg0KCQkvLyBXaGVuIHRoZSBrZXkgaXMgbm90IGEgc3RyaW5n
LCBvciBib3RoIGEga2V5IGFuZCB2YWx1ZQ0KCQkvLyBhcmUgc3BlY2lmaWVkLCBzZXQgb3IgZXh0
ZW5kIChleGlzdGluZyBvYmplY3RzKSB3aXRoIGVpdGhlcjoNCgkJLy8NCgkJLy8gICAxLiBBbiBv
YmplY3Qgb2YgcHJvcGVydGllcw0KCQkvLyAgIDIuIEEga2V5IGFuZCB2YWx1ZQ0KCQkvLw0KCQl0
aGlzLnNldCggb3duZXIsIGtleSwgdmFsdWUgKTsNCg0KCQkvLyBTaW5jZSB0aGUgInNldCIgcGF0
aCBjYW4gaGF2ZSB0d28gcG9zc2libGUgZW50cnkgcG9pbnRzDQoJCS8vIHJldHVybiB0aGUgZXhw
ZWN0ZWQgZGF0YSBiYXNlZCBvbiB3aGljaCBwYXRoIHdhcyB0YWtlblsqXQ0KCQlyZXR1cm4gdmFs
dWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDoga2V5Ow0KCX0sDQoJcmVtb3ZlOiBmdW5jdGlvbigg
b3duZXIsIGtleSApIHsNCgkJdmFyIGksDQoJCQljYWNoZSA9IG93bmVyWyB0aGlzLmV4cGFuZG8g
XTsNCg0KCQlpZiAoIGNhY2hlID09PSB1bmRlZmluZWQgKSB7DQoJCQlyZXR1cm47DQoJCX0NCg0K
CQlpZiAoIGtleSAhPT0gdW5kZWZpbmVkICkgew0KDQoJCQkvLyBTdXBwb3J0IGFycmF5IG9yIHNw
YWNlIHNlcGFyYXRlZCBzdHJpbmcgb2Yga2V5cw0KCQkJaWYgKCBBcnJheS5pc0FycmF5KCBrZXkg
KSApIHsNCg0KCQkJCS8vIElmIGtleSBpcyBhbiBhcnJheSBvZiBrZXlzLi4uDQoJCQkJLy8gV2Ug
YWx3YXlzIHNldCBjYW1lbENhc2Uga2V5cywgc28gcmVtb3ZlIHRoYXQuDQoJCQkJa2V5ID0ga2V5
Lm1hcCggalF1ZXJ5LmNhbWVsQ2FzZSApOw0KCQkJfSBlbHNlIHsNCgkJCQlrZXkgPSBqUXVlcnku
Y2FtZWxDYXNlKCBrZXkgKTsNCg0KCQkJCS8vIElmIGEga2V5IHdpdGggdGhlIHNwYWNlcyBleGlz
dHMsIHVzZSBpdC4NCgkJCQkvLyBPdGhlcndpc2UsIGNyZWF0ZSBhbiBhcnJheSBieSBtYXRjaGlu
ZyBub24td2hpdGVzcGFjZQ0KCQkJCWtleSA9IGtleSBpbiBjYWNoZSA/DQoJCQkJCVsga2V5IF0g
Og0KCQkJCQkoIGtleS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFtdICk7DQoJCQl9DQoNCgkJ
CWkgPSBrZXkubGVuZ3RoOw0KDQoJCQl3aGlsZSAoIGktLSApIHsNCgkJCQlkZWxldGUgY2FjaGVb
IGtleVsgaSBdIF07DQoJCQl9DQoJCX0NCg0KCQkvLyBSZW1vdmUgdGhlIGV4cGFuZG8gaWYgdGhl
cmUncyBubyBtb3JlIGRhdGENCgkJaWYgKCBrZXkgPT09IHVuZGVmaW5lZCB8fCBqUXVlcnkuaXNF
bXB0eU9iamVjdCggY2FjaGUgKSApIHsNCg0KCQkJLy8gU3VwcG9ydDogQ2hyb21lIDw9MzUgLSA0
NQ0KCQkJLy8gV2Via2l0ICYgQmxpbmsgcGVyZm9ybWFuY2Ugc3VmZmVycyB3aGVuIGRlbGV0aW5n
IHByb3BlcnRpZXMNCgkJCS8vIGZyb20gRE9NIG5vZGVzLCBzbyBzZXQgdG8gdW5kZWZpbmVkIGlu
c3RlYWQNCgkJCS8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMv
ZGV0YWlsP2lkPTM3ODYwNyAoYnVnIHJlc3RyaWN0ZWQpDQoJCQlpZiAoIG93bmVyLm5vZGVUeXBl
ICkgew0KCQkJCW93bmVyWyB0aGlzLmV4cGFuZG8gXSA9IHVuZGVmaW5lZDsNCgkJCX0gZWxzZSB7
DQoJCQkJZGVsZXRlIG93bmVyWyB0aGlzLmV4cGFuZG8gXTsNCgkJCX0NCgkJfQ0KCX0sDQoJaGFz
RGF0YTogZnVuY3Rpb24oIG93bmVyICkgew0KCQl2YXIgY2FjaGUgPSBvd25lclsgdGhpcy5leHBh
bmRvIF07DQoJCXJldHVybiBjYWNoZSAhPT0gdW5kZWZpbmVkICYmICFqUXVlcnkuaXNFbXB0eU9i
amVjdCggY2FjaGUgKTsNCgl9DQp9Ow0KdmFyIGRhdGFQcml2ID0gbmV3IERhdGEoKTsNCg0KdmFy
IGRhdGFVc2VyID0gbmV3IERhdGEoKTsNCg0KDQoNCi8vCUltcGxlbWVudGF0aW9uIFN1bW1hcnkN
Ci8vDQovLwkxLiBFbmZvcmNlIEFQSSBzdXJmYWNlIGFuZCBzZW1hbnRpYyBjb21wYXRpYmlsaXR5
IHdpdGggMS45LnggYnJhbmNoDQovLwkyLiBJbXByb3ZlIHRoZSBtb2R1bGUncyBtYWludGFpbmFi
aWxpdHkgYnkgcmVkdWNpbmcgdGhlIHN0b3JhZ2UNCi8vCQlwYXRocyB0byBhIHNpbmdsZSBtZWNo
YW5pc20uDQovLwkzLiBVc2UgdGhlIHNhbWUgc2luZ2xlIG1lY2hhbmlzbSB0byBzdXBwb3J0ICJw
cml2YXRlIiBhbmQgInVzZXIiIGRhdGEuDQovLwk0LiBfTmV2ZXJfIGV4cG9zZSAicHJpdmF0ZSIg
ZGF0YSB0byB1c2VyIGNvZGUgKFRPRE86IERyb3AgX2RhdGEsIF9yZW1vdmVEYXRhKQ0KLy8JNS4g
QXZvaWQgZXhwb3NpbmcgaW1wbGVtZW50YXRpb24gZGV0YWlscyBvbiB1c2VyIG9iamVjdHMgKGVn
LiBleHBhbmRvIHByb3BlcnRpZXMpDQovLwk2LiBQcm92aWRlIGEgY2xlYXIgcGF0aCBmb3IgaW1w
bGVtZW50YXRpb24gdXBncmFkZSB0byBXZWFrTWFwIGluIDIwMTQNCg0KdmFyIHJicmFjZSA9IC9e
KD86XHtbXHdcV10qXH18XFtbXHdcV10qXF0pJC8sDQoJcm11bHRpRGFzaCA9IC9bQS1aXS9nOw0K
DQpmdW5jdGlvbiBnZXREYXRhKCBkYXRhICkgew0KCWlmICggZGF0YSA9PT0gInRydWUiICkgew0K
CQlyZXR1cm4gdHJ1ZTsNCgl9DQoNCglpZiAoIGRhdGEgPT09ICJmYWxzZSIgKSB7DQoJCXJldHVy
biBmYWxzZTsNCgl9DQoNCglpZiAoIGRhdGEgPT09ICJudWxsIiApIHsNCgkJcmV0dXJuIG51bGw7
DQoJfQ0KDQoJLy8gT25seSBjb252ZXJ0IHRvIGEgbnVtYmVyIGlmIGl0IGRvZXNuJ3QgY2hhbmdl
IHRoZSBzdHJpbmcNCglpZiAoIGRhdGEgPT09ICtkYXRhICsgIiIgKSB7DQoJCXJldHVybiArZGF0
YTsNCgl9DQoNCglpZiAoIHJicmFjZS50ZXN0KCBkYXRhICkgKSB7DQoJCXJldHVybiBKU09OLnBh
cnNlKCBkYXRhICk7DQoJfQ0KDQoJcmV0dXJuIGRhdGE7DQp9DQoNCmZ1bmN0aW9uIGRhdGFBdHRy
KCBlbGVtLCBrZXksIGRhdGEgKSB7DQoJdmFyIG5hbWU7DQoNCgkvLyBJZiBub3RoaW5nIHdhcyBm
b3VuZCBpbnRlcm5hbGx5LCB0cnkgdG8gZmV0Y2ggYW55DQoJLy8gZGF0YSBmcm9tIHRoZSBIVE1M
NSBkYXRhLSogYXR0cmlidXRlDQoJaWYgKCBkYXRhID09PSB1bmRlZmluZWQgJiYgZWxlbS5ub2Rl
VHlwZSA9PT0gMSApIHsNCgkJbmFtZSA9ICJkYXRhLSIgKyBrZXkucmVwbGFjZSggcm11bHRpRGFz
aCwgIi0kJiIgKS50b0xvd2VyQ2FzZSgpOw0KCQlkYXRhID0gZWxlbS5nZXRBdHRyaWJ1dGUoIG5h
bWUgKTsNCg0KCQlpZiAoIHR5cGVvZiBkYXRhID09PSAic3RyaW5nIiApIHsNCgkJCXRyeSB7DQoJ
CQkJZGF0YSA9IGdldERhdGEoIGRhdGEgKTsNCgkJCX0gY2F0Y2ggKCBlICkge30NCg0KCQkJLy8g
TWFrZSBzdXJlIHdlIHNldCB0aGUgZGF0YSBzbyBpdCBpc24ndCBjaGFuZ2VkIGxhdGVyDQoJCQlk
YXRhVXNlci5zZXQoIGVsZW0sIGtleSwgZGF0YSApOw0KCQl9IGVsc2Ugew0KCQkJZGF0YSA9IHVu
ZGVmaW5lZDsNCgkJfQ0KCX0NCglyZXR1cm4gZGF0YTsNCn0NCg0KalF1ZXJ5LmV4dGVuZCggew0K
CWhhc0RhdGE6IGZ1bmN0aW9uKCBlbGVtICkgew0KCQlyZXR1cm4gZGF0YVVzZXIuaGFzRGF0YSgg
ZWxlbSApIHx8IGRhdGFQcml2Lmhhc0RhdGEoIGVsZW0gKTsNCgl9LA0KDQoJZGF0YTogZnVuY3Rp
b24oIGVsZW0sIG5hbWUsIGRhdGEgKSB7DQoJCXJldHVybiBkYXRhVXNlci5hY2Nlc3MoIGVsZW0s
IG5hbWUsIGRhdGEgKTsNCgl9LA0KDQoJcmVtb3ZlRGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUg
KSB7DQoJCWRhdGFVc2VyLnJlbW92ZSggZWxlbSwgbmFtZSApOw0KCX0sDQoNCgkvLyBUT0RPOiBO
b3cgdGhhdCBhbGwgY2FsbHMgdG8gX2RhdGEgYW5kIF9yZW1vdmVEYXRhIGhhdmUgYmVlbiByZXBs
YWNlZA0KCS8vIHdpdGggZGlyZWN0IGNhbGxzIHRvIGRhdGFQcml2IG1ldGhvZHMsIHRoZXNlIGNh
biBiZSBkZXByZWNhdGVkLg0KCV9kYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZGF0YSApIHsN
CgkJcmV0dXJuIGRhdGFQcml2LmFjY2VzcyggZWxlbSwgbmFtZSwgZGF0YSApOw0KCX0sDQoNCglf
cmVtb3ZlRGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUgKSB7DQoJCWRhdGFQcml2LnJlbW92ZSgg
ZWxlbSwgbmFtZSApOw0KCX0NCn0gKTsNCg0KalF1ZXJ5LmZuLmV4dGVuZCggew0KCWRhdGE6IGZ1
bmN0aW9uKCBrZXksIHZhbHVlICkgew0KCQl2YXIgaSwgbmFtZSwgZGF0YSwNCgkJCWVsZW0gPSB0
aGlzWyAwIF0sDQoJCQlhdHRycyA9IGVsZW0gJiYgZWxlbS5hdHRyaWJ1dGVzOw0KDQoJCS8vIEdl
dHMgYWxsIHZhbHVlcw0KCQlpZiAoIGtleSA9PT0gdW5kZWZpbmVkICkgew0KCQkJaWYgKCB0aGlz
Lmxlbmd0aCApIHsNCgkJCQlkYXRhID0gZGF0YVVzZXIuZ2V0KCBlbGVtICk7DQoNCgkJCQlpZiAo
IGVsZW0ubm9kZVR5cGUgPT09IDEgJiYgIWRhdGFQcml2LmdldCggZWxlbSwgImhhc0RhdGFBdHRy
cyIgKSApIHsNCgkJCQkJaSA9IGF0dHJzLmxlbmd0aDsNCgkJCQkJd2hpbGUgKCBpLS0gKSB7DQoN
CgkJCQkJCS8vIFN1cHBvcnQ6IElFIDExIG9ubHkNCgkJCQkJCS8vIFRoZSBhdHRycyBlbGVtZW50
cyBjYW4gYmUgbnVsbCAoIzE0ODk0KQ0KCQkJCQkJaWYgKCBhdHRyc1sgaSBdICkgew0KCQkJCQkJ
CW5hbWUgPSBhdHRyc1sgaSBdLm5hbWU7DQoJCQkJCQkJaWYgKCBuYW1lLmluZGV4T2YoICJkYXRh
LSIgKSA9PT0gMCApIHsNCgkJCQkJCQkJbmFtZSA9IGpRdWVyeS5jYW1lbENhc2UoIG5hbWUuc2xp
Y2UoIDUgKSApOw0KCQkJCQkJCQlkYXRhQXR0ciggZWxlbSwgbmFtZSwgZGF0YVsgbmFtZSBdICk7
DQoJCQkJCQkJfQ0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJCWRhdGFQcml2LnNldCggZWxlbSwgImhh
c0RhdGFBdHRycyIsIHRydWUgKTsNCgkJCQl9DQoJCQl9DQoNCgkJCXJldHVybiBkYXRhOw0KCQl9
DQoNCgkJLy8gU2V0cyBtdWx0aXBsZSB2YWx1ZXMNCgkJaWYgKCB0eXBlb2Yga2V5ID09PSAib2Jq
ZWN0IiApIHsNCgkJCXJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkgew0KCQkJCWRhdGFVc2Vy
LnNldCggdGhpcywga2V5ICk7DQoJCQl9ICk7DQoJCX0NCg0KCQlyZXR1cm4gYWNjZXNzKCB0aGlz
LCBmdW5jdGlvbiggdmFsdWUgKSB7DQoJCQl2YXIgZGF0YTsNCg0KCQkJLy8gVGhlIGNhbGxpbmcg
alF1ZXJ5IG9iamVjdCAoZWxlbWVudCBtYXRjaGVzKSBpcyBub3QgZW1wdHkNCgkJCS8vIChhbmQg
dGhlcmVmb3JlIGhhcyBhbiBlbGVtZW50IGFwcGVhcnMgYXQgdGhpc1sgMCBdKSBhbmQgdGhlDQoJ
CQkvLyBgdmFsdWVgIHBhcmFtZXRlciB3YXMgbm90IHVuZGVmaW5lZC4gQW4gZW1wdHkgalF1ZXJ5
IG9iamVjdA0KCQkJLy8gd2lsbCByZXN1bHQgaW4gYHVuZGVmaW5lZGAgZm9yIGVsZW0gPSB0aGlz
WyAwIF0gd2hpY2ggd2lsbA0KCQkJLy8gdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFuIGF0dGVtcHQg
dG8gcmVhZCBhIGRhdGEgY2FjaGUgaXMgbWFkZS4NCgkJCWlmICggZWxlbSAmJiB2YWx1ZSA9PT0g
dW5kZWZpbmVkICkgew0KDQoJCQkJLy8gQXR0ZW1wdCB0byBnZXQgZGF0YSBmcm9tIHRoZSBjYWNo
ZQ0KCQkJCS8vIFRoZSBrZXkgd2lsbCBhbHdheXMgYmUgY2FtZWxDYXNlZCBpbiBEYXRhDQoJCQkJ
ZGF0YSA9IGRhdGFVc2VyLmdldCggZWxlbSwga2V5ICk7DQoJCQkJaWYgKCBkYXRhICE9PSB1bmRl
ZmluZWQgKSB7DQoJCQkJCXJldHVybiBkYXRhOw0KCQkJCX0NCg0KCQkJCS8vIEF0dGVtcHQgdG8g
ImRpc2NvdmVyIiB0aGUgZGF0YSBpbg0KCQkJCS8vIEhUTUw1IGN1c3RvbSBkYXRhLSogYXR0cnMN
CgkJCQlkYXRhID0gZGF0YUF0dHIoIGVsZW0sIGtleSApOw0KCQkJCWlmICggZGF0YSAhPT0gdW5k
ZWZpbmVkICkgew0KCQkJCQlyZXR1cm4gZGF0YTsNCgkJCQl9DQoNCgkJCQkvLyBXZSB0cmllZCBy
ZWFsbHkgaGFyZCwgYnV0IHRoZSBkYXRhIGRvZXNuJ3QgZXhpc3QuDQoJCQkJcmV0dXJuOw0KCQkJ
fQ0KDQoJCQkvLyBTZXQgdGhlIGRhdGEuLi4NCgkJCXRoaXMuZWFjaCggZnVuY3Rpb24oKSB7DQoN
CgkJCQkvLyBXZSBhbHdheXMgc3RvcmUgdGhlIGNhbWVsQ2FzZWQga2V5DQoJCQkJZGF0YVVzZXIu
c2V0KCB0aGlzLCBrZXksIHZhbHVlICk7DQoJCQl9ICk7DQoJCX0sIG51bGwsIHZhbHVlLCBhcmd1
bWVudHMubGVuZ3RoID4gMSwgbnVsbCwgdHJ1ZSApOw0KCX0sDQoNCglyZW1vdmVEYXRhOiBmdW5j
dGlvbigga2V5ICkgew0KCQlyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHsNCgkJCWRhdGFV
c2VyLnJlbW92ZSggdGhpcywga2V5ICk7DQoJCX0gKTsNCgl9DQp9ICk7DQoNCg0KalF1ZXJ5LmV4
dGVuZCggew0KCXF1ZXVlOiBmdW5jdGlvbiggZWxlbSwgdHlwZSwgZGF0YSApIHsNCgkJdmFyIHF1
ZXVlOw0KDQoJCWlmICggZWxlbSApIHsNCgkJCXR5cGUgPSAoIHR5cGUgfHwgImZ4IiApICsgInF1
ZXVlIjsNCgkJCXF1ZXVlID0gZGF0YVByaXYuZ2V0KCBlbGVtLCB0eXBlICk7DQoNCgkJCS8vIFNw
ZWVkIHVwIGRlcXVldWUgYnkgZ2V0dGluZyBvdXQgcXVpY2tseSBpZiB0aGlzIGlzIGp1c3QgYSBs
b29rdXANCgkJCWlmICggZGF0YSApIHsNCgkJCQlpZiAoICFxdWV1ZSB8fCBBcnJheS5pc0FycmF5
KCBkYXRhICkgKSB7DQoJCQkJCXF1ZXVlID0gZGF0YVByaXYuYWNjZXNzKCBlbGVtLCB0eXBlLCBq
UXVlcnkubWFrZUFycmF5KCBkYXRhICkgKTsNCgkJCQl9IGVsc2Ugew0KCQkJCQlxdWV1ZS5wdXNo
KCBkYXRhICk7DQoJCQkJfQ0KCQkJfQ0KCQkJcmV0dXJuIHF1ZXVlIHx8IFtdOw0KCQl9DQoJfSwN
Cg0KCWRlcXVldWU6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlICkgew0KCQl0eXBlID0gdHlwZSB8fCAi
ZngiOw0KDQoJCXZhciBxdWV1ZSA9IGpRdWVyeS5xdWV1ZSggZWxlbSwgdHlwZSApLA0KCQkJc3Rh
cnRMZW5ndGggPSBxdWV1ZS5sZW5ndGgsDQoJCQlmbiA9IHF1ZXVlLnNoaWZ0KCksDQoJCQlob29r
cyA9IGpRdWVyeS5fcXVldWVIb29rcyggZWxlbSwgdHlwZSApLA0KCQkJbmV4dCA9IGZ1bmN0aW9u
KCkgew0KCQkJCWpRdWVyeS5kZXF1ZXVlKCBlbGVtLCB0eXBlICk7DQoJCQl9Ow0KDQoJCS8vIElm
IHRoZSBmeCBxdWV1ZSBpcyBkZXF1ZXVlZCwgYWx3YXlzIHJlbW92ZSB0aGUgcHJvZ3Jlc3Mgc2Vu
dGluZWwNCgkJaWYgKCBmbiA9PT0gImlucHJvZ3Jlc3MiICkgew0KCQkJZm4gPSBxdWV1ZS5zaGlm
dCgpOw0KCQkJc3RhcnRMZW5ndGgtLTsNCgkJfQ0KDQoJCWlmICggZm4gKSB7DQoNCgkJCS8vIEFk
ZCBhIHByb2dyZXNzIHNlbnRpbmVsIHRvIHByZXZlbnQgdGhlIGZ4IHF1ZXVlIGZyb20gYmVpbmcN
CgkJCS8vIGF1dG9tYXRpY2FsbHkgZGVxdWV1ZWQNCgkJCWlmICggdHlwZSA9PT0gImZ4IiApIHsN
CgkJCQlxdWV1ZS51bnNoaWZ0KCAiaW5wcm9ncmVzcyIgKTsNCgkJCX0NCg0KCQkJLy8gQ2xlYXIg
dXAgdGhlIGxhc3QgcXVldWUgc3RvcCBmdW5jdGlvbg0KCQkJZGVsZXRlIGhvb2tzLnN0b3A7DQoJ
CQlmbi5jYWxsKCBlbGVtLCBuZXh0LCBob29rcyApOw0KCQl9DQoNCgkJaWYgKCAhc3RhcnRMZW5n
dGggJiYgaG9va3MgKSB7DQoJCQlob29rcy5lbXB0eS5maXJlKCk7DQoJCX0NCgl9LA0KDQoJLy8g
Tm90IHB1YmxpYyAtIGdlbmVyYXRlIGEgcXVldWVIb29rcyBvYmplY3QsIG9yIHJldHVybiB0aGUg
Y3VycmVudCBvbmUNCglfcXVldWVIb29rczogZnVuY3Rpb24oIGVsZW0sIHR5cGUgKSB7DQoJCXZh
ciBrZXkgPSB0eXBlICsgInF1ZXVlSG9va3MiOw0KCQlyZXR1cm4gZGF0YVByaXYuZ2V0KCBlbGVt
LCBrZXkgKSB8fCBkYXRhUHJpdi5hY2Nlc3MoIGVsZW0sIGtleSwgew0KCQkJZW1wdHk6IGpRdWVy
eS5DYWxsYmFja3MoICJvbmNlIG1lbW9yeSIgKS5hZGQoIGZ1bmN0aW9uKCkgew0KCQkJCWRhdGFQ
cml2LnJlbW92ZSggZWxlbSwgWyB0eXBlICsgInF1ZXVlIiwga2V5IF0gKTsNCgkJCX0gKQ0KCQl9
ICk7DQoJfQ0KfSApOw0KDQpqUXVlcnkuZm4uZXh0ZW5kKCB7DQoJcXVldWU6IGZ1bmN0aW9uKCB0
eXBlLCBkYXRhICkgew0KCQl2YXIgc2V0dGVyID0gMjsNCg0KCQlpZiAoIHR5cGVvZiB0eXBlICE9
PSAic3RyaW5nIiApIHsNCgkJCWRhdGEgPSB0eXBlOw0KCQkJdHlwZSA9ICJmeCI7DQoJCQlzZXR0
ZXItLTsNCgkJfQ0KDQoJCWlmICggYXJndW1lbnRzLmxlbmd0aCA8IHNldHRlciApIHsNCgkJCXJl
dHVybiBqUXVlcnkucXVldWUoIHRoaXNbIDAgXSwgdHlwZSApOw0KCQl9DQoNCgkJcmV0dXJuIGRh
dGEgPT09IHVuZGVmaW5lZCA/DQoJCQl0aGlzIDoNCgkJCXRoaXMuZWFjaCggZnVuY3Rpb24oKSB7
DQoJCQkJdmFyIHF1ZXVlID0galF1ZXJ5LnF1ZXVlKCB0aGlzLCB0eXBlLCBkYXRhICk7DQoNCgkJ
CQkvLyBFbnN1cmUgYSBob29rcyBmb3IgdGhpcyBxdWV1ZQ0KCQkJCWpRdWVyeS5fcXVldWVIb29r
cyggdGhpcywgdHlwZSApOw0KDQoJCQkJaWYgKCB0eXBlID09PSAiZngiICYmIHF1ZXVlWyAwIF0g
IT09ICJpbnByb2dyZXNzIiApIHsNCgkJCQkJalF1ZXJ5LmRlcXVldWUoIHRoaXMsIHR5cGUgKTsN
CgkJCQl9DQoJCQl9ICk7DQoJfSwNCglkZXF1ZXVlOiBmdW5jdGlvbiggdHlwZSApIHsNCgkJcmV0
dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7DQoJCQlqUXVlcnkuZGVxdWV1ZSggdGhpcywgdHlw
ZSApOw0KCQl9ICk7DQoJfSwNCgljbGVhclF1ZXVlOiBmdW5jdGlvbiggdHlwZSApIHsNCgkJcmV0
dXJuIHRoaXMucXVldWUoIHR5cGUgfHwgImZ4IiwgW10gKTsNCgl9LA0KDQoJLy8gR2V0IGEgcHJv
bWlzZSByZXNvbHZlZCB3aGVuIHF1ZXVlcyBvZiBhIGNlcnRhaW4gdHlwZQ0KCS8vIGFyZSBlbXB0
aWVkIChmeCBpcyB0aGUgdHlwZSBieSBkZWZhdWx0KQ0KCXByb21pc2U6IGZ1bmN0aW9uKCB0eXBl
LCBvYmogKSB7DQoJCXZhciB0bXAsDQoJCQljb3VudCA9IDEsDQoJCQlkZWZlciA9IGpRdWVyeS5E
ZWZlcnJlZCgpLA0KCQkJZWxlbWVudHMgPSB0aGlzLA0KCQkJaSA9IHRoaXMubGVuZ3RoLA0KCQkJ
cmVzb2x2ZSA9IGZ1bmN0aW9uKCkgew0KCQkJCWlmICggISggLS1jb3VudCApICkgew0KCQkJCQlk
ZWZlci5yZXNvbHZlV2l0aCggZWxlbWVudHMsIFsgZWxlbWVudHMgXSApOw0KCQkJCX0NCgkJCX07
DQoNCgkJaWYgKCB0eXBlb2YgdHlwZSAhPT0gInN0cmluZyIgKSB7DQoJCQlvYmogPSB0eXBlOw0K
CQkJdHlwZSA9IHVuZGVmaW5lZDsNCgkJfQ0KCQl0eXBlID0gdHlwZSB8fCAiZngiOw0KDQoJCXdo
aWxlICggaS0tICkgew0KCQkJdG1wID0gZGF0YVByaXYuZ2V0KCBlbGVtZW50c1sgaSBdLCB0eXBl
ICsgInF1ZXVlSG9va3MiICk7DQoJCQlpZiAoIHRtcCAmJiB0bXAuZW1wdHkgKSB7DQoJCQkJY291
bnQrKzsNCgkJCQl0bXAuZW1wdHkuYWRkKCByZXNvbHZlICk7DQoJCQl9DQoJCX0NCgkJcmVzb2x2
ZSgpOw0KCQlyZXR1cm4gZGVmZXIucHJvbWlzZSggb2JqICk7DQoJfQ0KfSApOw0KdmFyIHBudW0g
PSAoIC9bKy1dPyg/OlxkKlwufClcZCsoPzpbZUVdWystXT9cZCt8KS8gKS5zb3VyY2U7DQoNCnZh
ciByY3NzTnVtID0gbmV3IFJlZ0V4cCggIl4oPzooWystXSk9fCkoIiArIHBudW0gKyAiKShbYS16
JV0qKSQiLCAiaSIgKTsNCg0KDQp2YXIgY3NzRXhwYW5kID0gWyAiVG9wIiwgIlJpZ2h0IiwgIkJv
dHRvbSIsICJMZWZ0IiBdOw0KDQp2YXIgaXNIaWRkZW5XaXRoaW5UcmVlID0gZnVuY3Rpb24oIGVs
ZW0sIGVsICkgew0KDQoJCS8vIGlzSGlkZGVuV2l0aGluVHJlZSBtaWdodCBiZSBjYWxsZWQgZnJv
bSBqUXVlcnkjZmlsdGVyIGZ1bmN0aW9uOw0KCQkvLyBpbiB0aGF0IGNhc2UsIGVsZW1lbnQgd2ls
bCBiZSBzZWNvbmQgYXJndW1lbnQNCgkJZWxlbSA9IGVsIHx8IGVsZW07DQoNCgkJLy8gSW5saW5l
IHN0eWxlIHRydW1wcyBhbGwNCgkJcmV0dXJuIGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gIm5vbmUi
IHx8DQoJCQllbGVtLnN0eWxlLmRpc3BsYXkgPT09ICIiICYmDQoNCgkJCS8vIE90aGVyd2lzZSwg
Y2hlY2sgY29tcHV0ZWQgc3R5bGUNCgkJCS8vIFN1cHBvcnQ6IEZpcmVmb3ggPD00MyAtIDQ1DQoJ
CQkvLyBEaXNjb25uZWN0ZWQgZWxlbWVudHMgY2FuIGhhdmUgY29tcHV0ZWQgZGlzcGxheTogbm9u
ZSwgc28gZmlyc3QgY29uZmlybSB0aGF0IGVsZW0gaXMNCgkJCS8vIGluIHRoZSBkb2N1bWVudC4N
CgkJCWpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICkgJiYNCg0KCQkJ
alF1ZXJ5LmNzcyggZWxlbSwgImRpc3BsYXkiICkgPT09ICJub25lIjsNCgl9Ow0KDQp2YXIgc3dh
cCA9IGZ1bmN0aW9uKCBlbGVtLCBvcHRpb25zLCBjYWxsYmFjaywgYXJncyApIHsNCgl2YXIgcmV0
LCBuYW1lLA0KCQlvbGQgPSB7fTsNCg0KCS8vIFJlbWVtYmVyIHRoZSBvbGQgdmFsdWVzLCBhbmQg
aW5zZXJ0IHRoZSBuZXcgb25lcw0KCWZvciAoIG5hbWUgaW4gb3B0aW9ucyApIHsNCgkJb2xkWyBu
YW1lIF0gPSBlbGVtLnN0eWxlWyBuYW1lIF07DQoJCWVsZW0uc3R5bGVbIG5hbWUgXSA9IG9wdGlv
bnNbIG5hbWUgXTsNCgl9DQoNCglyZXQgPSBjYWxsYmFjay5hcHBseSggZWxlbSwgYXJncyB8fCBb
XSApOw0KDQoJLy8gUmV2ZXJ0IHRoZSBvbGQgdmFsdWVzDQoJZm9yICggbmFtZSBpbiBvcHRpb25z
ICkgew0KCQllbGVtLnN0eWxlWyBuYW1lIF0gPSBvbGRbIG5hbWUgXTsNCgl9DQoNCglyZXR1cm4g
cmV0Ow0KfTsNCg0KDQoNCg0KZnVuY3Rpb24gYWRqdXN0Q1NTKCBlbGVtLCBwcm9wLCB2YWx1ZVBh
cnRzLCB0d2VlbiApIHsNCgl2YXIgYWRqdXN0ZWQsDQoJCXNjYWxlID0gMSwNCgkJbWF4SXRlcmF0
aW9ucyA9IDIwLA0KCQljdXJyZW50VmFsdWUgPSB0d2VlbiA/DQoJCQlmdW5jdGlvbigpIHsNCgkJ
CQlyZXR1cm4gdHdlZW4uY3VyKCk7DQoJCQl9IDoNCgkJCWZ1bmN0aW9uKCkgew0KCQkJCXJldHVy
biBqUXVlcnkuY3NzKCBlbGVtLCBwcm9wLCAiIiApOw0KCQkJfSwNCgkJaW5pdGlhbCA9IGN1cnJl
bnRWYWx1ZSgpLA0KCQl1bml0ID0gdmFsdWVQYXJ0cyAmJiB2YWx1ZVBhcnRzWyAzIF0gfHwgKCBq
UXVlcnkuY3NzTnVtYmVyWyBwcm9wIF0gPyAiIiA6ICJweCIgKSwNCg0KCQkvLyBTdGFydGluZyB2
YWx1ZSBjb21wdXRhdGlvbiBpcyByZXF1aXJlZCBmb3IgcG90ZW50aWFsIHVuaXQgbWlzbWF0Y2hl
cw0KCQlpbml0aWFsSW5Vbml0ID0gKCBqUXVlcnkuY3NzTnVtYmVyWyBwcm9wIF0gfHwgdW5pdCAh
PT0gInB4IiAmJiAraW5pdGlhbCApICYmDQoJCQlyY3NzTnVtLmV4ZWMoIGpRdWVyeS5jc3MoIGVs
ZW0sIHByb3AgKSApOw0KDQoJaWYgKCBpbml0aWFsSW5Vbml0ICYmIGluaXRpYWxJblVuaXRbIDMg
XSAhPT0gdW5pdCApIHsNCg0KCQkvLyBUcnVzdCB1bml0cyByZXBvcnRlZCBieSBqUXVlcnkuY3Nz
DQoJCXVuaXQgPSB1bml0IHx8IGluaXRpYWxJblVuaXRbIDMgXTsNCg0KCQkvLyBNYWtlIHN1cmUg
d2UgdXBkYXRlIHRoZSB0d2VlbiBwcm9wZXJ0aWVzIGxhdGVyIG9uDQoJCXZhbHVlUGFydHMgPSB2
YWx1ZVBhcnRzIHx8IFtdOw0KDQoJCS8vIEl0ZXJhdGl2ZWx5IGFwcHJveGltYXRlIGZyb20gYSBu
b256ZXJvIHN0YXJ0aW5nIHBvaW50DQoJCWluaXRpYWxJblVuaXQgPSAraW5pdGlhbCB8fCAxOw0K
DQoJCWRvIHsNCg0KCQkJLy8gSWYgcHJldmlvdXMgaXRlcmF0aW9uIHplcm9lZCBvdXQsIGRvdWJs
ZSB1bnRpbCB3ZSBnZXQgKnNvbWV0aGluZyouDQoJCQkvLyBVc2Ugc3RyaW5nIGZvciBkb3VibGlu
ZyBzbyB3ZSBkb24ndCBhY2NpZGVudGFsbHkgc2VlIHNjYWxlIGFzIHVuY2hhbmdlZCBiZWxvdw0K
CQkJc2NhbGUgPSBzY2FsZSB8fCAiLjUiOw0KDQoJCQkvLyBBZGp1c3QgYW5kIGFwcGx5DQoJCQlp
bml0aWFsSW5Vbml0ID0gaW5pdGlhbEluVW5pdCAvIHNjYWxlOw0KCQkJalF1ZXJ5LnN0eWxlKCBl
bGVtLCBwcm9wLCBpbml0aWFsSW5Vbml0ICsgdW5pdCApOw0KDQoJCS8vIFVwZGF0ZSBzY2FsZSwg
dG9sZXJhdGluZyB6ZXJvIG9yIE5hTiBmcm9tIHR3ZWVuLmN1cigpDQoJCS8vIEJyZWFrIHRoZSBs
b29wIGlmIHNjYWxlIGlzIHVuY2hhbmdlZCBvciBwZXJmZWN0LCBvciBpZiB3ZSd2ZSBqdXN0IGhh
ZCBlbm91Z2guDQoJCX0gd2hpbGUgKA0KCQkJc2NhbGUgIT09ICggc2NhbGUgPSBjdXJyZW50VmFs
dWUoKSAvIGluaXRpYWwgKSAmJiBzY2FsZSAhPT0gMSAmJiAtLW1heEl0ZXJhdGlvbnMNCgkJKTsN
Cgl9DQoNCglpZiAoIHZhbHVlUGFydHMgKSB7DQoJCWluaXRpYWxJblVuaXQgPSAraW5pdGlhbElu
VW5pdCB8fCAraW5pdGlhbCB8fCAwOw0KDQoJCS8vIEFwcGx5IHJlbGF0aXZlIG9mZnNldCAoKz0v
LT0pIGlmIHNwZWNpZmllZA0KCQlhZGp1c3RlZCA9IHZhbHVlUGFydHNbIDEgXSA/DQoJCQlpbml0
aWFsSW5Vbml0ICsgKCB2YWx1ZVBhcnRzWyAxIF0gKyAxICkgKiB2YWx1ZVBhcnRzWyAyIF0gOg0K
CQkJK3ZhbHVlUGFydHNbIDIgXTsNCgkJaWYgKCB0d2VlbiApIHsNCgkJCXR3ZWVuLnVuaXQgPSB1
bml0Ow0KCQkJdHdlZW4uc3RhcnQgPSBpbml0aWFsSW5Vbml0Ow0KCQkJdHdlZW4uZW5kID0gYWRq
dXN0ZWQ7DQoJCX0NCgl9DQoJcmV0dXJuIGFkanVzdGVkOw0KfQ0KDQoNCnZhciBkZWZhdWx0RGlz
cGxheU1hcCA9IHt9Ow0KDQpmdW5jdGlvbiBnZXREZWZhdWx0RGlzcGxheSggZWxlbSApIHsNCgl2
YXIgdGVtcCwNCgkJZG9jID0gZWxlbS5vd25lckRvY3VtZW50LA0KCQlub2RlTmFtZSA9IGVsZW0u
bm9kZU5hbWUsDQoJCWRpc3BsYXkgPSBkZWZhdWx0RGlzcGxheU1hcFsgbm9kZU5hbWUgXTsNCg0K
CWlmICggZGlzcGxheSApIHsNCgkJcmV0dXJuIGRpc3BsYXk7DQoJfQ0KDQoJdGVtcCA9IGRvYy5i
b2R5LmFwcGVuZENoaWxkKCBkb2MuY3JlYXRlRWxlbWVudCggbm9kZU5hbWUgKSApOw0KCWRpc3Bs
YXkgPSBqUXVlcnkuY3NzKCB0ZW1wLCAiZGlzcGxheSIgKTsNCg0KCXRlbXAucGFyZW50Tm9kZS5y
ZW1vdmVDaGlsZCggdGVtcCApOw0KDQoJaWYgKCBkaXNwbGF5ID09PSAibm9uZSIgKSB7DQoJCWRp
c3BsYXkgPSAiYmxvY2siOw0KCX0NCglkZWZhdWx0RGlzcGxheU1hcFsgbm9kZU5hbWUgXSA9IGRp
c3BsYXk7DQoNCglyZXR1cm4gZGlzcGxheTsNCn0NCg0KZnVuY3Rpb24gc2hvd0hpZGUoIGVsZW1l
bnRzLCBzaG93ICkgew0KCXZhciBkaXNwbGF5LCBlbGVtLA0KCQl2YWx1ZXMgPSBbXSwNCgkJaW5k
ZXggPSAwLA0KCQlsZW5ndGggPSBlbGVtZW50cy5sZW5ndGg7DQoNCgkvLyBEZXRlcm1pbmUgbmV3
IGRpc3BsYXkgdmFsdWUgZm9yIGVsZW1lbnRzIHRoYXQgbmVlZCB0byBjaGFuZ2UNCglmb3IgKCA7
IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkgew0KCQllbGVtID0gZWxlbWVudHNbIGluZGV4IF07
DQoJCWlmICggIWVsZW0uc3R5bGUgKSB7DQoJCQljb250aW51ZTsNCgkJfQ0KDQoJCWRpc3BsYXkg
PSBlbGVtLnN0eWxlLmRpc3BsYXk7DQoJCWlmICggc2hvdyApIHsNCg0KCQkJLy8gU2luY2Ugd2Ug
Zm9yY2UgdmlzaWJpbGl0eSB1cG9uIGNhc2NhZGUtaGlkZGVuIGVsZW1lbnRzLCBhbiBpbW1lZGlh
dGUgKGFuZCBzbG93KQ0KCQkJLy8gY2hlY2sgaXMgcmVxdWlyZWQgaW4gdGhpcyBmaXJzdCBsb29w
IHVubGVzcyB3ZSBoYXZlIGEgbm9uZW1wdHkgZGlzcGxheSB2YWx1ZSAoZWl0aGVyDQoJCQkvLyBp
bmxpbmUgb3IgYWJvdXQtdG8tYmUtcmVzdG9yZWQpDQoJCQlpZiAoIGRpc3BsYXkgPT09ICJub25l
IiApIHsNCgkJCQl2YWx1ZXNbIGluZGV4IF0gPSBkYXRhUHJpdi5nZXQoIGVsZW0sICJkaXNwbGF5
IiApIHx8IG51bGw7DQoJCQkJaWYgKCAhdmFsdWVzWyBpbmRleCBdICkgew0KCQkJCQllbGVtLnN0
eWxlLmRpc3BsYXkgPSAiIjsNCgkJCQl9DQoJCQl9DQoJCQlpZiAoIGVsZW0uc3R5bGUuZGlzcGxh
eSA9PT0gIiIgJiYgaXNIaWRkZW5XaXRoaW5UcmVlKCBlbGVtICkgKSB7DQoJCQkJdmFsdWVzWyBp
bmRleCBdID0gZ2V0RGVmYXVsdERpc3BsYXkoIGVsZW0gKTsNCgkJCX0NCgkJfSBlbHNlIHsNCgkJ
CWlmICggZGlzcGxheSAhPT0gIm5vbmUiICkgew0KCQkJCXZhbHVlc1sgaW5kZXggXSA9ICJub25l
IjsNCg0KCQkJCS8vIFJlbWVtYmVyIHdoYXQgd2UncmUgb3ZlcndyaXRpbmcNCgkJCQlkYXRhUHJp
di5zZXQoIGVsZW0sICJkaXNwbGF5IiwgZGlzcGxheSApOw0KCQkJfQ0KCQl9DQoJfQ0KDQoJLy8g
U2V0IHRoZSBkaXNwbGF5IG9mIHRoZSBlbGVtZW50cyBpbiBhIHNlY29uZCBsb29wIHRvIGF2b2lk
IGNvbnN0YW50IHJlZmxvdw0KCWZvciAoIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4
KysgKSB7DQoJCWlmICggdmFsdWVzWyBpbmRleCBdICE9IG51bGwgKSB7DQoJCQllbGVtZW50c1sg
aW5kZXggXS5zdHlsZS5kaXNwbGF5ID0gdmFsdWVzWyBpbmRleCBdOw0KCQl9DQoJfQ0KDQoJcmV0
dXJuIGVsZW1lbnRzOw0KfQ0KDQpqUXVlcnkuZm4uZXh0ZW5kKCB7DQoJc2hvdzogZnVuY3Rpb24o
KSB7DQoJCXJldHVybiBzaG93SGlkZSggdGhpcywgdHJ1ZSApOw0KCX0sDQoJaGlkZTogZnVuY3Rp
b24oKSB7DQoJCXJldHVybiBzaG93SGlkZSggdGhpcyApOw0KCX0sDQoJdG9nZ2xlOiBmdW5jdGlv
biggc3RhdGUgKSB7DQoJCWlmICggdHlwZW9mIHN0YXRlID09PSAiYm9vbGVhbiIgKSB7DQoJCQly
ZXR1cm4gc3RhdGUgPyB0aGlzLnNob3coKSA6IHRoaXMuaGlkZSgpOw0KCQl9DQoNCgkJcmV0dXJu
IHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7DQoJCQlpZiAoIGlzSGlkZGVuV2l0aGluVHJlZSggdGhp
cyApICkgew0KCQkJCWpRdWVyeSggdGhpcyApLnNob3coKTsNCgkJCX0gZWxzZSB7DQoJCQkJalF1
ZXJ5KCB0aGlzICkuaGlkZSgpOw0KCQkJfQ0KCQl9ICk7DQoJfQ0KfSApOw0KdmFyIHJjaGVja2Fi
bGVUeXBlID0gKCAvXig/OmNoZWNrYm94fHJhZGlvKSQvaSApOw0KDQp2YXIgcnRhZ05hbWUgPSAo
IC88KFthLXpdW15cL1wwPlx4MjBcdFxyXG5cZl0rKS9pICk7DQoNCnZhciByc2NyaXB0VHlwZSA9
ICggL14kfFwvKD86amF2YXxlY21hKXNjcmlwdC9pICk7DQoNCg0KDQovLyBXZSBoYXZlIHRvIGNs
b3NlIHRoZXNlIHRhZ3MgdG8gc3VwcG9ydCBYSFRNTCAoIzEzMjAwKQ0KdmFyIHdyYXBNYXAgPSB7
DQoNCgkvLyBTdXBwb3J0OiBJRSA8PTkgb25seQ0KCW9wdGlvbjogWyAxLCAiPHNlbGVjdCBtdWx0
aXBsZT0nbXVsdGlwbGUnPiIsICI8L3NlbGVjdD4iIF0sDQoNCgkvLyBYSFRNTCBwYXJzZXJzIGRv
IG5vdCBtYWdpY2FsbHkgaW5zZXJ0IGVsZW1lbnRzIGluIHRoZQ0KCS8vIHNhbWUgd2F5IHRoYXQg
dGFnIHNvdXAgcGFyc2VycyBkby4gU28gd2UgY2Fubm90IHNob3J0ZW4NCgkvLyB0aGlzIGJ5IG9t
aXR0aW5nIDx0Ym9keT4gb3Igb3RoZXIgcmVxdWlyZWQgZWxlbWVudHMuDQoJdGhlYWQ6IFsgMSwg
Ijx0YWJsZT4iLCAiPC90YWJsZT4iIF0sDQoJY29sOiBbIDIsICI8dGFibGU+PGNvbGdyb3VwPiIs
ICI8L2NvbGdyb3VwPjwvdGFibGU+IiBdLA0KCXRyOiBbIDIsICI8dGFibGU+PHRib2R5PiIsICI8
L3Rib2R5PjwvdGFibGU+IiBdLA0KCXRkOiBbIDMsICI8dGFibGU+PHRib2R5Pjx0cj4iLCAiPC90
cj48L3Rib2R5PjwvdGFibGU+IiBdLA0KDQoJX2RlZmF1bHQ6IFsgMCwgIiIsICIiIF0NCn07DQoN
Ci8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5DQp3cmFwTWFwLm9wdGdyb3VwID0gd3JhcE1hcC5vcHRp
b247DQoNCndyYXBNYXAudGJvZHkgPSB3cmFwTWFwLnRmb290ID0gd3JhcE1hcC5jb2xncm91cCA9
IHdyYXBNYXAuY2FwdGlvbiA9IHdyYXBNYXAudGhlYWQ7DQp3cmFwTWFwLnRoID0gd3JhcE1hcC50
ZDsNCg0KDQpmdW5jdGlvbiBnZXRBbGwoIGNvbnRleHQsIHRhZyApIHsNCg0KCS8vIFN1cHBvcnQ6
IElFIDw9OSAtIDExIG9ubHkNCgkvLyBVc2UgdHlwZW9mIHRvIGF2b2lkIHplcm8tYXJndW1lbnQg
bWV0aG9kIGludm9jYXRpb24gb24gaG9zdCBvYmplY3RzICgjMTUxNTEpDQoJdmFyIHJldDsNCg0K
CWlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09ICJ1bmRlZmluZWQi
ICkgew0KCQlyZXQgPSBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCB0YWcgfHwgIioiICk7
DQoNCgl9IGVsc2UgaWYgKCB0eXBlb2YgY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsICE9PSAidW5k
ZWZpbmVkIiApIHsNCgkJcmV0ID0gY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCB0YWcgfHwgIioi
ICk7DQoNCgl9IGVsc2Ugew0KCQlyZXQgPSBbXTsNCgl9DQoNCglpZiAoIHRhZyA9PT0gdW5kZWZp
bmVkIHx8IHRhZyAmJiBub2RlTmFtZSggY29udGV4dCwgdGFnICkgKSB7DQoJCXJldHVybiBqUXVl
cnkubWVyZ2UoIFsgY29udGV4dCBdLCByZXQgKTsNCgl9DQoNCglyZXR1cm4gcmV0Ow0KfQ0KDQoN
Ci8vIE1hcmsgc2NyaXB0cyBhcyBoYXZpbmcgYWxyZWFkeSBiZWVuIGV2YWx1YXRlZA0KZnVuY3Rp
b24gc2V0R2xvYmFsRXZhbCggZWxlbXMsIHJlZkVsZW1lbnRzICkgew0KCXZhciBpID0gMCwNCgkJ
bCA9IGVsZW1zLmxlbmd0aDsNCg0KCWZvciAoIDsgaSA8IGw7IGkrKyApIHsNCgkJZGF0YVByaXYu
c2V0KA0KCQkJZWxlbXNbIGkgXSwNCgkJCSJnbG9iYWxFdmFsIiwNCgkJCSFyZWZFbGVtZW50cyB8
fCBkYXRhUHJpdi5nZXQoIHJlZkVsZW1lbnRzWyBpIF0sICJnbG9iYWxFdmFsIiApDQoJCSk7DQoJ
fQ0KfQ0KDQoNCnZhciByaHRtbCA9IC88fCYjP1x3KzsvOw0KDQpmdW5jdGlvbiBidWlsZEZyYWdt
ZW50KCBlbGVtcywgY29udGV4dCwgc2NyaXB0cywgc2VsZWN0aW9uLCBpZ25vcmVkICkgew0KCXZh
ciBlbGVtLCB0bXAsIHRhZywgd3JhcCwgY29udGFpbnMsIGosDQoJCWZyYWdtZW50ID0gY29udGV4
dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksDQoJCW5vZGVzID0gW10sDQoJCWkgPSAwLA0KCQls
ID0gZWxlbXMubGVuZ3RoOw0KDQoJZm9yICggOyBpIDwgbDsgaSsrICkgew0KCQllbGVtID0gZWxl
bXNbIGkgXTsNCg0KCQlpZiAoIGVsZW0gfHwgZWxlbSA9PT0gMCApIHsNCg0KCQkJLy8gQWRkIG5v
ZGVzIGRpcmVjdGx5DQoJCQlpZiAoIGpRdWVyeS50eXBlKCBlbGVtICkgPT09ICJvYmplY3QiICkg
ew0KDQoJCQkJLy8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5
DQoJCQkJLy8gcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktp
dA0KCQkJCWpRdWVyeS5tZXJnZSggbm9kZXMsIGVsZW0ubm9kZVR5cGUgPyBbIGVsZW0gXSA6IGVs
ZW0gKTsNCg0KCQkJLy8gQ29udmVydCBub24taHRtbCBpbnRvIGEgdGV4dCBub2RlDQoJCQl9IGVs
c2UgaWYgKCAhcmh0bWwudGVzdCggZWxlbSApICkgew0KCQkJCW5vZGVzLnB1c2goIGNvbnRleHQu
Y3JlYXRlVGV4dE5vZGUoIGVsZW0gKSApOw0KDQoJCQkvLyBDb252ZXJ0IGh0bWwgaW50byBET00g
bm9kZXMNCgkJCX0gZWxzZSB7DQoJCQkJdG1wID0gdG1wIHx8IGZyYWdtZW50LmFwcGVuZENoaWxk
KCBjb250ZXh0LmNyZWF0ZUVsZW1lbnQoICJkaXYiICkgKTsNCg0KCQkJCS8vIERlc2VyaWFsaXpl
IGEgc3RhbmRhcmQgcmVwcmVzZW50YXRpb24NCgkJCQl0YWcgPSAoIHJ0YWdOYW1lLmV4ZWMoIGVs
ZW0gKSB8fCBbICIiLCAiIiBdIClbIDEgXS50b0xvd2VyQ2FzZSgpOw0KCQkJCXdyYXAgPSB3cmFw
TWFwWyB0YWcgXSB8fCB3cmFwTWFwLl9kZWZhdWx0Ow0KCQkJCXRtcC5pbm5lckhUTUwgPSB3cmFw
WyAxIF0gKyBqUXVlcnkuaHRtbFByZWZpbHRlciggZWxlbSApICsgd3JhcFsgMiBdOw0KDQoJCQkJ
Ly8gRGVzY2VuZCB0aHJvdWdoIHdyYXBwZXJzIHRvIHRoZSByaWdodCBjb250ZW50DQoJCQkJaiA9
IHdyYXBbIDAgXTsNCgkJCQl3aGlsZSAoIGotLSApIHsNCgkJCQkJdG1wID0gdG1wLmxhc3RDaGls
ZDsNCgkJCQl9DQoNCgkJCQkvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21K
UyAxIG9ubHkNCgkJCQkvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2ll
bnQgV2ViS2l0DQoJCQkJalF1ZXJ5Lm1lcmdlKCBub2RlcywgdG1wLmNoaWxkTm9kZXMgKTsNCg0K
CQkJCS8vIFJlbWVtYmVyIHRoZSB0b3AtbGV2ZWwgY29udGFpbmVyDQoJCQkJdG1wID0gZnJhZ21l
bnQuZmlyc3RDaGlsZDsNCg0KCQkJCS8vIEVuc3VyZSB0aGUgY3JlYXRlZCBub2RlcyBhcmUgb3Jw
aGFuZWQgKCMxMjM5MikNCgkJCQl0bXAudGV4dENvbnRlbnQgPSAiIjsNCgkJCX0NCgkJfQ0KCX0N
Cg0KCS8vIFJlbW92ZSB3cmFwcGVyIGZyb20gZnJhZ21lbnQNCglmcmFnbWVudC50ZXh0Q29udGVu
dCA9ICIiOw0KDQoJaSA9IDA7DQoJd2hpbGUgKCAoIGVsZW0gPSBub2Rlc1sgaSsrIF0gKSApIHsN
Cg0KCQkvLyBTa2lwIGVsZW1lbnRzIGFscmVhZHkgaW4gdGhlIGNvbnRleHQgY29sbGVjdGlvbiAo
dHJhYy00MDg3KQ0KCQlpZiAoIHNlbGVjdGlvbiAmJiBqUXVlcnkuaW5BcnJheSggZWxlbSwgc2Vs
ZWN0aW9uICkgPiAtMSApIHsNCgkJCWlmICggaWdub3JlZCApIHsNCgkJCQlpZ25vcmVkLnB1c2go
IGVsZW0gKTsNCgkJCX0NCgkJCWNvbnRpbnVlOw0KCQl9DQoNCgkJY29udGFpbnMgPSBqUXVlcnku
Y29udGFpbnMoIGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSApOw0KDQoJCS8vIEFwcGVuZCB0byBm
cmFnbWVudA0KCQl0bXAgPSBnZXRBbGwoIGZyYWdtZW50LmFwcGVuZENoaWxkKCBlbGVtICksICJz
Y3JpcHQiICk7DQoNCgkJLy8gUHJlc2VydmUgc2NyaXB0IGV2YWx1YXRpb24gaGlzdG9yeQ0KCQlp
ZiAoIGNvbnRhaW5zICkgew0KCQkJc2V0R2xvYmFsRXZhbCggdG1wICk7DQoJCX0NCg0KCQkvLyBD
YXB0dXJlIGV4ZWN1dGFibGVzDQoJCWlmICggc2NyaXB0cyApIHsNCgkJCWogPSAwOw0KCQkJd2hp
bGUgKCAoIGVsZW0gPSB0bXBbIGorKyBdICkgKSB7DQoJCQkJaWYgKCByc2NyaXB0VHlwZS50ZXN0
KCBlbGVtLnR5cGUgfHwgIiIgKSApIHsNCgkJCQkJc2NyaXB0cy5wdXNoKCBlbGVtICk7DQoJCQkJ
fQ0KCQkJfQ0KCQl9DQoJfQ0KDQoJcmV0dXJuIGZyYWdtZW50Ow0KfQ0KDQoNCiggZnVuY3Rpb24o
KSB7DQoJdmFyIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLA0K
CQlkaXYgPSBmcmFnbWVudC5hcHBlbmRDaGlsZCggZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggImRp
diIgKSApLA0KCQlpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICJpbnB1dCIgKTsNCg0K
CS8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIC0gNC4zIG9ubHkNCgkvLyBDaGVjayBzdGF0ZSBsb3N0
IGlmIHRoZSBuYW1lIGlzIHNldCAoIzExMjE3KQ0KCS8vIFN1cHBvcnQ6IFdpbmRvd3MgV2ViIEFw
cHMgKFdXQSkNCgkvLyBgbmFtZWAgYW5kIGB0eXBlYCBtdXN0IHVzZSAuc2V0QXR0cmlidXRlIGZv
ciBXV0EgKCMxNDkwMSkNCglpbnB1dC5zZXRBdHRyaWJ1dGUoICJ0eXBlIiwgInJhZGlvIiApOw0K
CWlucHV0LnNldEF0dHJpYnV0ZSggImNoZWNrZWQiLCAiY2hlY2tlZCIgKTsNCglpbnB1dC5zZXRB
dHRyaWJ1dGUoICJuYW1lIiwgInQiICk7DQoNCglkaXYuYXBwZW5kQ2hpbGQoIGlucHV0ICk7DQoN
CgkvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4xIG9ubHkNCgkvLyBPbGRlciBXZWJLaXQgZG9lc24n
dCBjbG9uZSBjaGVja2VkIHN0YXRlIGNvcnJlY3RseSBpbiBmcmFnbWVudHMNCglzdXBwb3J0LmNo
ZWNrQ2xvbmUgPSBkaXYuY2xvbmVOb2RlKCB0cnVlICkuY2xvbmVOb2RlKCB0cnVlICkubGFzdENo
aWxkLmNoZWNrZWQ7DQoNCgkvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHkNCgkvLyBNYWtlIHN1cmUg
dGV4dGFyZWEgKGFuZCBjaGVja2JveCkgZGVmYXVsdFZhbHVlIGlzIHByb3Blcmx5IGNsb25lZA0K
CWRpdi5pbm5lckhUTUwgPSAiPHRleHRhcmVhPng8L3RleHRhcmVhPiI7DQoJc3VwcG9ydC5ub0Ns
b25lQ2hlY2tlZCA9ICEhZGl2LmNsb25lTm9kZSggdHJ1ZSApLmxhc3RDaGlsZC5kZWZhdWx0VmFs
dWU7DQp9ICkoKTsNCnZhciBkb2N1bWVudEVsZW1lbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1l
bnQ7DQoNCg0KDQp2YXINCglya2V5RXZlbnQgPSAvXmtleS8sDQoJcm1vdXNlRXZlbnQgPSAvXig/
Om1vdXNlfHBvaW50ZXJ8Y29udGV4dG1lbnV8ZHJhZ3xkcm9wKXxjbGljay8sDQoJcnR5cGVuYW1l
c3BhY2UgPSAvXihbXi5dKikoPzpcLiguKyl8KS87DQoNCmZ1bmN0aW9uIHJldHVyblRydWUoKSB7
DQoJcmV0dXJuIHRydWU7DQp9DQoNCmZ1bmN0aW9uIHJldHVybkZhbHNlKCkgew0KCXJldHVybiBm
YWxzZTsNCn0NCg0KLy8gU3VwcG9ydDogSUUgPD05IG9ubHkNCi8vIFNlZSAjMTMzOTMgZm9yIG1v
cmUgaW5mbw0KZnVuY3Rpb24gc2FmZUFjdGl2ZUVsZW1lbnQoKSB7DQoJdHJ5IHsNCgkJcmV0dXJu
IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7DQoJfSBjYXRjaCAoIGVyciApIHsgfQ0KfQ0KDQpmdW5j
dGlvbiBvbiggZWxlbSwgdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiwgb25lICkgew0KCXZhciBv
cmlnRm4sIHR5cGU7DQoNCgkvLyBUeXBlcyBjYW4gYmUgYSBtYXAgb2YgdHlwZXMvaGFuZGxlcnMN
CglpZiAoIHR5cGVvZiB0eXBlcyA9PT0gIm9iamVjdCIgKSB7DQoNCgkJLy8gKCB0eXBlcy1PYmpl
Y3QsIHNlbGVjdG9yLCBkYXRhICkNCgkJaWYgKCB0eXBlb2Ygc2VsZWN0b3IgIT09ICJzdHJpbmci
ICkgew0KDQoJCQkvLyAoIHR5cGVzLU9iamVjdCwgZGF0YSApDQoJCQlkYXRhID0gZGF0YSB8fCBz
ZWxlY3RvcjsNCgkJCXNlbGVjdG9yID0gdW5kZWZpbmVkOw0KCQl9DQoJCWZvciAoIHR5cGUgaW4g
dHlwZXMgKSB7DQoJCQlvbiggZWxlbSwgdHlwZSwgc2VsZWN0b3IsIGRhdGEsIHR5cGVzWyB0eXBl
IF0sIG9uZSApOw0KCQl9DQoJCXJldHVybiBlbGVtOw0KCX0NCg0KCWlmICggZGF0YSA9PSBudWxs
ICYmIGZuID09IG51bGwgKSB7DQoNCgkJLy8gKCB0eXBlcywgZm4gKQ0KCQlmbiA9IHNlbGVjdG9y
Ow0KCQlkYXRhID0gc2VsZWN0b3IgPSB1bmRlZmluZWQ7DQoJfSBlbHNlIGlmICggZm4gPT0gbnVs
bCApIHsNCgkJaWYgKCB0eXBlb2Ygc2VsZWN0b3IgPT09ICJzdHJpbmciICkgew0KDQoJCQkvLyAo
IHR5cGVzLCBzZWxlY3RvciwgZm4gKQ0KCQkJZm4gPSBkYXRhOw0KCQkJZGF0YSA9IHVuZGVmaW5l
ZDsNCgkJfSBlbHNlIHsNCg0KCQkJLy8gKCB0eXBlcywgZGF0YSwgZm4gKQ0KCQkJZm4gPSBkYXRh
Ow0KCQkJZGF0YSA9IHNlbGVjdG9yOw0KCQkJc2VsZWN0b3IgPSB1bmRlZmluZWQ7DQoJCX0NCgl9
DQoJaWYgKCBmbiA9PT0gZmFsc2UgKSB7DQoJCWZuID0gcmV0dXJuRmFsc2U7DQoJfSBlbHNlIGlm
ICggIWZuICkgew0KCQlyZXR1cm4gZWxlbTsNCgl9DQoNCglpZiAoIG9uZSA9PT0gMSApIHsNCgkJ
b3JpZ0ZuID0gZm47DQoJCWZuID0gZnVuY3Rpb24oIGV2ZW50ICkgew0KDQoJCQkvLyBDYW4gdXNl
IGFuIGVtcHR5IHNldCwgc2luY2UgZXZlbnQgY29udGFpbnMgdGhlIGluZm8NCgkJCWpRdWVyeSgp
Lm9mZiggZXZlbnQgKTsNCgkJCXJldHVybiBvcmlnRm4uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyAp
Ow0KCQl9Ow0KDQoJCS8vIFVzZSBzYW1lIGd1aWQgc28gY2FsbGVyIGNhbiByZW1vdmUgdXNpbmcg
b3JpZ0ZuDQoJCWZuLmd1aWQgPSBvcmlnRm4uZ3VpZCB8fCAoIG9yaWdGbi5ndWlkID0galF1ZXJ5
Lmd1aWQrKyApOw0KCX0NCglyZXR1cm4gZWxlbS5lYWNoKCBmdW5jdGlvbigpIHsNCgkJalF1ZXJ5
LmV2ZW50LmFkZCggdGhpcywgdHlwZXMsIGZuLCBkYXRhLCBzZWxlY3RvciApOw0KCX0gKTsNCn0N
Cg0KLyoNCiAqIEhlbHBlciBmdW5jdGlvbnMgZm9yIG1hbmFnaW5nIGV2ZW50cyAtLSBub3QgcGFy
dCBvZiB0aGUgcHVibGljIGludGVyZmFjZS4NCiAqIFByb3BzIHRvIERlYW4gRWR3YXJkcycgYWRk
RXZlbnQgbGlicmFyeSBmb3IgbWFueSBvZiB0aGUgaWRlYXMuDQogKi8NCmpRdWVyeS5ldmVudCA9
IHsNCg0KCWdsb2JhbDoge30sDQoNCglhZGQ6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlcywgaGFuZGxl
ciwgZGF0YSwgc2VsZWN0b3IgKSB7DQoNCgkJdmFyIGhhbmRsZU9iakluLCBldmVudEhhbmRsZSwg
dG1wLA0KCQkJZXZlbnRzLCB0LCBoYW5kbGVPYmosDQoJCQlzcGVjaWFsLCBoYW5kbGVycywgdHlw
ZSwgbmFtZXNwYWNlcywgb3JpZ1R5cGUsDQoJCQllbGVtRGF0YSA9IGRhdGFQcml2LmdldCggZWxl
bSApOw0KDQoJCS8vIERvbid0IGF0dGFjaCBldmVudHMgdG8gbm9EYXRhIG9yIHRleHQvY29tbWVu
dCBub2RlcyAoYnV0IGFsbG93IHBsYWluIG9iamVjdHMpDQoJCWlmICggIWVsZW1EYXRhICkgew0K
CQkJcmV0dXJuOw0KCQl9DQoNCgkJLy8gQ2FsbGVyIGNhbiBwYXNzIGluIGFuIG9iamVjdCBvZiBj
dXN0b20gZGF0YSBpbiBsaWV1IG9mIHRoZSBoYW5kbGVyDQoJCWlmICggaGFuZGxlci5oYW5kbGVy
ICkgew0KCQkJaGFuZGxlT2JqSW4gPSBoYW5kbGVyOw0KCQkJaGFuZGxlciA9IGhhbmRsZU9iaklu
LmhhbmRsZXI7DQoJCQlzZWxlY3RvciA9IGhhbmRsZU9iakluLnNlbGVjdG9yOw0KCQl9DQoNCgkJ
Ly8gRW5zdXJlIHRoYXQgaW52YWxpZCBzZWxlY3RvcnMgdGhyb3cgZXhjZXB0aW9ucyBhdCBhdHRh
Y2ggdGltZQ0KCQkvLyBFdmFsdWF0ZSBhZ2FpbnN0IGRvY3VtZW50RWxlbWVudCBpbiBjYXNlIGVs
ZW0gaXMgYSBub24tZWxlbWVudCBub2RlIChlLmcuLCBkb2N1bWVudCkNCgkJaWYgKCBzZWxlY3Rv
ciApIHsNCgkJCWpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvciggZG9jdW1lbnRFbGVtZW50LCBz
ZWxlY3RvciApOw0KCQl9DQoNCgkJLy8gTWFrZSBzdXJlIHRoYXQgdGhlIGhhbmRsZXIgaGFzIGEg
dW5pcXVlIElELCB1c2VkIHRvIGZpbmQvcmVtb3ZlIGl0IGxhdGVyDQoJCWlmICggIWhhbmRsZXIu
Z3VpZCApIHsNCgkJCWhhbmRsZXIuZ3VpZCA9IGpRdWVyeS5ndWlkKys7DQoJCX0NCg0KCQkvLyBJ
bml0IHRoZSBlbGVtZW50J3MgZXZlbnQgc3RydWN0dXJlIGFuZCBtYWluIGhhbmRsZXIsIGlmIHRo
aXMgaXMgdGhlIGZpcnN0DQoJCWlmICggISggZXZlbnRzID0gZWxlbURhdGEuZXZlbnRzICkgKSB7
DQoJCQlldmVudHMgPSBlbGVtRGF0YS5ldmVudHMgPSB7fTsNCgkJfQ0KCQlpZiAoICEoIGV2ZW50
SGFuZGxlID0gZWxlbURhdGEuaGFuZGxlICkgKSB7DQoJCQlldmVudEhhbmRsZSA9IGVsZW1EYXRh
LmhhbmRsZSA9IGZ1bmN0aW9uKCBlICkgew0KDQoJCQkJLy8gRGlzY2FyZCB0aGUgc2Vjb25kIGV2
ZW50IG9mIGEgalF1ZXJ5LmV2ZW50LnRyaWdnZXIoKSBhbmQNCgkJCQkvLyB3aGVuIGFuIGV2ZW50
IGlzIGNhbGxlZCBhZnRlciBhIHBhZ2UgaGFzIHVubG9hZGVkDQoJCQkJcmV0dXJuIHR5cGVvZiBq
UXVlcnkgIT09ICJ1bmRlZmluZWQiICYmIGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgIT09IGUudHlw
ZSA/DQoJCQkJCWpRdWVyeS5ldmVudC5kaXNwYXRjaC5hcHBseSggZWxlbSwgYXJndW1lbnRzICkg
OiB1bmRlZmluZWQ7DQoJCQl9Ow0KCQl9DQoNCgkJLy8gSGFuZGxlIG11bHRpcGxlIGV2ZW50cyBz
ZXBhcmF0ZWQgYnkgYSBzcGFjZQ0KCQl0eXBlcyA9ICggdHlwZXMgfHwgIiIgKS5tYXRjaCggcm5v
dGh0bWx3aGl0ZSApIHx8IFsgIiIgXTsNCgkJdCA9IHR5cGVzLmxlbmd0aDsNCgkJd2hpbGUgKCB0
LS0gKSB7DQoJCQl0bXAgPSBydHlwZW5hbWVzcGFjZS5leGVjKCB0eXBlc1sgdCBdICkgfHwgW107
DQoJCQl0eXBlID0gb3JpZ1R5cGUgPSB0bXBbIDEgXTsNCgkJCW5hbWVzcGFjZXMgPSAoIHRtcFsg
MiBdIHx8ICIiICkuc3BsaXQoICIuIiApLnNvcnQoKTsNCg0KCQkJLy8gVGhlcmUgKm11c3QqIGJl
IGEgdHlwZSwgbm8gYXR0YWNoaW5nIG5hbWVzcGFjZS1vbmx5IGhhbmRsZXJzDQoJCQlpZiAoICF0
eXBlICkgew0KCQkJCWNvbnRpbnVlOw0KCQkJfQ0KDQoJCQkvLyBJZiBldmVudCBjaGFuZ2VzIGl0
cyB0eXBlLCB1c2UgdGhlIHNwZWNpYWwgZXZlbnQgaGFuZGxlcnMgZm9yIHRoZSBjaGFuZ2VkIHR5
cGUNCgkJCXNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9Ow0KDQoJ
CQkvLyBJZiBzZWxlY3RvciBkZWZpbmVkLCBkZXRlcm1pbmUgc3BlY2lhbCBldmVudCBhcGkgdHlw
ZSwgb3RoZXJ3aXNlIGdpdmVuIHR5cGUNCgkJCXR5cGUgPSAoIHNlbGVjdG9yID8gc3BlY2lhbC5k
ZWxlZ2F0ZVR5cGUgOiBzcGVjaWFsLmJpbmRUeXBlICkgfHwgdHlwZTsNCg0KCQkJLy8gVXBkYXRl
IHNwZWNpYWwgYmFzZWQgb24gbmV3bHkgcmVzZXQgdHlwZQ0KCQkJc3BlY2lhbCA9IGpRdWVyeS5l
dmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307DQoNCgkJCS8vIGhhbmRsZU9iaiBpcyBwYXNzZWQg
dG8gYWxsIGV2ZW50IGhhbmRsZXJzDQoJCQloYW5kbGVPYmogPSBqUXVlcnkuZXh0ZW5kKCB7DQoJ
CQkJdHlwZTogdHlwZSwNCgkJCQlvcmlnVHlwZTogb3JpZ1R5cGUsDQoJCQkJZGF0YTogZGF0YSwN
CgkJCQloYW5kbGVyOiBoYW5kbGVyLA0KCQkJCWd1aWQ6IGhhbmRsZXIuZ3VpZCwNCgkJCQlzZWxl
Y3Rvcjogc2VsZWN0b3IsDQoJCQkJbmVlZHNDb250ZXh0OiBzZWxlY3RvciAmJiBqUXVlcnkuZXhw
ci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdCggc2VsZWN0b3IgKSwNCgkJCQluYW1lc3BhY2U6IG5h
bWVzcGFjZXMuam9pbiggIi4iICkNCgkJCX0sIGhhbmRsZU9iakluICk7DQoNCgkJCS8vIEluaXQg
dGhlIGV2ZW50IGhhbmRsZXIgcXVldWUgaWYgd2UncmUgdGhlIGZpcnN0DQoJCQlpZiAoICEoIGhh
bmRsZXJzID0gZXZlbnRzWyB0eXBlIF0gKSApIHsNCgkJCQloYW5kbGVycyA9IGV2ZW50c1sgdHlw
ZSBdID0gW107DQoJCQkJaGFuZGxlcnMuZGVsZWdhdGVDb3VudCA9IDA7DQoNCgkJCQkvLyBPbmx5
IHVzZSBhZGRFdmVudExpc3RlbmVyIGlmIHRoZSBzcGVjaWFsIGV2ZW50cyBoYW5kbGVyIHJldHVy
bnMgZmFsc2UNCgkJCQlpZiAoICFzcGVjaWFsLnNldHVwIHx8DQoJCQkJCXNwZWNpYWwuc2V0dXAu
Y2FsbCggZWxlbSwgZGF0YSwgbmFtZXNwYWNlcywgZXZlbnRIYW5kbGUgKSA9PT0gZmFsc2UgKSB7
DQoNCgkJCQkJaWYgKCBlbGVtLmFkZEV2ZW50TGlzdGVuZXIgKSB7DQoJCQkJCQllbGVtLmFkZEV2
ZW50TGlzdGVuZXIoIHR5cGUsIGV2ZW50SGFuZGxlICk7DQoJCQkJCX0NCgkJCQl9DQoJCQl9DQoN
CgkJCWlmICggc3BlY2lhbC5hZGQgKSB7DQoJCQkJc3BlY2lhbC5hZGQuY2FsbCggZWxlbSwgaGFu
ZGxlT2JqICk7DQoNCgkJCQlpZiAoICFoYW5kbGVPYmouaGFuZGxlci5ndWlkICkgew0KCQkJCQlo
YW5kbGVPYmouaGFuZGxlci5ndWlkID0gaGFuZGxlci5ndWlkOw0KCQkJCX0NCgkJCX0NCg0KCQkJ
Ly8gQWRkIHRvIHRoZSBlbGVtZW50J3MgaGFuZGxlciBsaXN0LCBkZWxlZ2F0ZXMgaW4gZnJvbnQN
CgkJCWlmICggc2VsZWN0b3IgKSB7DQoJCQkJaGFuZGxlcnMuc3BsaWNlKCBoYW5kbGVycy5kZWxl
Z2F0ZUNvdW50KyssIDAsIGhhbmRsZU9iaiApOw0KCQkJfSBlbHNlIHsNCgkJCQloYW5kbGVycy5w
dXNoKCBoYW5kbGVPYmogKTsNCgkJCX0NCg0KCQkJLy8gS2VlcCB0cmFjayBvZiB3aGljaCBldmVu
dHMgaGF2ZSBldmVyIGJlZW4gdXNlZCwgZm9yIGV2ZW50IG9wdGltaXphdGlvbg0KCQkJalF1ZXJ5
LmV2ZW50Lmdsb2JhbFsgdHlwZSBdID0gdHJ1ZTsNCgkJfQ0KDQoJfSwNCg0KCS8vIERldGFjaCBh
biBldmVudCBvciBzZXQgb2YgZXZlbnRzIGZyb20gYW4gZWxlbWVudA0KCXJlbW92ZTogZnVuY3Rp
b24oIGVsZW0sIHR5cGVzLCBoYW5kbGVyLCBzZWxlY3RvciwgbWFwcGVkVHlwZXMgKSB7DQoNCgkJ
dmFyIGosIG9yaWdDb3VudCwgdG1wLA0KCQkJZXZlbnRzLCB0LCBoYW5kbGVPYmosDQoJCQlzcGVj
aWFsLCBoYW5kbGVycywgdHlwZSwgbmFtZXNwYWNlcywgb3JpZ1R5cGUsDQoJCQllbGVtRGF0YSA9
IGRhdGFQcml2Lmhhc0RhdGEoIGVsZW0gKSAmJiBkYXRhUHJpdi5nZXQoIGVsZW0gKTsNCg0KCQlp
ZiAoICFlbGVtRGF0YSB8fCAhKCBldmVudHMgPSBlbGVtRGF0YS5ldmVudHMgKSApIHsNCgkJCXJl
dHVybjsNCgkJfQ0KDQoJCS8vIE9uY2UgZm9yIGVhY2ggdHlwZS5uYW1lc3BhY2UgaW4gdHlwZXM7
IHR5cGUgbWF5IGJlIG9taXR0ZWQNCgkJdHlwZXMgPSAoIHR5cGVzIHx8ICIiICkubWF0Y2goIHJu
b3RodG1sd2hpdGUgKSB8fCBbICIiIF07DQoJCXQgPSB0eXBlcy5sZW5ndGg7DQoJCXdoaWxlICgg
dC0tICkgew0KCQkJdG1wID0gcnR5cGVuYW1lc3BhY2UuZXhlYyggdHlwZXNbIHQgXSApIHx8IFtd
Ow0KCQkJdHlwZSA9IG9yaWdUeXBlID0gdG1wWyAxIF07DQoJCQluYW1lc3BhY2VzID0gKCB0bXBb
IDIgXSB8fCAiIiApLnNwbGl0KCAiLiIgKS5zb3J0KCk7DQoNCgkJCS8vIFVuYmluZCBhbGwgZXZl
bnRzIChvbiB0aGlzIG5hbWVzcGFjZSwgaWYgcHJvdmlkZWQpIGZvciB0aGUgZWxlbWVudA0KCQkJ
aWYgKCAhdHlwZSApIHsNCgkJCQlmb3IgKCB0eXBlIGluIGV2ZW50cyApIHsNCgkJCQkJalF1ZXJ5
LmV2ZW50LnJlbW92ZSggZWxlbSwgdHlwZSArIHR5cGVzWyB0IF0sIGhhbmRsZXIsIHNlbGVjdG9y
LCB0cnVlICk7DQoJCQkJfQ0KCQkJCWNvbnRpbnVlOw0KCQkJfQ0KDQoJCQlzcGVjaWFsID0galF1
ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fTsNCgkJCXR5cGUgPSAoIHNlbGVjdG9yID8g
c3BlY2lhbC5kZWxlZ2F0ZVR5cGUgOiBzcGVjaWFsLmJpbmRUeXBlICkgfHwgdHlwZTsNCgkJCWhh
bmRsZXJzID0gZXZlbnRzWyB0eXBlIF0gfHwgW107DQoJCQl0bXAgPSB0bXBbIDIgXSAmJg0KCQkJ
CW5ldyBSZWdFeHAoICIoXnxcXC4pIiArIG5hbWVzcGFjZXMuam9pbiggIlxcLig/Oi4qXFwufCki
ICkgKyAiKFxcLnwkKSIgKTsNCg0KCQkJLy8gUmVtb3ZlIG1hdGNoaW5nIGV2ZW50cw0KCQkJb3Jp
Z0NvdW50ID0gaiA9IGhhbmRsZXJzLmxlbmd0aDsNCgkJCXdoaWxlICggai0tICkgew0KCQkJCWhh
bmRsZU9iaiA9IGhhbmRsZXJzWyBqIF07DQoNCgkJCQlpZiAoICggbWFwcGVkVHlwZXMgfHwgb3Jp
Z1R5cGUgPT09IGhhbmRsZU9iai5vcmlnVHlwZSApICYmDQoJCQkJCSggIWhhbmRsZXIgfHwgaGFu
ZGxlci5ndWlkID09PSBoYW5kbGVPYmouZ3VpZCApICYmDQoJCQkJCSggIXRtcCB8fCB0bXAudGVz
dCggaGFuZGxlT2JqLm5hbWVzcGFjZSApICkgJiYNCgkJCQkJKCAhc2VsZWN0b3IgfHwgc2VsZWN0
b3IgPT09IGhhbmRsZU9iai5zZWxlY3RvciB8fA0KCQkJCQkJc2VsZWN0b3IgPT09ICIqKiIgJiYg
aGFuZGxlT2JqLnNlbGVjdG9yICkgKSB7DQoJCQkJCWhhbmRsZXJzLnNwbGljZSggaiwgMSApOw0K
DQoJCQkJCWlmICggaGFuZGxlT2JqLnNlbGVjdG9yICkgew0KCQkJCQkJaGFuZGxlcnMuZGVsZWdh
dGVDb3VudC0tOw0KCQkJCQl9DQoJCQkJCWlmICggc3BlY2lhbC5yZW1vdmUgKSB7DQoJCQkJCQlz
cGVjaWFsLnJlbW92ZS5jYWxsKCBlbGVtLCBoYW5kbGVPYmogKTsNCgkJCQkJfQ0KCQkJCX0NCgkJ
CX0NCg0KCQkJLy8gUmVtb3ZlIGdlbmVyaWMgZXZlbnQgaGFuZGxlciBpZiB3ZSByZW1vdmVkIHNv
bWV0aGluZyBhbmQgbm8gbW9yZSBoYW5kbGVycyBleGlzdA0KCQkJLy8gKGF2b2lkcyBwb3RlbnRp
YWwgZm9yIGVuZGxlc3MgcmVjdXJzaW9uIGR1cmluZyByZW1vdmFsIG9mIHNwZWNpYWwgZXZlbnQg
aGFuZGxlcnMpDQoJCQlpZiAoIG9yaWdDb3VudCAmJiAhaGFuZGxlcnMubGVuZ3RoICkgew0KCQkJ
CWlmICggIXNwZWNpYWwudGVhcmRvd24gfHwNCgkJCQkJc3BlY2lhbC50ZWFyZG93bi5jYWxsKCBl
bGVtLCBuYW1lc3BhY2VzLCBlbGVtRGF0YS5oYW5kbGUgKSA9PT0gZmFsc2UgKSB7DQoNCgkJCQkJ
alF1ZXJ5LnJlbW92ZUV2ZW50KCBlbGVtLCB0eXBlLCBlbGVtRGF0YS5oYW5kbGUgKTsNCgkJCQl9
DQoNCgkJCQlkZWxldGUgZXZlbnRzWyB0eXBlIF07DQoJCQl9DQoJCX0NCg0KCQkvLyBSZW1vdmUg
ZGF0YSBhbmQgdGhlIGV4cGFuZG8gaWYgaXQncyBubyBsb25nZXIgdXNlZA0KCQlpZiAoIGpRdWVy
eS5pc0VtcHR5T2JqZWN0KCBldmVudHMgKSApIHsNCgkJCWRhdGFQcml2LnJlbW92ZSggZWxlbSwg
ImhhbmRsZSBldmVudHMiICk7DQoJCX0NCgl9LA0KDQoJZGlzcGF0Y2g6IGZ1bmN0aW9uKCBuYXRp
dmVFdmVudCApIHsNCg0KCQkvLyBNYWtlIGEgd3JpdGFibGUgalF1ZXJ5LkV2ZW50IGZyb20gdGhl
IG5hdGl2ZSBldmVudCBvYmplY3QNCgkJdmFyIGV2ZW50ID0galF1ZXJ5LmV2ZW50LmZpeCggbmF0
aXZlRXZlbnQgKTsNCg0KCQl2YXIgaSwgaiwgcmV0LCBtYXRjaGVkLCBoYW5kbGVPYmosIGhhbmRs
ZXJRdWV1ZSwNCgkJCWFyZ3MgPSBuZXcgQXJyYXkoIGFyZ3VtZW50cy5sZW5ndGggKSwNCgkJCWhh
bmRsZXJzID0gKCBkYXRhUHJpdi5nZXQoIHRoaXMsICJldmVudHMiICkgfHwge30gKVsgZXZlbnQu
dHlwZSBdIHx8IFtdLA0KCQkJc3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyBldmVudC50
eXBlIF0gfHwge307DQoNCgkJLy8gVXNlIHRoZSBmaXgtZWQgalF1ZXJ5LkV2ZW50IHJhdGhlciB0
aGFuIHRoZSAocmVhZC1vbmx5KSBuYXRpdmUgZXZlbnQNCgkJYXJnc1sgMCBdID0gZXZlbnQ7DQoN
CgkJZm9yICggaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKysgKSB7DQoJCQlhcmdzWyBp
IF0gPSBhcmd1bWVudHNbIGkgXTsNCgkJfQ0KDQoJCWV2ZW50LmRlbGVnYXRlVGFyZ2V0ID0gdGhp
czsNCg0KCQkvLyBDYWxsIHRoZSBwcmVEaXNwYXRjaCBob29rIGZvciB0aGUgbWFwcGVkIHR5cGUs
IGFuZCBsZXQgaXQgYmFpbCBpZiBkZXNpcmVkDQoJCWlmICggc3BlY2lhbC5wcmVEaXNwYXRjaCAm
JiBzcGVjaWFsLnByZURpc3BhdGNoLmNhbGwoIHRoaXMsIGV2ZW50ICkgPT09IGZhbHNlICkgew0K
CQkJcmV0dXJuOw0KCQl9DQoNCgkJLy8gRGV0ZXJtaW5lIGhhbmRsZXJzDQoJCWhhbmRsZXJRdWV1
ZSA9IGpRdWVyeS5ldmVudC5oYW5kbGVycy5jYWxsKCB0aGlzLCBldmVudCwgaGFuZGxlcnMgKTsN
Cg0KCQkvLyBSdW4gZGVsZWdhdGVzIGZpcnN0OyB0aGV5IG1heSB3YW50IHRvIHN0b3AgcHJvcGFn
YXRpb24gYmVuZWF0aCB1cw0KCQlpID0gMDsNCgkJd2hpbGUgKCAoIG1hdGNoZWQgPSBoYW5kbGVy
UXVldWVbIGkrKyBdICkgJiYgIWV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7DQoJCQll
dmVudC5jdXJyZW50VGFyZ2V0ID0gbWF0Y2hlZC5lbGVtOw0KDQoJCQlqID0gMDsNCgkJCXdoaWxl
ICggKCBoYW5kbGVPYmogPSBtYXRjaGVkLmhhbmRsZXJzWyBqKysgXSApICYmDQoJCQkJIWV2ZW50
LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7DQoNCgkJCQkvLyBUcmlnZ2VyZWQg
ZXZlbnQgbXVzdCBlaXRoZXIgMSkgaGF2ZSBubyBuYW1lc3BhY2UsIG9yIDIpIGhhdmUgbmFtZXNw
YWNlKHMpDQoJCQkJLy8gYSBzdWJzZXQgb3IgZXF1YWwgdG8gdGhvc2UgaW4gdGhlIGJvdW5kIGV2
ZW50IChib3RoIGNhbiBoYXZlIG5vIG5hbWVzcGFjZSkuDQoJCQkJaWYgKCAhZXZlbnQucm5hbWVz
cGFjZSB8fCBldmVudC5ybmFtZXNwYWNlLnRlc3QoIGhhbmRsZU9iai5uYW1lc3BhY2UgKSApIHsN
Cg0KCQkJCQlldmVudC5oYW5kbGVPYmogPSBoYW5kbGVPYmo7DQoJCQkJCWV2ZW50LmRhdGEgPSBo
YW5kbGVPYmouZGF0YTsNCg0KCQkJCQlyZXQgPSAoICggalF1ZXJ5LmV2ZW50LnNwZWNpYWxbIGhh
bmRsZU9iai5vcmlnVHlwZSBdIHx8IHt9ICkuaGFuZGxlIHx8DQoJCQkJCQloYW5kbGVPYmouaGFu
ZGxlciApLmFwcGx5KCBtYXRjaGVkLmVsZW0sIGFyZ3MgKTsNCg0KCQkJCQlpZiAoIHJldCAhPT0g
dW5kZWZpbmVkICkgew0KCQkJCQkJaWYgKCAoIGV2ZW50LnJlc3VsdCA9IHJldCApID09PSBmYWxz
ZSApIHsNCgkJCQkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOw0KCQkJCQkJCWV2ZW50LnN0b3BQ
cm9wYWdhdGlvbigpOw0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KCQl9DQoNCgkJLy8g
Q2FsbCB0aGUgcG9zdERpc3BhdGNoIGhvb2sgZm9yIHRoZSBtYXBwZWQgdHlwZQ0KCQlpZiAoIHNw
ZWNpYWwucG9zdERpc3BhdGNoICkgew0KCQkJc3BlY2lhbC5wb3N0RGlzcGF0Y2guY2FsbCggdGhp
cywgZXZlbnQgKTsNCgkJfQ0KDQoJCXJldHVybiBldmVudC5yZXN1bHQ7DQoJfSwNCg0KCWhhbmRs
ZXJzOiBmdW5jdGlvbiggZXZlbnQsIGhhbmRsZXJzICkgew0KCQl2YXIgaSwgaGFuZGxlT2JqLCBz
ZWwsIG1hdGNoZWRIYW5kbGVycywgbWF0Y2hlZFNlbGVjdG9ycywNCgkJCWhhbmRsZXJRdWV1ZSA9
IFtdLA0KCQkJZGVsZWdhdGVDb3VudCA9IGhhbmRsZXJzLmRlbGVnYXRlQ291bnQsDQoJCQljdXIg
PSBldmVudC50YXJnZXQ7DQoNCgkJLy8gRmluZCBkZWxlZ2F0ZSBoYW5kbGVycw0KCQlpZiAoIGRl
bGVnYXRlQ291bnQgJiYNCg0KCQkJLy8gU3VwcG9ydDogSUUgPD05DQoJCQkvLyBCbGFjay1ob2xl
IFNWRyA8dXNlPiBpbnN0YW5jZSB0cmVlcyAodHJhYy0xMzE4MCkNCgkJCWN1ci5ub2RlVHlwZSAm
Jg0KDQoJCQkvLyBTdXBwb3J0OiBGaXJlZm94IDw9NDINCgkJCS8vIFN1cHByZXNzIHNwZWMtdmlv
bGF0aW5nIGNsaWNrcyBpbmRpY2F0aW5nIGEgbm9uLXByaW1hcnkgcG9pbnRlciBidXR0b24gKHRy
YWMtMzg2MSkNCgkJCS8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMv
I2V2ZW50LXR5cGUtY2xpY2sNCgkJCS8vIFN1cHBvcnQ6IElFIDExIG9ubHkNCgkJCS8vIC4uLmJ1
dCBub3QgYXJyb3cga2V5ICJjbGlja3MiIG9mIHJhZGlvIGlucHV0cywgd2hpY2ggY2FuIGhhdmUg
YGJ1dHRvbmAgLTEgKGdoLTIzNDMpDQoJCQkhKCBldmVudC50eXBlID09PSAiY2xpY2siICYmIGV2
ZW50LmJ1dHRvbiA+PSAxICkgKSB7DQoNCgkJCWZvciAoIDsgY3VyICE9PSB0aGlzOyBjdXIgPSBj
dXIucGFyZW50Tm9kZSB8fCB0aGlzICkgew0KDQoJCQkJLy8gRG9uJ3QgY2hlY2sgbm9uLWVsZW1l
bnRzICgjMTMyMDgpDQoJCQkJLy8gRG9uJ3QgcHJvY2VzcyBjbGlja3Mgb24gZGlzYWJsZWQgZWxl
bWVudHMgKCM2OTExLCAjODE2NSwgIzExMzgyLCAjMTE3NjQpDQoJCQkJaWYgKCBjdXIubm9kZVR5
cGUgPT09IDEgJiYgISggZXZlbnQudHlwZSA9PT0gImNsaWNrIiAmJiBjdXIuZGlzYWJsZWQgPT09
IHRydWUgKSApIHsNCgkJCQkJbWF0Y2hlZEhhbmRsZXJzID0gW107DQoJCQkJCW1hdGNoZWRTZWxl
Y3RvcnMgPSB7fTsNCgkJCQkJZm9yICggaSA9IDA7IGkgPCBkZWxlZ2F0ZUNvdW50OyBpKysgKSB7
DQoJCQkJCQloYW5kbGVPYmogPSBoYW5kbGVyc1sgaSBdOw0KDQoJCQkJCQkvLyBEb24ndCBjb25m
bGljdCB3aXRoIE9iamVjdC5wcm90b3R5cGUgcHJvcGVydGllcyAoIzEzMjAzKQ0KCQkJCQkJc2Vs
ID0gaGFuZGxlT2JqLnNlbGVjdG9yICsgIiAiOw0KDQoJCQkJCQlpZiAoIG1hdGNoZWRTZWxlY3Rv
cnNbIHNlbCBdID09PSB1bmRlZmluZWQgKSB7DQoJCQkJCQkJbWF0Y2hlZFNlbGVjdG9yc1sgc2Vs
IF0gPSBoYW5kbGVPYmoubmVlZHNDb250ZXh0ID8NCgkJCQkJCQkJalF1ZXJ5KCBzZWwsIHRoaXMg
KS5pbmRleCggY3VyICkgPiAtMSA6DQoJCQkJCQkJCWpRdWVyeS5maW5kKCBzZWwsIHRoaXMsIG51
bGwsIFsgY3VyIF0gKS5sZW5ndGg7DQoJCQkJCQl9DQoJCQkJCQlpZiAoIG1hdGNoZWRTZWxlY3Rv
cnNbIHNlbCBdICkgew0KCQkJCQkJCW1hdGNoZWRIYW5kbGVycy5wdXNoKCBoYW5kbGVPYmogKTsN
CgkJCQkJCX0NCgkJCQkJfQ0KCQkJCQlpZiAoIG1hdGNoZWRIYW5kbGVycy5sZW5ndGggKSB7DQoJ
CQkJCQloYW5kbGVyUXVldWUucHVzaCggeyBlbGVtOiBjdXIsIGhhbmRsZXJzOiBtYXRjaGVkSGFu
ZGxlcnMgfSApOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KCQl9DQoNCgkJLy8gQWRkIHRoZSByZW1h
aW5pbmcgKGRpcmVjdGx5LWJvdW5kKSBoYW5kbGVycw0KCQljdXIgPSB0aGlzOw0KCQlpZiAoIGRl
bGVnYXRlQ291bnQgPCBoYW5kbGVycy5sZW5ndGggKSB7DQoJCQloYW5kbGVyUXVldWUucHVzaCgg
eyBlbGVtOiBjdXIsIGhhbmRsZXJzOiBoYW5kbGVycy5zbGljZSggZGVsZWdhdGVDb3VudCApIH0g
KTsNCgkJfQ0KDQoJCXJldHVybiBoYW5kbGVyUXVldWU7DQoJfSwNCg0KCWFkZFByb3A6IGZ1bmN0
aW9uKCBuYW1lLCBob29rICkgew0KCQlPYmplY3QuZGVmaW5lUHJvcGVydHkoIGpRdWVyeS5FdmVu
dC5wcm90b3R5cGUsIG5hbWUsIHsNCgkJCWVudW1lcmFibGU6IHRydWUsDQoJCQljb25maWd1cmFi
bGU6IHRydWUsDQoNCgkJCWdldDogalF1ZXJ5LmlzRnVuY3Rpb24oIGhvb2sgKSA/DQoJCQkJZnVu
Y3Rpb24oKSB7DQoJCQkJCWlmICggdGhpcy5vcmlnaW5hbEV2ZW50ICkgew0KCQkJCQkJCXJldHVy
biBob29rKCB0aGlzLm9yaWdpbmFsRXZlbnQgKTsNCgkJCQkJfQ0KCQkJCX0gOg0KCQkJCWZ1bmN0
aW9uKCkgew0KCQkJCQlpZiAoIHRoaXMub3JpZ2luYWxFdmVudCApIHsNCgkJCQkJCQlyZXR1cm4g
dGhpcy5vcmlnaW5hbEV2ZW50WyBuYW1lIF07DQoJCQkJCX0NCgkJCQl9LA0KDQoJCQlzZXQ6IGZ1
bmN0aW9uKCB2YWx1ZSApIHsNCgkJCQlPYmplY3QuZGVmaW5lUHJvcGVydHkoIHRoaXMsIG5hbWUs
IHsNCgkJCQkJZW51bWVyYWJsZTogdHJ1ZSwNCgkJCQkJY29uZmlndXJhYmxlOiB0cnVlLA0KCQkJ
CQl3cml0YWJsZTogdHJ1ZSwNCgkJCQkJdmFsdWU6IHZhbHVlDQoJCQkJfSApOw0KCQkJfQ0KCQl9
ICk7DQoJfSwNCg0KCWZpeDogZnVuY3Rpb24oIG9yaWdpbmFsRXZlbnQgKSB7DQoJCXJldHVybiBv
cmlnaW5hbEV2ZW50WyBqUXVlcnkuZXhwYW5kbyBdID8NCgkJCW9yaWdpbmFsRXZlbnQgOg0KCQkJ
bmV3IGpRdWVyeS5FdmVudCggb3JpZ2luYWxFdmVudCApOw0KCX0sDQoNCglzcGVjaWFsOiB7DQoJ
CWxvYWQ6IHsNCg0KCQkJLy8gUHJldmVudCB0cmlnZ2VyZWQgaW1hZ2UubG9hZCBldmVudHMgZnJv
bSBidWJibGluZyB0byB3aW5kb3cubG9hZA0KCQkJbm9CdWJibGU6IHRydWUNCgkJfSwNCgkJZm9j
dXM6IHsNCg0KCQkJLy8gRmlyZSBuYXRpdmUgZXZlbnQgaWYgcG9zc2libGUgc28gYmx1ci9mb2N1
cyBzZXF1ZW5jZSBpcyBjb3JyZWN0DQoJCQl0cmlnZ2VyOiBmdW5jdGlvbigpIHsNCgkJCQlpZiAo
IHRoaXMgIT09IHNhZmVBY3RpdmVFbGVtZW50KCkgJiYgdGhpcy5mb2N1cyApIHsNCgkJCQkJdGhp
cy5mb2N1cygpOw0KCQkJCQlyZXR1cm4gZmFsc2U7DQoJCQkJfQ0KCQkJfSwNCgkJCWRlbGVnYXRl
VHlwZTogImZvY3VzaW4iDQoJCX0sDQoJCWJsdXI6IHsNCgkJCXRyaWdnZXI6IGZ1bmN0aW9uKCkg
ew0KCQkJCWlmICggdGhpcyA9PT0gc2FmZUFjdGl2ZUVsZW1lbnQoKSAmJiB0aGlzLmJsdXIgKSB7
DQoJCQkJCXRoaXMuYmx1cigpOw0KCQkJCQlyZXR1cm4gZmFsc2U7DQoJCQkJfQ0KCQkJfSwNCgkJ
CWRlbGVnYXRlVHlwZTogImZvY3Vzb3V0Ig0KCQl9LA0KCQljbGljazogew0KDQoJCQkvLyBGb3Ig
Y2hlY2tib3gsIGZpcmUgbmF0aXZlIGV2ZW50IHNvIGNoZWNrZWQgc3RhdGUgd2lsbCBiZSByaWdo
dA0KCQkJdHJpZ2dlcjogZnVuY3Rpb24oKSB7DQoJCQkJaWYgKCB0aGlzLnR5cGUgPT09ICJjaGVj
a2JveCIgJiYgdGhpcy5jbGljayAmJiBub2RlTmFtZSggdGhpcywgImlucHV0IiApICkgew0KCQkJ
CQl0aGlzLmNsaWNrKCk7DQoJCQkJCXJldHVybiBmYWxzZTsNCgkJCQl9DQoJCQl9LA0KDQoJCQkv
LyBGb3IgY3Jvc3MtYnJvd3NlciBjb25zaXN0ZW5jeSwgZG9uJ3QgZmlyZSBuYXRpdmUgLmNsaWNr
KCkgb24gbGlua3MNCgkJCV9kZWZhdWx0OiBmdW5jdGlvbiggZXZlbnQgKSB7DQoJCQkJcmV0dXJu
IG5vZGVOYW1lKCBldmVudC50YXJnZXQsICJhIiApOw0KCQkJfQ0KCQl9LA0KDQoJCWJlZm9yZXVu
bG9hZDogew0KCQkJcG9zdERpc3BhdGNoOiBmdW5jdGlvbiggZXZlbnQgKSB7DQoNCgkJCQkvLyBT
dXBwb3J0OiBGaXJlZm94IDIwKw0KCQkJCS8vIEZpcmVmb3ggZG9lc24ndCBhbGVydCBpZiB0aGUg
cmV0dXJuVmFsdWUgZmllbGQgaXMgbm90IHNldC4NCgkJCQlpZiAoIGV2ZW50LnJlc3VsdCAhPT0g
dW5kZWZpbmVkICYmIGV2ZW50Lm9yaWdpbmFsRXZlbnQgKSB7DQoJCQkJCWV2ZW50Lm9yaWdpbmFs
RXZlbnQucmV0dXJuVmFsdWUgPSBldmVudC5yZXN1bHQ7DQoJCQkJfQ0KCQkJfQ0KCQl9DQoJfQ0K
fTsNCg0KalF1ZXJ5LnJlbW92ZUV2ZW50ID0gZnVuY3Rpb24oIGVsZW0sIHR5cGUsIGhhbmRsZSAp
IHsNCg0KCS8vIFRoaXMgImlmIiBpcyBuZWVkZWQgZm9yIHBsYWluIG9iamVjdHMNCglpZiAoIGVs
ZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lciApIHsNCgkJZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKCB0
eXBlLCBoYW5kbGUgKTsNCgl9DQp9Ow0KDQpqUXVlcnkuRXZlbnQgPSBmdW5jdGlvbiggc3JjLCBw
cm9wcyApIHsNCg0KCS8vIEFsbG93IGluc3RhbnRpYXRpb24gd2l0aG91dCB0aGUgJ25ldycga2V5
d29yZA0KCWlmICggISggdGhpcyBpbnN0YW5jZW9mIGpRdWVyeS5FdmVudCApICkgew0KCQlyZXR1
cm4gbmV3IGpRdWVyeS5FdmVudCggc3JjLCBwcm9wcyApOw0KCX0NCg0KCS8vIEV2ZW50IG9iamVj
dA0KCWlmICggc3JjICYmIHNyYy50eXBlICkgew0KCQl0aGlzLm9yaWdpbmFsRXZlbnQgPSBzcmM7
DQoJCXRoaXMudHlwZSA9IHNyYy50eXBlOw0KDQoJCS8vIEV2ZW50cyBidWJibGluZyB1cCB0aGUg
ZG9jdW1lbnQgbWF5IGhhdmUgYmVlbiBtYXJrZWQgYXMgcHJldmVudGVkDQoJCS8vIGJ5IGEgaGFu
ZGxlciBsb3dlciBkb3duIHRoZSB0cmVlOyByZWZsZWN0IHRoZSBjb3JyZWN0IHZhbHVlLg0KCQl0
aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IHNyYy5kZWZhdWx0UHJldmVudGVkIHx8DQoJCQkJc3Jj
LmRlZmF1bHRQcmV2ZW50ZWQgPT09IHVuZGVmaW5lZCAmJg0KDQoJCQkJLy8gU3VwcG9ydDogQW5k
cm9pZCA8PTIuMyBvbmx5DQoJCQkJc3JjLnJldHVyblZhbHVlID09PSBmYWxzZSA/DQoJCQlyZXR1
cm5UcnVlIDoNCgkJCXJldHVybkZhbHNlOw0KDQoJCS8vIENyZWF0ZSB0YXJnZXQgcHJvcGVydGll
cw0KCQkvLyBTdXBwb3J0OiBTYWZhcmkgPD02IC0gNyBvbmx5DQoJCS8vIFRhcmdldCBzaG91bGQg
bm90IGJlIGEgdGV4dCBub2RlICgjNTA0LCAjMTMxNDMpDQoJCXRoaXMudGFyZ2V0ID0gKCBzcmMu
dGFyZ2V0ICYmIHNyYy50YXJnZXQubm9kZVR5cGUgPT09IDMgKSA/DQoJCQlzcmMudGFyZ2V0LnBh
cmVudE5vZGUgOg0KCQkJc3JjLnRhcmdldDsNCg0KCQl0aGlzLmN1cnJlbnRUYXJnZXQgPSBzcmMu
Y3VycmVudFRhcmdldDsNCgkJdGhpcy5yZWxhdGVkVGFyZ2V0ID0gc3JjLnJlbGF0ZWRUYXJnZXQ7
DQoNCgkvLyBFdmVudCB0eXBlDQoJfSBlbHNlIHsNCgkJdGhpcy50eXBlID0gc3JjOw0KCX0NCg0K
CS8vIFB1dCBleHBsaWNpdGx5IHByb3ZpZGVkIHByb3BlcnRpZXMgb250byB0aGUgZXZlbnQgb2Jq
ZWN0DQoJaWYgKCBwcm9wcyApIHsNCgkJalF1ZXJ5LmV4dGVuZCggdGhpcywgcHJvcHMgKTsNCgl9
DQoNCgkvLyBDcmVhdGUgYSB0aW1lc3RhbXAgaWYgaW5jb21pbmcgZXZlbnQgZG9lc24ndCBoYXZl
IG9uZQ0KCXRoaXMudGltZVN0YW1wID0gc3JjICYmIHNyYy50aW1lU3RhbXAgfHwgalF1ZXJ5Lm5v
dygpOw0KDQoJLy8gTWFyayBpdCBhcyBmaXhlZA0KCXRoaXNbIGpRdWVyeS5leHBhbmRvIF0gPSB0
cnVlOw0KfTsNCg0KLy8galF1ZXJ5LkV2ZW50IGlzIGJhc2VkIG9uIERPTTMgRXZlbnRzIGFzIHNw
ZWNpZmllZCBieSB0aGUgRUNNQVNjcmlwdCBMYW5ndWFnZSBCaW5kaW5nDQovLyBodHRwczovL3d3
dy53My5vcmcvVFIvMjAwMy9XRC1ET00tTGV2ZWwtMy1FdmVudHMtMjAwMzAzMzEvZWNtYS1zY3Jp
cHQtYmluZGluZy5odG1sDQpqUXVlcnkuRXZlbnQucHJvdG90eXBlID0gew0KCWNvbnN0cnVjdG9y
OiBqUXVlcnkuRXZlbnQsDQoJaXNEZWZhdWx0UHJldmVudGVkOiByZXR1cm5GYWxzZSwNCglpc1By
b3BhZ2F0aW9uU3RvcHBlZDogcmV0dXJuRmFsc2UsDQoJaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0
b3BwZWQ6IHJldHVybkZhbHNlLA0KCWlzU2ltdWxhdGVkOiBmYWxzZSwNCg0KCXByZXZlbnREZWZh
dWx0OiBmdW5jdGlvbigpIHsNCgkJdmFyIGUgPSB0aGlzLm9yaWdpbmFsRXZlbnQ7DQoNCgkJdGhp
cy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSByZXR1cm5UcnVlOw0KDQoJCWlmICggZSAmJiAhdGhpcy5p
c1NpbXVsYXRlZCApIHsNCgkJCWUucHJldmVudERlZmF1bHQoKTsNCgkJfQ0KCX0sDQoJc3RvcFBy
b3BhZ2F0aW9uOiBmdW5jdGlvbigpIHsNCgkJdmFyIGUgPSB0aGlzLm9yaWdpbmFsRXZlbnQ7DQoN
CgkJdGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZCA9IHJldHVyblRydWU7DQoNCgkJaWYgKCBlICYm
ICF0aGlzLmlzU2ltdWxhdGVkICkgew0KCQkJZS5zdG9wUHJvcGFnYXRpb24oKTsNCgkJfQ0KCX0s
DQoJc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOiBmdW5jdGlvbigpIHsNCgkJdmFyIGUgPSB0aGlz
Lm9yaWdpbmFsRXZlbnQ7DQoNCgkJdGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9
IHJldHVyblRydWU7DQoNCgkJaWYgKCBlICYmICF0aGlzLmlzU2ltdWxhdGVkICkgew0KCQkJZS5z
dG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTsNCgkJfQ0KDQoJCXRoaXMuc3RvcFByb3BhZ2F0aW9u
KCk7DQoJfQ0KfTsNCg0KLy8gSW5jbHVkZXMgYWxsIGNvbW1vbiBldmVudCBwcm9wcyBpbmNsdWRp
bmcgS2V5RXZlbnQgYW5kIE1vdXNlRXZlbnQgc3BlY2lmaWMgcHJvcHMNCmpRdWVyeS5lYWNoKCB7
DQoJYWx0S2V5OiB0cnVlLA0KCWJ1YmJsZXM6IHRydWUsDQoJY2FuY2VsYWJsZTogdHJ1ZSwNCglj
aGFuZ2VkVG91Y2hlczogdHJ1ZSwNCgljdHJsS2V5OiB0cnVlLA0KCWRldGFpbDogdHJ1ZSwNCgll
dmVudFBoYXNlOiB0cnVlLA0KCW1ldGFLZXk6IHRydWUsDQoJcGFnZVg6IHRydWUsDQoJcGFnZVk6
IHRydWUsDQoJc2hpZnRLZXk6IHRydWUsDQoJdmlldzogdHJ1ZSwNCgkiY2hhciI6IHRydWUsDQoJ
Y2hhckNvZGU6IHRydWUsDQoJa2V5OiB0cnVlLA0KCWtleUNvZGU6IHRydWUsDQoJYnV0dG9uOiB0
cnVlLA0KCWJ1dHRvbnM6IHRydWUsDQoJY2xpZW50WDogdHJ1ZSwNCgljbGllbnRZOiB0cnVlLA0K
CW9mZnNldFg6IHRydWUsDQoJb2Zmc2V0WTogdHJ1ZSwNCglwb2ludGVySWQ6IHRydWUsDQoJcG9p
bnRlclR5cGU6IHRydWUsDQoJc2NyZWVuWDogdHJ1ZSwNCglzY3JlZW5ZOiB0cnVlLA0KCXRhcmdl
dFRvdWNoZXM6IHRydWUsDQoJdG9FbGVtZW50OiB0cnVlLA0KCXRvdWNoZXM6IHRydWUsDQoNCgl3
aGljaDogZnVuY3Rpb24oIGV2ZW50ICkgew0KCQl2YXIgYnV0dG9uID0gZXZlbnQuYnV0dG9uOw0K
DQoJCS8vIEFkZCB3aGljaCBmb3Iga2V5IGV2ZW50cw0KCQlpZiAoIGV2ZW50LndoaWNoID09IG51
bGwgJiYgcmtleUV2ZW50LnRlc3QoIGV2ZW50LnR5cGUgKSApIHsNCgkJCXJldHVybiBldmVudC5j
aGFyQ29kZSAhPSBudWxsID8gZXZlbnQuY2hhckNvZGUgOiBldmVudC5rZXlDb2RlOw0KCQl9DQoN
CgkJLy8gQWRkIHdoaWNoIGZvciBjbGljazogMSA9PT0gbGVmdDsgMiA9PT0gbWlkZGxlOyAzID09
PSByaWdodA0KCQlpZiAoICFldmVudC53aGljaCAmJiBidXR0b24gIT09IHVuZGVmaW5lZCAmJiBy
bW91c2VFdmVudC50ZXN0KCBldmVudC50eXBlICkgKSB7DQoJCQlpZiAoIGJ1dHRvbiAmIDEgKSB7
DQoJCQkJcmV0dXJuIDE7DQoJCQl9DQoNCgkJCWlmICggYnV0dG9uICYgMiApIHsNCgkJCQlyZXR1
cm4gMzsNCgkJCX0NCg0KCQkJaWYgKCBidXR0b24gJiA0ICkgew0KCQkJCXJldHVybiAyOw0KCQkJ
fQ0KDQoJCQlyZXR1cm4gMDsNCgkJfQ0KDQoJCXJldHVybiBldmVudC53aGljaDsNCgl9DQp9LCBq
UXVlcnkuZXZlbnQuYWRkUHJvcCApOw0KDQovLyBDcmVhdGUgbW91c2VlbnRlci9sZWF2ZSBldmVu
dHMgdXNpbmcgbW91c2VvdmVyL291dCBhbmQgZXZlbnQtdGltZSBjaGVja3MNCi8vIHNvIHRoYXQg
ZXZlbnQgZGVsZWdhdGlvbiB3b3JrcyBpbiBqUXVlcnkuDQovLyBEbyB0aGUgc2FtZSBmb3IgcG9p
bnRlcmVudGVyL3BvaW50ZXJsZWF2ZSBhbmQgcG9pbnRlcm92ZXIvcG9pbnRlcm91dA0KLy8NCi8v
IFN1cHBvcnQ6IFNhZmFyaSA3IG9ubHkNCi8vIFNhZmFyaSBzZW5kcyBtb3VzZWVudGVyIHRvbyBv
ZnRlbjsgc2VlOg0KLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vl
cy9kZXRhaWw/aWQ9NDcwMjU4DQovLyBmb3IgdGhlIGRlc2NyaXB0aW9uIG9mIHRoZSBidWcgKGl0
IGV4aXN0ZWQgaW4gb2xkZXIgQ2hyb21lIHZlcnNpb25zIGFzIHdlbGwpLg0KalF1ZXJ5LmVhY2go
IHsNCgltb3VzZWVudGVyOiAibW91c2VvdmVyIiwNCgltb3VzZWxlYXZlOiAibW91c2VvdXQiLA0K
CXBvaW50ZXJlbnRlcjogInBvaW50ZXJvdmVyIiwNCglwb2ludGVybGVhdmU6ICJwb2ludGVyb3V0
Ig0KfSwgZnVuY3Rpb24oIG9yaWcsIGZpeCApIHsNCglqUXVlcnkuZXZlbnQuc3BlY2lhbFsgb3Jp
ZyBdID0gew0KCQlkZWxlZ2F0ZVR5cGU6IGZpeCwNCgkJYmluZFR5cGU6IGZpeCwNCg0KCQloYW5k
bGU6IGZ1bmN0aW9uKCBldmVudCApIHsNCgkJCXZhciByZXQsDQoJCQkJdGFyZ2V0ID0gdGhpcywN
CgkJCQlyZWxhdGVkID0gZXZlbnQucmVsYXRlZFRhcmdldCwNCgkJCQloYW5kbGVPYmogPSBldmVu
dC5oYW5kbGVPYmo7DQoNCgkJCS8vIEZvciBtb3VzZWVudGVyL2xlYXZlIGNhbGwgdGhlIGhhbmRs
ZXIgaWYgcmVsYXRlZCBpcyBvdXRzaWRlIHRoZSB0YXJnZXQuDQoJCQkvLyBOQjogTm8gcmVsYXRl
ZFRhcmdldCBpZiB0aGUgbW91c2UgbGVmdC9lbnRlcmVkIHRoZSBicm93c2VyIHdpbmRvdw0KCQkJ
aWYgKCAhcmVsYXRlZCB8fCAoIHJlbGF0ZWQgIT09IHRhcmdldCAmJiAhalF1ZXJ5LmNvbnRhaW5z
KCB0YXJnZXQsIHJlbGF0ZWQgKSApICkgew0KCQkJCWV2ZW50LnR5cGUgPSBoYW5kbGVPYmoub3Jp
Z1R5cGU7DQoJCQkJcmV0ID0gaGFuZGxlT2JqLmhhbmRsZXIuYXBwbHkoIHRoaXMsIGFyZ3VtZW50
cyApOw0KCQkJCWV2ZW50LnR5cGUgPSBmaXg7DQoJCQl9DQoJCQlyZXR1cm4gcmV0Ow0KCQl9DQoJ
fTsNCn0gKTsNCg0KalF1ZXJ5LmZuLmV4dGVuZCggew0KDQoJb246IGZ1bmN0aW9uKCB0eXBlcywg
c2VsZWN0b3IsIGRhdGEsIGZuICkgew0KCQlyZXR1cm4gb24oIHRoaXMsIHR5cGVzLCBzZWxlY3Rv
ciwgZGF0YSwgZm4gKTsNCgl9LA0KCW9uZTogZnVuY3Rpb24oIHR5cGVzLCBzZWxlY3RvciwgZGF0
YSwgZm4gKSB7DQoJCXJldHVybiBvbiggdGhpcywgdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiwg
MSApOw0KCX0sDQoJb2ZmOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBmbiApIHsNCgkJdmFy
IGhhbmRsZU9iaiwgdHlwZTsNCgkJaWYgKCB0eXBlcyAmJiB0eXBlcy5wcmV2ZW50RGVmYXVsdCAm
JiB0eXBlcy5oYW5kbGVPYmogKSB7DQoNCgkJCS8vICggZXZlbnQgKSAgZGlzcGF0Y2hlZCBqUXVl
cnkuRXZlbnQNCgkJCWhhbmRsZU9iaiA9IHR5cGVzLmhhbmRsZU9iajsNCgkJCWpRdWVyeSggdHlw
ZXMuZGVsZWdhdGVUYXJnZXQgKS5vZmYoDQoJCQkJaGFuZGxlT2JqLm5hbWVzcGFjZSA/DQoJCQkJ
CWhhbmRsZU9iai5vcmlnVHlwZSArICIuIiArIGhhbmRsZU9iai5uYW1lc3BhY2UgOg0KCQkJCQlo
YW5kbGVPYmoub3JpZ1R5cGUsDQoJCQkJaGFuZGxlT2JqLnNlbGVjdG9yLA0KCQkJCWhhbmRsZU9i
ai5oYW5kbGVyDQoJCQkpOw0KCQkJcmV0dXJuIHRoaXM7DQoJCX0NCgkJaWYgKCB0eXBlb2YgdHlw
ZXMgPT09ICJvYmplY3QiICkgew0KDQoJCQkvLyAoIHR5cGVzLW9iamVjdCBbLCBzZWxlY3Rvcl0g
KQ0KCQkJZm9yICggdHlwZSBpbiB0eXBlcyApIHsNCgkJCQl0aGlzLm9mZiggdHlwZSwgc2VsZWN0
b3IsIHR5cGVzWyB0eXBlIF0gKTsNCgkJCX0NCgkJCXJldHVybiB0aGlzOw0KCQl9DQoJCWlmICgg
c2VsZWN0b3IgPT09IGZhbHNlIHx8IHR5cGVvZiBzZWxlY3RvciA9PT0gImZ1bmN0aW9uIiApIHsN
Cg0KCQkJLy8gKCB0eXBlcyBbLCBmbl0gKQ0KCQkJZm4gPSBzZWxlY3RvcjsNCgkJCXNlbGVjdG9y
ID0gdW5kZWZpbmVkOw0KCQl9DQoJCWlmICggZm4gPT09IGZhbHNlICkgew0KCQkJZm4gPSByZXR1
cm5GYWxzZTsNCgkJfQ0KCQlyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHsNCgkJCWpRdWVy
eS5ldmVudC5yZW1vdmUoIHRoaXMsIHR5cGVzLCBmbiwgc2VsZWN0b3IgKTsNCgkJfSApOw0KCX0N
Cn0gKTsNCg0KDQp2YXINCg0KCS8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi8NCg0KCS8vIFNl
ZSBodHRwczovL2dpdGh1Yi5jb20vZXNsaW50L2VzbGludC9pc3N1ZXMvMzIyOQ0KCXJ4aHRtbFRh
ZyA9IC88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSko
KFthLXpdW15cL1wwPlx4MjBcdFxyXG5cZl0qKVtePl0qKVwvPi9naSwNCg0KCS8qIGVzbGludC1l
bmFibGUgKi8NCg0KCS8vIFN1cHBvcnQ6IElFIDw9MTAgLSAxMSwgRWRnZSAxMiAtIDEzDQoJLy8g
SW4gSUUvRWRnZSB1c2luZyByZWdleCBncm91cHMgaGVyZSBjYXVzZXMgc2V2ZXJlIHNsb3dkb3du
cy4NCgkvLyBTZWUgaHR0cHM6Ly9jb25uZWN0Lm1pY3Jvc29mdC5jb20vSUUvZmVlZGJhY2svZGV0
YWlscy8xNzM2NTEyLw0KCXJub0lubmVyaHRtbCA9IC88c2NyaXB0fDxzdHlsZXw8bGluay9pLA0K
DQoJLy8gY2hlY2tlZD0iY2hlY2tlZCIgb3IgY2hlY2tlZA0KCXJjaGVja2VkID0gL2NoZWNrZWRc
cyooPzpbXj1dfD1ccyouY2hlY2tlZC4pL2ksDQoJcnNjcmlwdFR5cGVNYXNrZWQgPSAvXnRydWVc
LyguKikvLA0KCXJjbGVhblNjcmlwdCA9IC9eXHMqPCEoPzpcW0NEQVRBXFt8LS0pfCg/OlxdXF18
LS0pPlxzKiQvZzsNCg0KLy8gUHJlZmVyIGEgdGJvZHkgb3ZlciBpdHMgcGFyZW50IHRhYmxlIGZv
ciBjb250YWluaW5nIG5ldyByb3dzDQpmdW5jdGlvbiBtYW5pcHVsYXRpb25UYXJnZXQoIGVsZW0s
IGNvbnRlbnQgKSB7DQoJaWYgKCBub2RlTmFtZSggZWxlbSwgInRhYmxlIiApICYmDQoJCW5vZGVO
YW1lKCBjb250ZW50Lm5vZGVUeXBlICE9PSAxMSA/IGNvbnRlbnQgOiBjb250ZW50LmZpcnN0Q2hp
bGQsICJ0ciIgKSApIHsNCg0KCQlyZXR1cm4galF1ZXJ5KCAiPnRib2R5IiwgZWxlbSApWyAwIF0g
fHwgZWxlbTsNCgl9DQoNCglyZXR1cm4gZWxlbTsNCn0NCg0KLy8gUmVwbGFjZS9yZXN0b3JlIHRo
ZSB0eXBlIGF0dHJpYnV0ZSBvZiBzY3JpcHQgZWxlbWVudHMgZm9yIHNhZmUgRE9NIG1hbmlwdWxh
dGlvbg0KZnVuY3Rpb24gZGlzYWJsZVNjcmlwdCggZWxlbSApIHsNCgllbGVtLnR5cGUgPSAoIGVs
ZW0uZ2V0QXR0cmlidXRlKCAidHlwZSIgKSAhPT0gbnVsbCApICsgIi8iICsgZWxlbS50eXBlOw0K
CXJldHVybiBlbGVtOw0KfQ0KZnVuY3Rpb24gcmVzdG9yZVNjcmlwdCggZWxlbSApIHsNCgl2YXIg
bWF0Y2ggPSByc2NyaXB0VHlwZU1hc2tlZC5leGVjKCBlbGVtLnR5cGUgKTsNCg0KCWlmICggbWF0
Y2ggKSB7DQoJCWVsZW0udHlwZSA9IG1hdGNoWyAxIF07DQoJfSBlbHNlIHsNCgkJZWxlbS5yZW1v
dmVBdHRyaWJ1dGUoICJ0eXBlIiApOw0KCX0NCg0KCXJldHVybiBlbGVtOw0KfQ0KDQpmdW5jdGlv
biBjbG9uZUNvcHlFdmVudCggc3JjLCBkZXN0ICkgew0KCXZhciBpLCBsLCB0eXBlLCBwZGF0YU9s
ZCwgcGRhdGFDdXIsIHVkYXRhT2xkLCB1ZGF0YUN1ciwgZXZlbnRzOw0KDQoJaWYgKCBkZXN0Lm5v
ZGVUeXBlICE9PSAxICkgew0KCQlyZXR1cm47DQoJfQ0KDQoJLy8gMS4gQ29weSBwcml2YXRlIGRh
dGE6IGV2ZW50cywgaGFuZGxlcnMsIGV0Yy4NCglpZiAoIGRhdGFQcml2Lmhhc0RhdGEoIHNyYyAp
ICkgew0KCQlwZGF0YU9sZCA9IGRhdGFQcml2LmFjY2Vzcyggc3JjICk7DQoJCXBkYXRhQ3VyID0g
ZGF0YVByaXYuc2V0KCBkZXN0LCBwZGF0YU9sZCApOw0KCQlldmVudHMgPSBwZGF0YU9sZC5ldmVu
dHM7DQoNCgkJaWYgKCBldmVudHMgKSB7DQoJCQlkZWxldGUgcGRhdGFDdXIuaGFuZGxlOw0KCQkJ
cGRhdGFDdXIuZXZlbnRzID0ge307DQoNCgkJCWZvciAoIHR5cGUgaW4gZXZlbnRzICkgew0KCQkJ
CWZvciAoIGkgPSAwLCBsID0gZXZlbnRzWyB0eXBlIF0ubGVuZ3RoOyBpIDwgbDsgaSsrICkgew0K
CQkJCQlqUXVlcnkuZXZlbnQuYWRkKCBkZXN0LCB0eXBlLCBldmVudHNbIHR5cGUgXVsgaSBdICk7
DQoJCQkJfQ0KCQkJfQ0KCQl9DQoJfQ0KDQoJLy8gMi4gQ29weSB1c2VyIGRhdGENCglpZiAoIGRh
dGFVc2VyLmhhc0RhdGEoIHNyYyApICkgew0KCQl1ZGF0YU9sZCA9IGRhdGFVc2VyLmFjY2Vzcygg
c3JjICk7DQoJCXVkYXRhQ3VyID0galF1ZXJ5LmV4dGVuZCgge30sIHVkYXRhT2xkICk7DQoNCgkJ
ZGF0YVVzZXIuc2V0KCBkZXN0LCB1ZGF0YUN1ciApOw0KCX0NCn0NCg0KLy8gRml4IElFIGJ1Z3Ms
IHNlZSBzdXBwb3J0IHRlc3RzDQpmdW5jdGlvbiBmaXhJbnB1dCggc3JjLCBkZXN0ICkgew0KCXZh
ciBub2RlTmFtZSA9IGRlc3Qubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsNCg0KCS8vIEZhaWxzIHRv
IHBlcnNpc3QgdGhlIGNoZWNrZWQgc3RhdGUgb2YgYSBjbG9uZWQgY2hlY2tib3ggb3IgcmFkaW8g
YnV0dG9uLg0KCWlmICggbm9kZU5hbWUgPT09ICJpbnB1dCIgJiYgcmNoZWNrYWJsZVR5cGUudGVz
dCggc3JjLnR5cGUgKSApIHsNCgkJZGVzdC5jaGVja2VkID0gc3JjLmNoZWNrZWQ7DQoNCgkvLyBG
YWlscyB0byByZXR1cm4gdGhlIHNlbGVjdGVkIG9wdGlvbiB0byB0aGUgZGVmYXVsdCBzZWxlY3Rl
ZCBzdGF0ZSB3aGVuIGNsb25pbmcgb3B0aW9ucw0KCX0gZWxzZSBpZiAoIG5vZGVOYW1lID09PSAi
aW5wdXQiIHx8IG5vZGVOYW1lID09PSAidGV4dGFyZWEiICkgew0KCQlkZXN0LmRlZmF1bHRWYWx1
ZSA9IHNyYy5kZWZhdWx0VmFsdWU7DQoJfQ0KfQ0KDQpmdW5jdGlvbiBkb21NYW5pcCggY29sbGVj
dGlvbiwgYXJncywgY2FsbGJhY2ssIGlnbm9yZWQgKSB7DQoNCgkvLyBGbGF0dGVuIGFueSBuZXN0
ZWQgYXJyYXlzDQoJYXJncyA9IGNvbmNhdC5hcHBseSggW10sIGFyZ3MgKTsNCg0KCXZhciBmcmFn
bWVudCwgZmlyc3QsIHNjcmlwdHMsIGhhc1NjcmlwdHMsIG5vZGUsIGRvYywNCgkJaSA9IDAsDQoJ
CWwgPSBjb2xsZWN0aW9uLmxlbmd0aCwNCgkJaU5vQ2xvbmUgPSBsIC0gMSwNCgkJdmFsdWUgPSBh
cmdzWyAwIF0sDQoJCWlzRnVuY3Rpb24gPSBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKTsNCg0K
CS8vIFdlIGNhbid0IGNsb25lTm9kZSBmcmFnbWVudHMgdGhhdCBjb250YWluIGNoZWNrZWQsIGlu
IFdlYktpdA0KCWlmICggaXNGdW5jdGlvbiB8fA0KCQkJKCBsID4gMSAmJiB0eXBlb2YgdmFsdWUg
PT09ICJzdHJpbmciICYmDQoJCQkJIXN1cHBvcnQuY2hlY2tDbG9uZSAmJiByY2hlY2tlZC50ZXN0
KCB2YWx1ZSApICkgKSB7DQoJCXJldHVybiBjb2xsZWN0aW9uLmVhY2goIGZ1bmN0aW9uKCBpbmRl
eCApIHsNCgkJCXZhciBzZWxmID0gY29sbGVjdGlvbi5lcSggaW5kZXggKTsNCgkJCWlmICggaXNG
dW5jdGlvbiApIHsNCgkJCQlhcmdzWyAwIF0gPSB2YWx1ZS5jYWxsKCB0aGlzLCBpbmRleCwgc2Vs
Zi5odG1sKCkgKTsNCgkJCX0NCgkJCWRvbU1hbmlwKCBzZWxmLCBhcmdzLCBjYWxsYmFjaywgaWdu
b3JlZCApOw0KCQl9ICk7DQoJfQ0KDQoJaWYgKCBsICkgew0KCQlmcmFnbWVudCA9IGJ1aWxkRnJh
Z21lbnQoIGFyZ3MsIGNvbGxlY3Rpb25bIDAgXS5vd25lckRvY3VtZW50LCBmYWxzZSwgY29sbGVj
dGlvbiwgaWdub3JlZCApOw0KCQlmaXJzdCA9IGZyYWdtZW50LmZpcnN0Q2hpbGQ7DQoNCgkJaWYg
KCBmcmFnbWVudC5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMSApIHsNCgkJCWZyYWdtZW50ID0gZmly
c3Q7DQoJCX0NCg0KCQkvLyBSZXF1aXJlIGVpdGhlciBuZXcgY29udGVudCBvciBhbiBpbnRlcmVz
dCBpbiBpZ25vcmVkIGVsZW1lbnRzIHRvIGludm9rZSB0aGUgY2FsbGJhY2sNCgkJaWYgKCBmaXJz
dCB8fCBpZ25vcmVkICkgew0KCQkJc2NyaXB0cyA9IGpRdWVyeS5tYXAoIGdldEFsbCggZnJhZ21l
bnQsICJzY3JpcHQiICksIGRpc2FibGVTY3JpcHQgKTsNCgkJCWhhc1NjcmlwdHMgPSBzY3JpcHRz
Lmxlbmd0aDsNCg0KCQkJLy8gVXNlIHRoZSBvcmlnaW5hbCBmcmFnbWVudCBmb3IgdGhlIGxhc3Qg
aXRlbQ0KCQkJLy8gaW5zdGVhZCBvZiB0aGUgZmlyc3QgYmVjYXVzZSBpdCBjYW4gZW5kIHVwDQoJ
CQkvLyBiZWluZyBlbXB0aWVkIGluY29ycmVjdGx5IGluIGNlcnRhaW4gc2l0dWF0aW9ucyAoIzgw
NzApLg0KCQkJZm9yICggOyBpIDwgbDsgaSsrICkgew0KCQkJCW5vZGUgPSBmcmFnbWVudDsNCg0K
CQkJCWlmICggaSAhPT0gaU5vQ2xvbmUgKSB7DQoJCQkJCW5vZGUgPSBqUXVlcnkuY2xvbmUoIG5v
ZGUsIHRydWUsIHRydWUgKTsNCg0KCQkJCQkvLyBLZWVwIHJlZmVyZW5jZXMgdG8gY2xvbmVkIHNj
cmlwdHMgZm9yIGxhdGVyIHJlc3RvcmF0aW9uDQoJCQkJCWlmICggaGFzU2NyaXB0cyApIHsNCg0K
CQkJCQkJLy8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5DQoJ
CQkJCQkvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0
DQoJCQkJCQlqUXVlcnkubWVyZ2UoIHNjcmlwdHMsIGdldEFsbCggbm9kZSwgInNjcmlwdCIgKSAp
Ow0KCQkJCQl9DQoJCQkJfQ0KDQoJCQkJY2FsbGJhY2suY2FsbCggY29sbGVjdGlvblsgaSBdLCBu
b2RlLCBpICk7DQoJCQl9DQoNCgkJCWlmICggaGFzU2NyaXB0cyApIHsNCgkJCQlkb2MgPSBzY3Jp
cHRzWyBzY3JpcHRzLmxlbmd0aCAtIDEgXS5vd25lckRvY3VtZW50Ow0KDQoJCQkJLy8gUmVlbmFi
bGUgc2NyaXB0cw0KCQkJCWpRdWVyeS5tYXAoIHNjcmlwdHMsIHJlc3RvcmVTY3JpcHQgKTsNCg0K
CQkJCS8vIEV2YWx1YXRlIGV4ZWN1dGFibGUgc2NyaXB0cyBvbiBmaXJzdCBkb2N1bWVudCBpbnNl
cnRpb24NCgkJCQlmb3IgKCBpID0gMDsgaSA8IGhhc1NjcmlwdHM7IGkrKyApIHsNCgkJCQkJbm9k
ZSA9IHNjcmlwdHNbIGkgXTsNCgkJCQkJaWYgKCByc2NyaXB0VHlwZS50ZXN0KCBub2RlLnR5cGUg
fHwgIiIgKSAmJg0KCQkJCQkJIWRhdGFQcml2LmFjY2Vzcyggbm9kZSwgImdsb2JhbEV2YWwiICkg
JiYNCgkJCQkJCWpRdWVyeS5jb250YWlucyggZG9jLCBub2RlICkgKSB7DQoNCgkJCQkJCWlmICgg
bm9kZS5zcmMgKSB7DQoNCgkJCQkJCQkvLyBPcHRpb25hbCBBSkFYIGRlcGVuZGVuY3ksIGJ1dCB3
b24ndCBydW4gc2NyaXB0cyBpZiBub3QgcHJlc2VudA0KCQkJCQkJCWlmICggalF1ZXJ5Ll9ldmFs
VXJsICkgew0KCQkJCQkJCQlqUXVlcnkuX2V2YWxVcmwoIG5vZGUuc3JjICk7DQoJCQkJCQkJfQ0K
CQkJCQkJfSBlbHNlIHsNCgkJCQkJCQlET01FdmFsKCBub2RlLnRleHRDb250ZW50LnJlcGxhY2Uo
IHJjbGVhblNjcmlwdCwgIiIgKSwgZG9jICk7DQoJCQkJCQl9DQoJCQkJCX0NCgkJCQl9DQoJCQl9
DQoJCX0NCgl9DQoNCglyZXR1cm4gY29sbGVjdGlvbjsNCn0NCg0KZnVuY3Rpb24gcmVtb3ZlKCBl
bGVtLCBzZWxlY3Rvciwga2VlcERhdGEgKSB7DQoJdmFyIG5vZGUsDQoJCW5vZGVzID0gc2VsZWN0
b3IgPyBqUXVlcnkuZmlsdGVyKCBzZWxlY3RvciwgZWxlbSApIDogZWxlbSwNCgkJaSA9IDA7DQoN
Cglmb3IgKCA7ICggbm9kZSA9IG5vZGVzWyBpIF0gKSAhPSBudWxsOyBpKysgKSB7DQoJCWlmICgg
IWtlZXBEYXRhICYmIG5vZGUubm9kZVR5cGUgPT09IDEgKSB7DQoJCQlqUXVlcnkuY2xlYW5EYXRh
KCBnZXRBbGwoIG5vZGUgKSApOw0KCQl9DQoNCgkJaWYgKCBub2RlLnBhcmVudE5vZGUgKSB7DQoJ
CQlpZiAoIGtlZXBEYXRhICYmIGpRdWVyeS5jb250YWlucyggbm9kZS5vd25lckRvY3VtZW50LCBu
b2RlICkgKSB7DQoJCQkJc2V0R2xvYmFsRXZhbCggZ2V0QWxsKCBub2RlLCAic2NyaXB0IiApICk7
DQoJCQl9DQoJCQlub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIG5vZGUgKTsNCgkJfQ0KCX0N
Cg0KCXJldHVybiBlbGVtOw0KfQ0KDQpqUXVlcnkuZXh0ZW5kKCB7DQoJaHRtbFByZWZpbHRlcjog
ZnVuY3Rpb24oIGh0bWwgKSB7DQoJCXJldHVybiBodG1sLnJlcGxhY2UoIHJ4aHRtbFRhZywgIjwk
MT48LyQyPiIgKTsNCgl9LA0KDQoJY2xvbmU6IGZ1bmN0aW9uKCBlbGVtLCBkYXRhQW5kRXZlbnRz
LCBkZWVwRGF0YUFuZEV2ZW50cyApIHsNCgkJdmFyIGksIGwsIHNyY0VsZW1lbnRzLCBkZXN0RWxl
bWVudHMsDQoJCQljbG9uZSA9IGVsZW0uY2xvbmVOb2RlKCB0cnVlICksDQoJCQlpblBhZ2UgPSBq
UXVlcnkuY29udGFpbnMoIGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSApOw0KDQoJCS8vIEZpeCBJ
RSBjbG9uaW5nIGlzc3Vlcw0KCQlpZiAoICFzdXBwb3J0Lm5vQ2xvbmVDaGVja2VkICYmICggZWxl
bS5ub2RlVHlwZSA9PT0gMSB8fCBlbGVtLm5vZGVUeXBlID09PSAxMSApICYmDQoJCQkJIWpRdWVy
eS5pc1hNTERvYyggZWxlbSApICkgew0KDQoJCQkvLyBXZSBlc2NoZXcgU2l6emxlIGhlcmUgZm9y
IHBlcmZvcm1hbmNlIHJlYXNvbnM6IGh0dHBzOi8vanNwZXJmLmNvbS9nZXRhbGwtdnMtc2l6emxl
LzINCgkJCWRlc3RFbGVtZW50cyA9IGdldEFsbCggY2xvbmUgKTsNCgkJCXNyY0VsZW1lbnRzID0g
Z2V0QWxsKCBlbGVtICk7DQoNCgkJCWZvciAoIGkgPSAwLCBsID0gc3JjRWxlbWVudHMubGVuZ3Ro
OyBpIDwgbDsgaSsrICkgew0KCQkJCWZpeElucHV0KCBzcmNFbGVtZW50c1sgaSBdLCBkZXN0RWxl
bWVudHNbIGkgXSApOw0KCQkJfQ0KCQl9DQoNCgkJLy8gQ29weSB0aGUgZXZlbnRzIGZyb20gdGhl
IG9yaWdpbmFsIHRvIHRoZSBjbG9uZQ0KCQlpZiAoIGRhdGFBbmRFdmVudHMgKSB7DQoJCQlpZiAo
IGRlZXBEYXRhQW5kRXZlbnRzICkgew0KCQkJCXNyY0VsZW1lbnRzID0gc3JjRWxlbWVudHMgfHwg
Z2V0QWxsKCBlbGVtICk7DQoJCQkJZGVzdEVsZW1lbnRzID0gZGVzdEVsZW1lbnRzIHx8IGdldEFs
bCggY2xvbmUgKTsNCg0KCQkJCWZvciAoIGkgPSAwLCBsID0gc3JjRWxlbWVudHMubGVuZ3RoOyBp
IDwgbDsgaSsrICkgew0KCQkJCQljbG9uZUNvcHlFdmVudCggc3JjRWxlbWVudHNbIGkgXSwgZGVz
dEVsZW1lbnRzWyBpIF0gKTsNCgkJCQl9DQoJCQl9IGVsc2Ugew0KCQkJCWNsb25lQ29weUV2ZW50
KCBlbGVtLCBjbG9uZSApOw0KCQkJfQ0KCQl9DQoNCgkJLy8gUHJlc2VydmUgc2NyaXB0IGV2YWx1
YXRpb24gaGlzdG9yeQ0KCQlkZXN0RWxlbWVudHMgPSBnZXRBbGwoIGNsb25lLCAic2NyaXB0IiAp
Ow0KCQlpZiAoIGRlc3RFbGVtZW50cy5sZW5ndGggPiAwICkgew0KCQkJc2V0R2xvYmFsRXZhbCgg
ZGVzdEVsZW1lbnRzLCAhaW5QYWdlICYmIGdldEFsbCggZWxlbSwgInNjcmlwdCIgKSApOw0KCQl9
DQoNCgkJLy8gUmV0dXJuIHRoZSBjbG9uZWQgc2V0DQoJCXJldHVybiBjbG9uZTsNCgl9LA0KDQoJ
Y2xlYW5EYXRhOiBmdW5jdGlvbiggZWxlbXMgKSB7DQoJCXZhciBkYXRhLCBlbGVtLCB0eXBlLA0K
CQkJc3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsLA0KCQkJaSA9IDA7DQoNCgkJZm9yICgg
OyAoIGVsZW0gPSBlbGVtc1sgaSBdICkgIT09IHVuZGVmaW5lZDsgaSsrICkgew0KCQkJaWYgKCBh
Y2NlcHREYXRhKCBlbGVtICkgKSB7DQoJCQkJaWYgKCAoIGRhdGEgPSBlbGVtWyBkYXRhUHJpdi5l
eHBhbmRvIF0gKSApIHsNCgkJCQkJaWYgKCBkYXRhLmV2ZW50cyApIHsNCgkJCQkJCWZvciAoIHR5
cGUgaW4gZGF0YS5ldmVudHMgKSB7DQoJCQkJCQkJaWYgKCBzcGVjaWFsWyB0eXBlIF0gKSB7DQoJ
CQkJCQkJCWpRdWVyeS5ldmVudC5yZW1vdmUoIGVsZW0sIHR5cGUgKTsNCg0KCQkJCQkJCS8vIFRo
aXMgaXMgYSBzaG9ydGN1dCB0byBhdm9pZCBqUXVlcnkuZXZlbnQucmVtb3ZlJ3Mgb3ZlcmhlYWQN
CgkJCQkJCQl9IGVsc2Ugew0KCQkJCQkJCQlqUXVlcnkucmVtb3ZlRXZlbnQoIGVsZW0sIHR5cGUs
IGRhdGEuaGFuZGxlICk7DQoJCQkJCQkJfQ0KCQkJCQkJfQ0KCQkJCQl9DQoNCgkJCQkJLy8gU3Vw
cG9ydDogQ2hyb21lIDw9MzUgLSA0NSsNCgkJCQkJLy8gQXNzaWduIHVuZGVmaW5lZCBpbnN0ZWFk
IG9mIHVzaW5nIGRlbGV0ZSwgc2VlIERhdGEjcmVtb3ZlDQoJCQkJCWVsZW1bIGRhdGFQcml2LmV4
cGFuZG8gXSA9IHVuZGVmaW5lZDsNCgkJCQl9DQoJCQkJaWYgKCBlbGVtWyBkYXRhVXNlci5leHBh
bmRvIF0gKSB7DQoNCgkJCQkJLy8gU3VwcG9ydDogQ2hyb21lIDw9MzUgLSA0NSsNCgkJCQkJLy8g
QXNzaWduIHVuZGVmaW5lZCBpbnN0ZWFkIG9mIHVzaW5nIGRlbGV0ZSwgc2VlIERhdGEjcmVtb3Zl
DQoJCQkJCWVsZW1bIGRhdGFVc2VyLmV4cGFuZG8gXSA9IHVuZGVmaW5lZDsNCgkJCQl9DQoJCQl9
DQoJCX0NCgl9DQp9ICk7DQoNCmpRdWVyeS5mbi5leHRlbmQoIHsNCglkZXRhY2g6IGZ1bmN0aW9u
KCBzZWxlY3RvciApIHsNCgkJcmV0dXJuIHJlbW92ZSggdGhpcywgc2VsZWN0b3IsIHRydWUgKTsN
Cgl9LA0KDQoJcmVtb3ZlOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7DQoJCXJldHVybiByZW1vdmUo
IHRoaXMsIHNlbGVjdG9yICk7DQoJfSwNCg0KCXRleHQ6IGZ1bmN0aW9uKCB2YWx1ZSApIHsNCgkJ
cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIHZhbHVlICkgew0KCQkJcmV0dXJuIHZhbHVl
ID09PSB1bmRlZmluZWQgPw0KCQkJCWpRdWVyeS50ZXh0KCB0aGlzICkgOg0KCQkJCXRoaXMuZW1w
dHkoKS5lYWNoKCBmdW5jdGlvbigpIHsNCgkJCQkJaWYgKCB0aGlzLm5vZGVUeXBlID09PSAxIHx8
IHRoaXMubm9kZVR5cGUgPT09IDExIHx8IHRoaXMubm9kZVR5cGUgPT09IDkgKSB7DQoJCQkJCQl0
aGlzLnRleHRDb250ZW50ID0gdmFsdWU7DQoJCQkJCX0NCgkJCQl9ICk7DQoJCX0sIG51bGwsIHZh
bHVlLCBhcmd1bWVudHMubGVuZ3RoICk7DQoJfSwNCg0KCWFwcGVuZDogZnVuY3Rpb24oKSB7DQoJ
CXJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHsNCgkJ
CWlmICggdGhpcy5ub2RlVHlwZSA9PT0gMSB8fCB0aGlzLm5vZGVUeXBlID09PSAxMSB8fCB0aGlz
Lm5vZGVUeXBlID09PSA5ICkgew0KCQkJCXZhciB0YXJnZXQgPSBtYW5pcHVsYXRpb25UYXJnZXQo
IHRoaXMsIGVsZW0gKTsNCgkJCQl0YXJnZXQuYXBwZW5kQ2hpbGQoIGVsZW0gKTsNCgkJCX0NCgkJ
fSApOw0KCX0sDQoNCglwcmVwZW5kOiBmdW5jdGlvbigpIHsNCgkJcmV0dXJuIGRvbU1hbmlwKCB0
aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkgew0KCQkJaWYgKCB0aGlzLm5vZGVUeXBl
ID09PSAxIHx8IHRoaXMubm9kZVR5cGUgPT09IDExIHx8IHRoaXMubm9kZVR5cGUgPT09IDkgKSB7
DQoJCQkJdmFyIHRhcmdldCA9IG1hbmlwdWxhdGlvblRhcmdldCggdGhpcywgZWxlbSApOw0KCQkJ
CXRhcmdldC5pbnNlcnRCZWZvcmUoIGVsZW0sIHRhcmdldC5maXJzdENoaWxkICk7DQoJCQl9DQoJ
CX0gKTsNCgl9LA0KDQoJYmVmb3JlOiBmdW5jdGlvbigpIHsNCgkJcmV0dXJuIGRvbU1hbmlwKCB0
aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkgew0KCQkJaWYgKCB0aGlzLnBhcmVudE5v
ZGUgKSB7DQoJCQkJdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSggZWxlbSwgdGhpcyApOw0K
CQkJfQ0KCQl9ICk7DQoJfSwNCg0KCWFmdGVyOiBmdW5jdGlvbigpIHsNCgkJcmV0dXJuIGRvbU1h
bmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkgew0KCQkJaWYgKCB0aGlzLnBh
cmVudE5vZGUgKSB7DQoJCQkJdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSggZWxlbSwgdGhp
cy5uZXh0U2libGluZyApOw0KCQkJfQ0KCQl9ICk7DQoJfSwNCg0KCWVtcHR5OiBmdW5jdGlvbigp
IHsNCgkJdmFyIGVsZW0sDQoJCQlpID0gMDsNCg0KCQlmb3IgKCA7ICggZWxlbSA9IHRoaXNbIGkg
XSApICE9IG51bGw7IGkrKyApIHsNCgkJCWlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHsNCg0K
CQkJCS8vIFByZXZlbnQgbWVtb3J5IGxlYWtzDQoJCQkJalF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxs
KCBlbGVtLCBmYWxzZSApICk7DQoNCgkJCQkvLyBSZW1vdmUgYW55IHJlbWFpbmluZyBub2Rlcw0K
CQkJCWVsZW0udGV4dENvbnRlbnQgPSAiIjsNCgkJCX0NCgkJfQ0KDQoJCXJldHVybiB0aGlzOw0K
CX0sDQoNCgljbG9uZTogZnVuY3Rpb24oIGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRz
ICkgew0KCQlkYXRhQW5kRXZlbnRzID0gZGF0YUFuZEV2ZW50cyA9PSBudWxsID8gZmFsc2UgOiBk
YXRhQW5kRXZlbnRzOw0KCQlkZWVwRGF0YUFuZEV2ZW50cyA9IGRlZXBEYXRhQW5kRXZlbnRzID09
IG51bGwgPyBkYXRhQW5kRXZlbnRzIDogZGVlcERhdGFBbmRFdmVudHM7DQoNCgkJcmV0dXJuIHRo
aXMubWFwKCBmdW5jdGlvbigpIHsNCgkJCXJldHVybiBqUXVlcnkuY2xvbmUoIHRoaXMsIGRhdGFB
bmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzICk7DQoJCX0gKTsNCgl9LA0KDQoJaHRtbDogZnVu
Y3Rpb24oIHZhbHVlICkgew0KCQlyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggdmFsdWUg
KSB7DQoJCQl2YXIgZWxlbSA9IHRoaXNbIDAgXSB8fCB7fSwNCgkJCQlpID0gMCwNCgkJCQlsID0g
dGhpcy5sZW5ndGg7DQoNCgkJCWlmICggdmFsdWUgPT09IHVuZGVmaW5lZCAmJiBlbGVtLm5vZGVU
eXBlID09PSAxICkgew0KCQkJCXJldHVybiBlbGVtLmlubmVySFRNTDsNCgkJCX0NCg0KCQkJLy8g
U2VlIGlmIHdlIGNhbiB0YWtlIGEgc2hvcnRjdXQgYW5kIGp1c3QgdXNlIGlubmVySFRNTA0KCQkJ
aWYgKCB0eXBlb2YgdmFsdWUgPT09ICJzdHJpbmciICYmICFybm9Jbm5lcmh0bWwudGVzdCggdmFs
dWUgKSAmJg0KCQkJCSF3cmFwTWFwWyAoIHJ0YWdOYW1lLmV4ZWMoIHZhbHVlICkgfHwgWyAiIiwg
IiIgXSApWyAxIF0udG9Mb3dlckNhc2UoKSBdICkgew0KDQoJCQkJdmFsdWUgPSBqUXVlcnkuaHRt
bFByZWZpbHRlciggdmFsdWUgKTsNCg0KCQkJCXRyeSB7DQoJCQkJCWZvciAoIDsgaSA8IGw7IGkr
KyApIHsNCgkJCQkJCWVsZW0gPSB0aGlzWyBpIF0gfHwge307DQoNCgkJCQkJCS8vIFJlbW92ZSBl
bGVtZW50IG5vZGVzIGFuZCBwcmV2ZW50IG1lbW9yeSBsZWFrcw0KCQkJCQkJaWYgKCBlbGVtLm5v
ZGVUeXBlID09PSAxICkgew0KCQkJCQkJCWpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggZWxlbSwg
ZmFsc2UgKSApOw0KCQkJCQkJCWVsZW0uaW5uZXJIVE1MID0gdmFsdWU7DQoJCQkJCQl9DQoJCQkJ
CX0NCg0KCQkJCQllbGVtID0gMDsNCg0KCQkJCS8vIElmIHVzaW5nIGlubmVySFRNTCB0aHJvd3Mg
YW4gZXhjZXB0aW9uLCB1c2UgdGhlIGZhbGxiYWNrIG1ldGhvZA0KCQkJCX0gY2F0Y2ggKCBlICkg
e30NCgkJCX0NCg0KCQkJaWYgKCBlbGVtICkgew0KCQkJCXRoaXMuZW1wdHkoKS5hcHBlbmQoIHZh
bHVlICk7DQoJCQl9DQoJCX0sIG51bGwsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoICk7DQoJfSwN
Cg0KCXJlcGxhY2VXaXRoOiBmdW5jdGlvbigpIHsNCgkJdmFyIGlnbm9yZWQgPSBbXTsNCg0KCQkv
LyBNYWtlIHRoZSBjaGFuZ2VzLCByZXBsYWNpbmcgZWFjaCBub24taWdub3JlZCBjb250ZXh0IGVs
ZW1lbnQgd2l0aCB0aGUgbmV3IGNvbnRlbnQNCgkJcmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1
bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkgew0KCQkJdmFyIHBhcmVudCA9IHRoaXMucGFyZW50Tm9k
ZTsNCg0KCQkJaWYgKCBqUXVlcnkuaW5BcnJheSggdGhpcywgaWdub3JlZCApIDwgMCApIHsNCgkJ
CQlqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIHRoaXMgKSApOw0KCQkJCWlmICggcGFyZW50ICkg
ew0KCQkJCQlwYXJlbnQucmVwbGFjZUNoaWxkKCBlbGVtLCB0aGlzICk7DQoJCQkJfQ0KCQkJfQ0K
DQoJCS8vIEZvcmNlIGNhbGxiYWNrIGludm9jYXRpb24NCgkJfSwgaWdub3JlZCApOw0KCX0NCn0g
KTsNCg0KalF1ZXJ5LmVhY2goIHsNCglhcHBlbmRUbzogImFwcGVuZCIsDQoJcHJlcGVuZFRvOiAi
cHJlcGVuZCIsDQoJaW5zZXJ0QmVmb3JlOiAiYmVmb3JlIiwNCglpbnNlcnRBZnRlcjogImFmdGVy
IiwNCglyZXBsYWNlQWxsOiAicmVwbGFjZVdpdGgiDQp9LCBmdW5jdGlvbiggbmFtZSwgb3JpZ2lu
YWwgKSB7DQoJalF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggc2VsZWN0b3IgKSB7DQoJCXZh
ciBlbGVtcywNCgkJCXJldCA9IFtdLA0KCQkJaW5zZXJ0ID0galF1ZXJ5KCBzZWxlY3RvciApLA0K
CQkJbGFzdCA9IGluc2VydC5sZW5ndGggLSAxLA0KCQkJaSA9IDA7DQoNCgkJZm9yICggOyBpIDw9
IGxhc3Q7IGkrKyApIHsNCgkJCWVsZW1zID0gaSA9PT0gbGFzdCA/IHRoaXMgOiB0aGlzLmNsb25l
KCB0cnVlICk7DQoJCQlqUXVlcnkoIGluc2VydFsgaSBdIClbIG9yaWdpbmFsIF0oIGVsZW1zICk7
DQoNCgkJCS8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seQ0K
CQkJLy8gLmdldCgpIGJlY2F1c2UgcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBh
bmNpZW50IFdlYktpdA0KCQkJcHVzaC5hcHBseSggcmV0LCBlbGVtcy5nZXQoKSApOw0KCQl9DQoN
CgkJcmV0dXJuIHRoaXMucHVzaFN0YWNrKCByZXQgKTsNCgl9Ow0KfSApOw0KdmFyIHJtYXJnaW4g
PSAoIC9ebWFyZ2luLyApOw0KDQp2YXIgcm51bW5vbnB4ID0gbmV3IFJlZ0V4cCggIl4oIiArIHBu
dW0gKyAiKSg/IXB4KVthLXolXSskIiwgImkiICk7DQoNCnZhciBnZXRTdHlsZXMgPSBmdW5jdGlv
biggZWxlbSApIHsNCg0KCQkvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHksIEZpcmVmb3ggPD0zMCAo
IzE1MDk4LCAjMTQxNTApDQoJCS8vIElFIHRocm93cyBvbiBlbGVtZW50cyBjcmVhdGVkIGluIHBv
cHVwcw0KCQkvLyBGRiBtZWFud2hpbGUgdGhyb3dzIG9uIGZyYW1lIGVsZW1lbnRzIHRocm91Z2gg
ImRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUiDQoJCXZhciB2aWV3ID0gZWxlbS5vd25lckRv
Y3VtZW50LmRlZmF1bHRWaWV3Ow0KDQoJCWlmICggIXZpZXcgfHwgIXZpZXcub3BlbmVyICkgew0K
CQkJdmlldyA9IHdpbmRvdzsNCgkJfQ0KDQoJCXJldHVybiB2aWV3LmdldENvbXB1dGVkU3R5bGUo
IGVsZW0gKTsNCgl9Ow0KDQoNCg0KKCBmdW5jdGlvbigpIHsNCg0KCS8vIEV4ZWN1dGluZyBib3Ro
IHBpeGVsUG9zaXRpb24gJiBib3hTaXppbmdSZWxpYWJsZSB0ZXN0cyByZXF1aXJlIG9ubHkgb25l
IGxheW91dA0KCS8vIHNvIHRoZXkncmUgZXhlY3V0ZWQgYXQgdGhlIHNhbWUgdGltZSB0byBzYXZl
IHRoZSBzZWNvbmQgY29tcHV0YXRpb24uDQoJZnVuY3Rpb24gY29tcHV0ZVN0eWxlVGVzdHMoKSB7
DQoNCgkJLy8gVGhpcyBpcyBhIHNpbmdsZXRvbiwgd2UgbmVlZCB0byBleGVjdXRlIGl0IG9ubHkg
b25jZQ0KCQlpZiAoICFkaXYgKSB7DQoJCQlyZXR1cm47DQoJCX0NCg0KCQlkaXYuc3R5bGUuY3Nz
VGV4dCA9DQoJCQkiYm94LXNpemluZzpib3JkZXItYm94OyIgKw0KCQkJInBvc2l0aW9uOnJlbGF0
aXZlO2Rpc3BsYXk6YmxvY2s7IiArDQoJCQkibWFyZ2luOmF1dG87Ym9yZGVyOjFweDtwYWRkaW5n
OjFweDsiICsNCgkJCSJ0b3A6MSU7d2lkdGg6NTAlIjsNCgkJZGl2LmlubmVySFRNTCA9ICIiOw0K
CQlkb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoIGNvbnRhaW5lciApOw0KDQoJCXZhciBkaXZT
dHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKCBkaXYgKTsNCgkJcGl4ZWxQb3NpdGlvblZh
bCA9IGRpdlN0eWxlLnRvcCAhPT0gIjElIjsNCg0KCQkvLyBTdXBwb3J0OiBBbmRyb2lkIDQuMCAt
IDQuMyBvbmx5LCBGaXJlZm94IDw9MyAtIDQ0DQoJCXJlbGlhYmxlTWFyZ2luTGVmdFZhbCA9IGRp
dlN0eWxlLm1hcmdpbkxlZnQgPT09ICIycHgiOw0KCQlib3hTaXppbmdSZWxpYWJsZVZhbCA9IGRp
dlN0eWxlLndpZHRoID09PSAiNHB4IjsNCg0KCQkvLyBTdXBwb3J0OiBBbmRyb2lkIDQuMCAtIDQu
MyBvbmx5DQoJCS8vIFNvbWUgc3R5bGVzIGNvbWUgYmFjayB3aXRoIHBlcmNlbnRhZ2UgdmFsdWVz
LCBldmVuIHRob3VnaCB0aGV5IHNob3VsZG4ndA0KCQlkaXYuc3R5bGUubWFyZ2luUmlnaHQgPSAi
NTAlIjsNCgkJcGl4ZWxNYXJnaW5SaWdodFZhbCA9IGRpdlN0eWxlLm1hcmdpblJpZ2h0ID09PSAi
NHB4IjsNCg0KCQlkb2N1bWVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoIGNvbnRhaW5lciApOw0KDQoJ
CS8vIE51bGxpZnkgdGhlIGRpdiBzbyBpdCB3b3VsZG4ndCBiZSBzdG9yZWQgaW4gdGhlIG1lbW9y
eSBhbmQNCgkJLy8gaXQgd2lsbCBhbHNvIGJlIGEgc2lnbiB0aGF0IGNoZWNrcyBhbHJlYWR5IHBl
cmZvcm1lZA0KCQlkaXYgPSBudWxsOw0KCX0NCg0KCXZhciBwaXhlbFBvc2l0aW9uVmFsLCBib3hT
aXppbmdSZWxpYWJsZVZhbCwgcGl4ZWxNYXJnaW5SaWdodFZhbCwgcmVsaWFibGVNYXJnaW5MZWZ0
VmFsLA0KCQljb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAiZGl2IiApLA0KCQlk
aXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAiZGl2IiApOw0KDQoJLy8gRmluaXNoIGVhcmx5
IGluIGxpbWl0ZWQgKG5vbi1icm93c2VyKSBlbnZpcm9ubWVudHMNCglpZiAoICFkaXYuc3R5bGUg
KSB7DQoJCXJldHVybjsNCgl9DQoNCgkvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSBvbmx5DQoJLy8g
U3R5bGUgb2YgY2xvbmVkIGVsZW1lbnQgYWZmZWN0cyBzb3VyY2UgZWxlbWVudCBjbG9uZWQgKCM4
OTA4KQ0KCWRpdi5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9ICJjb250ZW50LWJveCI7DQoJZGl2LmNs
b25lTm9kZSggdHJ1ZSApLnN0eWxlLmJhY2tncm91bmRDbGlwID0gIiI7DQoJc3VwcG9ydC5jbGVh
ckNsb25lU3R5bGUgPSBkaXYuc3R5bGUuYmFja2dyb3VuZENsaXAgPT09ICJjb250ZW50LWJveCI7
DQoNCgljb250YWluZXIuc3R5bGUuY3NzVGV4dCA9ICJib3JkZXI6MDt3aWR0aDo4cHg7aGVpZ2h0
OjA7dG9wOjA7bGVmdDotOTk5OXB4OyIgKw0KCQkicGFkZGluZzowO21hcmdpbi10b3A6MXB4O3Bv
c2l0aW9uOmFic29sdXRlIjsNCgljb250YWluZXIuYXBwZW5kQ2hpbGQoIGRpdiApOw0KDQoJalF1
ZXJ5LmV4dGVuZCggc3VwcG9ydCwgew0KCQlwaXhlbFBvc2l0aW9uOiBmdW5jdGlvbigpIHsNCgkJ
CWNvbXB1dGVTdHlsZVRlc3RzKCk7DQoJCQlyZXR1cm4gcGl4ZWxQb3NpdGlvblZhbDsNCgkJfSwN
CgkJYm94U2l6aW5nUmVsaWFibGU6IGZ1bmN0aW9uKCkgew0KCQkJY29tcHV0ZVN0eWxlVGVzdHMo
KTsNCgkJCXJldHVybiBib3hTaXppbmdSZWxpYWJsZVZhbDsNCgkJfSwNCgkJcGl4ZWxNYXJnaW5S
aWdodDogZnVuY3Rpb24oKSB7DQoJCQljb21wdXRlU3R5bGVUZXN0cygpOw0KCQkJcmV0dXJuIHBp
eGVsTWFyZ2luUmlnaHRWYWw7DQoJCX0sDQoJCXJlbGlhYmxlTWFyZ2luTGVmdDogZnVuY3Rpb24o
KSB7DQoJCQljb21wdXRlU3R5bGVUZXN0cygpOw0KCQkJcmV0dXJuIHJlbGlhYmxlTWFyZ2luTGVm
dFZhbDsNCgkJfQ0KCX0gKTsNCn0gKSgpOw0KDQoNCmZ1bmN0aW9uIGN1ckNTUyggZWxlbSwgbmFt
ZSwgY29tcHV0ZWQgKSB7DQoJdmFyIHdpZHRoLCBtaW5XaWR0aCwgbWF4V2lkdGgsIHJldCwNCg0K
CQkvLyBTdXBwb3J0OiBGaXJlZm94IDUxKw0KCQkvLyBSZXRyaWV2aW5nIHN0eWxlIGJlZm9yZSBj
b21wdXRlZCBzb21laG93DQoJCS8vIGZpeGVzIGFuIGlzc3VlIHdpdGggZ2V0dGluZyB3cm9uZyB2
YWx1ZXMNCgkJLy8gb24gZGV0YWNoZWQgZWxlbWVudHMNCgkJc3R5bGUgPSBlbGVtLnN0eWxlOw0K
DQoJY29tcHV0ZWQgPSBjb21wdXRlZCB8fCBnZXRTdHlsZXMoIGVsZW0gKTsNCg0KCS8vIGdldFBy
b3BlcnR5VmFsdWUgaXMgbmVlZGVkIGZvcjoNCgkvLyAgIC5jc3MoJ2ZpbHRlcicpIChJRSA5IG9u
bHksICMxMjUzNykNCgkvLyAgIC5jc3MoJy0tY3VzdG9tUHJvcGVydHkpICgjMzE0NCkNCglpZiAo
IGNvbXB1dGVkICkgew0KCQlyZXQgPSBjb21wdXRlZC5nZXRQcm9wZXJ0eVZhbHVlKCBuYW1lICkg
fHwgY29tcHV0ZWRbIG5hbWUgXTsNCg0KCQlpZiAoIHJldCA9PT0gIiIgJiYgIWpRdWVyeS5jb250
YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICkgKSB7DQoJCQlyZXQgPSBqUXVlcnkuc3R5
bGUoIGVsZW0sIG5hbWUgKTsNCgkJfQ0KDQoJCS8vIEEgdHJpYnV0ZSB0byB0aGUgImF3ZXNvbWUg
aGFjayBieSBEZWFuIEVkd2FyZHMiDQoJCS8vIEFuZHJvaWQgQnJvd3NlciByZXR1cm5zIHBlcmNl
bnRhZ2UgZm9yIHNvbWUgdmFsdWVzLA0KCQkvLyBidXQgd2lkdGggc2VlbXMgdG8gYmUgcmVsaWFi
bHkgcGl4ZWxzLg0KCQkvLyBUaGlzIGlzIGFnYWluc3QgdGhlIENTU09NIGRyYWZ0IHNwZWM6DQoJ
CS8vIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3NvbS8jcmVzb2x2ZWQtdmFsdWVzDQoJCWlm
ICggIXN1cHBvcnQucGl4ZWxNYXJnaW5SaWdodCgpICYmIHJudW1ub25weC50ZXN0KCByZXQgKSAm
JiBybWFyZ2luLnRlc3QoIG5hbWUgKSApIHsNCg0KCQkJLy8gUmVtZW1iZXIgdGhlIG9yaWdpbmFs
IHZhbHVlcw0KCQkJd2lkdGggPSBzdHlsZS53aWR0aDsNCgkJCW1pbldpZHRoID0gc3R5bGUubWlu
V2lkdGg7DQoJCQltYXhXaWR0aCA9IHN0eWxlLm1heFdpZHRoOw0KDQoJCQkvLyBQdXQgaW4gdGhl
IG5ldyB2YWx1ZXMgdG8gZ2V0IGEgY29tcHV0ZWQgdmFsdWUgb3V0DQoJCQlzdHlsZS5taW5XaWR0
aCA9IHN0eWxlLm1heFdpZHRoID0gc3R5bGUud2lkdGggPSByZXQ7DQoJCQlyZXQgPSBjb21wdXRl
ZC53aWR0aDsNCg0KCQkJLy8gUmV2ZXJ0IHRoZSBjaGFuZ2VkIHZhbHVlcw0KCQkJc3R5bGUud2lk
dGggPSB3aWR0aDsNCgkJCXN0eWxlLm1pbldpZHRoID0gbWluV2lkdGg7DQoJCQlzdHlsZS5tYXhX
aWR0aCA9IG1heFdpZHRoOw0KCQl9DQoJfQ0KDQoJcmV0dXJuIHJldCAhPT0gdW5kZWZpbmVkID8N
Cg0KCQkvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSBvbmx5DQoJCS8vIElFIHJldHVybnMgekluZGV4
IHZhbHVlIGFzIGFuIGludGVnZXIuDQoJCXJldCArICIiIDoNCgkJcmV0Ow0KfQ0KDQoNCmZ1bmN0
aW9uIGFkZEdldEhvb2tJZiggY29uZGl0aW9uRm4sIGhvb2tGbiApIHsNCg0KCS8vIERlZmluZSB0
aGUgaG9vaywgd2UnbGwgY2hlY2sgb24gdGhlIGZpcnN0IHJ1biBpZiBpdCdzIHJlYWxseSBuZWVk
ZWQuDQoJcmV0dXJuIHsNCgkJZ2V0OiBmdW5jdGlvbigpIHsNCgkJCWlmICggY29uZGl0aW9uRm4o
KSApIHsNCg0KCQkJCS8vIEhvb2sgbm90IG5lZWRlZCAob3IgaXQncyBub3QgcG9zc2libGUgdG8g
dXNlIGl0IGR1ZQ0KCQkJCS8vIHRvIG1pc3NpbmcgZGVwZW5kZW5jeSksIHJlbW92ZSBpdC4NCgkJ
CQlkZWxldGUgdGhpcy5nZXQ7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KDQoJCQkvLyBIb29rIG5lZWRl
ZDsgcmVkZWZpbmUgaXQgc28gdGhhdCB0aGUgc3VwcG9ydCB0ZXN0IGlzIG5vdCBleGVjdXRlZCBh
Z2Fpbi4NCgkJCXJldHVybiAoIHRoaXMuZ2V0ID0gaG9va0ZuICkuYXBwbHkoIHRoaXMsIGFyZ3Vt
ZW50cyApOw0KCQl9DQoJfTsNCn0NCg0KDQp2YXINCg0KCS8vIFN3YXBwYWJsZSBpZiBkaXNwbGF5
IGlzIG5vbmUgb3Igc3RhcnRzIHdpdGggdGFibGUNCgkvLyBleGNlcHQgInRhYmxlIiwgInRhYmxl
LWNlbGwiLCBvciAidGFibGUtY2FwdGlvbiINCgkvLyBTZWUgaGVyZSBmb3IgZGlzcGxheSB2YWx1
ZXM6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvQ1NTL2Rpc3BsYXkN
CglyZGlzcGxheXN3YXAgPSAvXihub25lfHRhYmxlKD8hLWNbZWFdKS4rKS8sDQoJcmN1c3RvbVBy
b3AgPSAvXi0tLywNCgljc3NTaG93ID0geyBwb3NpdGlvbjogImFic29sdXRlIiwgdmlzaWJpbGl0
eTogImhpZGRlbiIsIGRpc3BsYXk6ICJibG9jayIgfSwNCgljc3NOb3JtYWxUcmFuc2Zvcm0gPSB7
DQoJCWxldHRlclNwYWNpbmc6ICIwIiwNCgkJZm9udFdlaWdodDogIjQwMCINCgl9LA0KDQoJY3Nz
UHJlZml4ZXMgPSBbICJXZWJraXQiLCAiTW96IiwgIm1zIiBdLA0KCWVtcHR5U3R5bGUgPSBkb2N1
bWVudC5jcmVhdGVFbGVtZW50KCAiZGl2IiApLnN0eWxlOw0KDQovLyBSZXR1cm4gYSBjc3MgcHJv
cGVydHkgbWFwcGVkIHRvIGEgcG90ZW50aWFsbHkgdmVuZG9yIHByZWZpeGVkIHByb3BlcnR5DQpm
dW5jdGlvbiB2ZW5kb3JQcm9wTmFtZSggbmFtZSApIHsNCg0KCS8vIFNob3J0Y3V0IGZvciBuYW1l
cyB0aGF0IGFyZSBub3QgdmVuZG9yIHByZWZpeGVkDQoJaWYgKCBuYW1lIGluIGVtcHR5U3R5bGUg
KSB7DQoJCXJldHVybiBuYW1lOw0KCX0NCg0KCS8vIENoZWNrIGZvciB2ZW5kb3IgcHJlZml4ZWQg
bmFtZXMNCgl2YXIgY2FwTmFtZSA9IG5hbWVbIDAgXS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zbGlj
ZSggMSApLA0KCQlpID0gY3NzUHJlZml4ZXMubGVuZ3RoOw0KDQoJd2hpbGUgKCBpLS0gKSB7DQoJ
CW5hbWUgPSBjc3NQcmVmaXhlc1sgaSBdICsgY2FwTmFtZTsNCgkJaWYgKCBuYW1lIGluIGVtcHR5
U3R5bGUgKSB7DQoJCQlyZXR1cm4gbmFtZTsNCgkJfQ0KCX0NCn0NCg0KLy8gUmV0dXJuIGEgcHJv
cGVydHkgbWFwcGVkIGFsb25nIHdoYXQgalF1ZXJ5LmNzc1Byb3BzIHN1Z2dlc3RzIG9yIHRvDQov
LyBhIHZlbmRvciBwcmVmaXhlZCBwcm9wZXJ0eS4NCmZ1bmN0aW9uIGZpbmFsUHJvcE5hbWUoIG5h
bWUgKSB7DQoJdmFyIHJldCA9IGpRdWVyeS5jc3NQcm9wc1sgbmFtZSBdOw0KCWlmICggIXJldCAp
IHsNCgkJcmV0ID0galF1ZXJ5LmNzc1Byb3BzWyBuYW1lIF0gPSB2ZW5kb3JQcm9wTmFtZSggbmFt
ZSApIHx8IG5hbWU7DQoJfQ0KCXJldHVybiByZXQ7DQp9DQoNCmZ1bmN0aW9uIHNldFBvc2l0aXZl
TnVtYmVyKCBlbGVtLCB2YWx1ZSwgc3VidHJhY3QgKSB7DQoNCgkvLyBBbnkgcmVsYXRpdmUgKCsv
LSkgdmFsdWVzIGhhdmUgYWxyZWFkeSBiZWVuDQoJLy8gbm9ybWFsaXplZCBhdCB0aGlzIHBvaW50
DQoJdmFyIG1hdGNoZXMgPSByY3NzTnVtLmV4ZWMoIHZhbHVlICk7DQoJcmV0dXJuIG1hdGNoZXMg
Pw0KDQoJCS8vIEd1YXJkIGFnYWluc3QgdW5kZWZpbmVkICJzdWJ0cmFjdCIsIGUuZy4sIHdoZW4g
dXNlZCBhcyBpbiBjc3NIb29rcw0KCQlNYXRoLm1heCggMCwgbWF0Y2hlc1sgMiBdIC0gKCBzdWJ0
cmFjdCB8fCAwICkgKSArICggbWF0Y2hlc1sgMyBdIHx8ICJweCIgKSA6DQoJCXZhbHVlOw0KfQ0K
DQpmdW5jdGlvbiBhdWdtZW50V2lkdGhPckhlaWdodCggZWxlbSwgbmFtZSwgZXh0cmEsIGlzQm9y
ZGVyQm94LCBzdHlsZXMgKSB7DQoJdmFyIGksDQoJCXZhbCA9IDA7DQoNCgkvLyBJZiB3ZSBhbHJl
YWR5IGhhdmUgdGhlIHJpZ2h0IG1lYXN1cmVtZW50LCBhdm9pZCBhdWdtZW50YXRpb24NCglpZiAo
IGV4dHJhID09PSAoIGlzQm9yZGVyQm94ID8gImJvcmRlciIgOiAiY29udGVudCIgKSApIHsNCgkJ
aSA9IDQ7DQoNCgkvLyBPdGhlcndpc2UgaW5pdGlhbGl6ZSBmb3IgaG9yaXpvbnRhbCBvciB2ZXJ0
aWNhbCBwcm9wZXJ0aWVzDQoJfSBlbHNlIHsNCgkJaSA9IG5hbWUgPT09ICJ3aWR0aCIgPyAxIDog
MDsNCgl9DQoNCglmb3IgKCA7IGkgPCA0OyBpICs9IDIgKSB7DQoNCgkJLy8gQm90aCBib3ggbW9k
ZWxzIGV4Y2x1ZGUgbWFyZ2luLCBzbyBhZGQgaXQgaWYgd2Ugd2FudCBpdA0KCQlpZiAoIGV4dHJh
ID09PSAibWFyZ2luIiApIHsNCgkJCXZhbCArPSBqUXVlcnkuY3NzKCBlbGVtLCBleHRyYSArIGNz
c0V4cGFuZFsgaSBdLCB0cnVlLCBzdHlsZXMgKTsNCgkJfQ0KDQoJCWlmICggaXNCb3JkZXJCb3gg
KSB7DQoNCgkJCS8vIGJvcmRlci1ib3ggaW5jbHVkZXMgcGFkZGluZywgc28gcmVtb3ZlIGl0IGlm
IHdlIHdhbnQgY29udGVudA0KCQkJaWYgKCBleHRyYSA9PT0gImNvbnRlbnQiICkgew0KCQkJCXZh
bCAtPSBqUXVlcnkuY3NzKCBlbGVtLCAicGFkZGluZyIgKyBjc3NFeHBhbmRbIGkgXSwgdHJ1ZSwg
c3R5bGVzICk7DQoJCQl9DQoNCgkJCS8vIEF0IHRoaXMgcG9pbnQsIGV4dHJhIGlzbid0IGJvcmRl
ciBub3IgbWFyZ2luLCBzbyByZW1vdmUgYm9yZGVyDQoJCQlpZiAoIGV4dHJhICE9PSAibWFyZ2lu
IiApIHsNCgkJCQl2YWwgLT0galF1ZXJ5LmNzcyggZWxlbSwgImJvcmRlciIgKyBjc3NFeHBhbmRb
IGkgXSArICJXaWR0aCIsIHRydWUsIHN0eWxlcyApOw0KCQkJfQ0KCQl9IGVsc2Ugew0KDQoJCQkv
LyBBdCB0aGlzIHBvaW50LCBleHRyYSBpc24ndCBjb250ZW50LCBzbyBhZGQgcGFkZGluZw0KCQkJ
dmFsICs9IGpRdWVyeS5jc3MoIGVsZW0sICJwYWRkaW5nIiArIGNzc0V4cGFuZFsgaSBdLCB0cnVl
LCBzdHlsZXMgKTsNCg0KCQkJLy8gQXQgdGhpcyBwb2ludCwgZXh0cmEgaXNuJ3QgY29udGVudCBu
b3IgcGFkZGluZywgc28gYWRkIGJvcmRlcg0KCQkJaWYgKCBleHRyYSAhPT0gInBhZGRpbmciICkg
ew0KCQkJCXZhbCArPSBqUXVlcnkuY3NzKCBlbGVtLCAiYm9yZGVyIiArIGNzc0V4cGFuZFsgaSBd
ICsgIldpZHRoIiwgdHJ1ZSwgc3R5bGVzICk7DQoJCQl9DQoJCX0NCgl9DQoNCglyZXR1cm4gdmFs
Ow0KfQ0KDQpmdW5jdGlvbiBnZXRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBuYW1lLCBleHRyYSApIHsN
Cg0KCS8vIFN0YXJ0IHdpdGggY29tcHV0ZWQgc3R5bGUNCgl2YXIgdmFsdWVJc0JvcmRlckJveCwN
CgkJc3R5bGVzID0gZ2V0U3R5bGVzKCBlbGVtICksDQoJCXZhbCA9IGN1ckNTUyggZWxlbSwgbmFt
ZSwgc3R5bGVzICksDQoJCWlzQm9yZGVyQm94ID0galF1ZXJ5LmNzcyggZWxlbSwgImJveFNpemlu
ZyIsIGZhbHNlLCBzdHlsZXMgKSA9PT0gImJvcmRlci1ib3giOw0KDQoJLy8gQ29tcHV0ZWQgdW5p
dCBpcyBub3QgcGl4ZWxzLiBTdG9wIGhlcmUgYW5kIHJldHVybi4NCglpZiAoIHJudW1ub25weC50
ZXN0KCB2YWwgKSApIHsNCgkJcmV0dXJuIHZhbDsNCgl9DQoNCgkvLyBDaGVjayBmb3Igc3R5bGUg
aW4gY2FzZSBhIGJyb3dzZXIgd2hpY2ggcmV0dXJucyB1bnJlbGlhYmxlIHZhbHVlcw0KCS8vIGZv
ciBnZXRDb21wdXRlZFN0eWxlIHNpbGVudGx5IGZhbGxzIGJhY2sgdG8gdGhlIHJlbGlhYmxlIGVs
ZW0uc3R5bGUNCgl2YWx1ZUlzQm9yZGVyQm94ID0gaXNCb3JkZXJCb3ggJiYNCgkJKCBzdXBwb3J0
LmJveFNpemluZ1JlbGlhYmxlKCkgfHwgdmFsID09PSBlbGVtLnN0eWxlWyBuYW1lIF0gKTsNCg0K
CS8vIEZhbGwgYmFjayB0byBvZmZzZXRXaWR0aC9IZWlnaHQgd2hlbiB2YWx1ZSBpcyAiYXV0byIN
CgkvLyBUaGlzIGhhcHBlbnMgZm9yIGlubGluZSBlbGVtZW50cyB3aXRoIG5vIGV4cGxpY2l0IHNl
dHRpbmcgKGdoLTM1NzEpDQoJaWYgKCB2YWwgPT09ICJhdXRvIiApIHsNCgkJdmFsID0gZWxlbVsg
Im9mZnNldCIgKyBuYW1lWyAwIF0udG9VcHBlckNhc2UoKSArIG5hbWUuc2xpY2UoIDEgKSBdOw0K
CX0NCg0KCS8vIE5vcm1hbGl6ZSAiIiwgYXV0bywgYW5kIHByZXBhcmUgZm9yIGV4dHJhDQoJdmFs
ID0gcGFyc2VGbG9hdCggdmFsICkgfHwgMDsNCg0KCS8vIFVzZSB0aGUgYWN0aXZlIGJveC1zaXpp
bmcgbW9kZWwgdG8gYWRkL3N1YnRyYWN0IGlycmVsZXZhbnQgc3R5bGVzDQoJcmV0dXJuICggdmFs
ICsNCgkJYXVnbWVudFdpZHRoT3JIZWlnaHQoDQoJCQllbGVtLA0KCQkJbmFtZSwNCgkJCWV4dHJh
IHx8ICggaXNCb3JkZXJCb3ggPyAiYm9yZGVyIiA6ICJjb250ZW50IiApLA0KCQkJdmFsdWVJc0Jv
cmRlckJveCwNCgkJCXN0eWxlcw0KCQkpDQoJKSArICJweCI7DQp9DQoNCmpRdWVyeS5leHRlbmQo
IHsNCg0KCS8vIEFkZCBpbiBzdHlsZSBwcm9wZXJ0eSBob29rcyBmb3Igb3ZlcnJpZGluZyB0aGUg
ZGVmYXVsdA0KCS8vIGJlaGF2aW9yIG9mIGdldHRpbmcgYW5kIHNldHRpbmcgYSBzdHlsZSBwcm9w
ZXJ0eQ0KCWNzc0hvb2tzOiB7DQoJCW9wYWNpdHk6IHsNCgkJCWdldDogZnVuY3Rpb24oIGVsZW0s
IGNvbXB1dGVkICkgew0KCQkJCWlmICggY29tcHV0ZWQgKSB7DQoNCgkJCQkJLy8gV2Ugc2hvdWxk
IGFsd2F5cyBnZXQgYSBudW1iZXIgYmFjayBmcm9tIG9wYWNpdHkNCgkJCQkJdmFyIHJldCA9IGN1
ckNTUyggZWxlbSwgIm9wYWNpdHkiICk7DQoJCQkJCXJldHVybiByZXQgPT09ICIiID8gIjEiIDog
cmV0Ow0KCQkJCX0NCgkJCX0NCgkJfQ0KCX0sDQoNCgkvLyBEb24ndCBhdXRvbWF0aWNhbGx5IGFk
ZCAicHgiIHRvIHRoZXNlIHBvc3NpYmx5LXVuaXRsZXNzIHByb3BlcnRpZXMNCgljc3NOdW1iZXI6
IHsNCgkJImFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50IjogdHJ1ZSwNCgkJImNvbHVtbkNvdW50Ijog
dHJ1ZSwNCgkJImZpbGxPcGFjaXR5IjogdHJ1ZSwNCgkJImZsZXhHcm93IjogdHJ1ZSwNCgkJImZs
ZXhTaHJpbmsiOiB0cnVlLA0KCQkiZm9udFdlaWdodCI6IHRydWUsDQoJCSJsaW5lSGVpZ2h0Ijog
dHJ1ZSwNCgkJIm9wYWNpdHkiOiB0cnVlLA0KCQkib3JkZXIiOiB0cnVlLA0KCQkib3JwaGFucyI6
IHRydWUsDQoJCSJ3aWRvd3MiOiB0cnVlLA0KCQkiekluZGV4IjogdHJ1ZSwNCgkJInpvb20iOiB0
cnVlDQoJfSwNCg0KCS8vIEFkZCBpbiBwcm9wZXJ0aWVzIHdob3NlIG5hbWVzIHlvdSB3aXNoIHRv
IGZpeCBiZWZvcmUNCgkvLyBzZXR0aW5nIG9yIGdldHRpbmcgdGhlIHZhbHVlDQoJY3NzUHJvcHM6
IHsNCgkJImZsb2F0IjogImNzc0Zsb2F0Ig0KCX0sDQoNCgkvLyBHZXQgYW5kIHNldCB0aGUgc3R5
bGUgcHJvcGVydHkgb24gYSBET00gTm9kZQ0KCXN0eWxlOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwg
dmFsdWUsIGV4dHJhICkgew0KDQoJCS8vIERvbid0IHNldCBzdHlsZXMgb24gdGV4dCBhbmQgY29t
bWVudCBub2Rlcw0KCQlpZiAoICFlbGVtIHx8IGVsZW0ubm9kZVR5cGUgPT09IDMgfHwgZWxlbS5u
b2RlVHlwZSA9PT0gOCB8fCAhZWxlbS5zdHlsZSApIHsNCgkJCXJldHVybjsNCgkJfQ0KDQoJCS8v
IE1ha2Ugc3VyZSB0aGF0IHdlJ3JlIHdvcmtpbmcgd2l0aCB0aGUgcmlnaHQgbmFtZQ0KCQl2YXIg
cmV0LCB0eXBlLCBob29rcywNCgkJCW9yaWdOYW1lID0galF1ZXJ5LmNhbWVsQ2FzZSggbmFtZSAp
LA0KCQkJaXNDdXN0b21Qcm9wID0gcmN1c3RvbVByb3AudGVzdCggbmFtZSApLA0KCQkJc3R5bGUg
PSBlbGVtLnN0eWxlOw0KDQoJCS8vIE1ha2Ugc3VyZSB0aGF0IHdlJ3JlIHdvcmtpbmcgd2l0aCB0
aGUgcmlnaHQgbmFtZS4gV2UgZG9uJ3QNCgkJLy8gd2FudCB0byBxdWVyeSB0aGUgdmFsdWUgaWYg
aXQgaXMgYSBDU1MgY3VzdG9tIHByb3BlcnR5DQoJCS8vIHNpbmNlIHRoZXkgYXJlIHVzZXItZGVm
aW5lZC4NCgkJaWYgKCAhaXNDdXN0b21Qcm9wICkgew0KCQkJbmFtZSA9IGZpbmFsUHJvcE5hbWUo
IG9yaWdOYW1lICk7DQoJCX0NCg0KCQkvLyBHZXRzIGhvb2sgZm9yIHRoZSBwcmVmaXhlZCB2ZXJz
aW9uLCB0aGVuIHVucHJlZml4ZWQgdmVyc2lvbg0KCQlob29rcyA9IGpRdWVyeS5jc3NIb29rc1sg
bmFtZSBdIHx8IGpRdWVyeS5jc3NIb29rc1sgb3JpZ05hbWUgXTsNCg0KCQkvLyBDaGVjayBpZiB3
ZSdyZSBzZXR0aW5nIGEgdmFsdWUNCgkJaWYgKCB2YWx1ZSAhPT0gdW5kZWZpbmVkICkgew0KCQkJ
dHlwZSA9IHR5cGVvZiB2YWx1ZTsNCg0KCQkJLy8gQ29udmVydCAiKz0iIG9yICItPSIgdG8gcmVs
YXRpdmUgbnVtYmVycyAoIzczNDUpDQoJCQlpZiAoIHR5cGUgPT09ICJzdHJpbmciICYmICggcmV0
ID0gcmNzc051bS5leGVjKCB2YWx1ZSApICkgJiYgcmV0WyAxIF0gKSB7DQoJCQkJdmFsdWUgPSBh
ZGp1c3RDU1MoIGVsZW0sIG5hbWUsIHJldCApOw0KDQoJCQkJLy8gRml4ZXMgYnVnICM5MjM3DQoJ
CQkJdHlwZSA9ICJudW1iZXIiOw0KCQkJfQ0KDQoJCQkvLyBNYWtlIHN1cmUgdGhhdCBudWxsIGFu
ZCBOYU4gdmFsdWVzIGFyZW4ndCBzZXQgKCM3MTE2KQ0KCQkJaWYgKCB2YWx1ZSA9PSBudWxsIHx8
IHZhbHVlICE9PSB2YWx1ZSApIHsNCgkJCQlyZXR1cm47DQoJCQl9DQoNCgkJCS8vIElmIGEgbnVt
YmVyIHdhcyBwYXNzZWQgaW4sIGFkZCB0aGUgdW5pdCAoZXhjZXB0IGZvciBjZXJ0YWluIENTUyBw
cm9wZXJ0aWVzKQ0KCQkJaWYgKCB0eXBlID09PSAibnVtYmVyIiApIHsNCgkJCQl2YWx1ZSArPSBy
ZXQgJiYgcmV0WyAzIF0gfHwgKCBqUXVlcnkuY3NzTnVtYmVyWyBvcmlnTmFtZSBdID8gIiIgOiAi
cHgiICk7DQoJCQl9DQoNCgkJCS8vIGJhY2tncm91bmQtKiBwcm9wcyBhZmZlY3Qgb3JpZ2luYWwg
Y2xvbmUncyB2YWx1ZXMNCgkJCWlmICggIXN1cHBvcnQuY2xlYXJDbG9uZVN0eWxlICYmIHZhbHVl
ID09PSAiIiAmJiBuYW1lLmluZGV4T2YoICJiYWNrZ3JvdW5kIiApID09PSAwICkgew0KCQkJCXN0
eWxlWyBuYW1lIF0gPSAiaW5oZXJpdCI7DQoJCQl9DQoNCgkJCS8vIElmIGEgaG9vayB3YXMgcHJv
dmlkZWQsIHVzZSB0aGF0IHZhbHVlLCBvdGhlcndpc2UganVzdCBzZXQgdGhlIHNwZWNpZmllZCB2
YWx1ZQ0KCQkJaWYgKCAhaG9va3MgfHwgISggInNldCIgaW4gaG9va3MgKSB8fA0KCQkJCSggdmFs
dWUgPSBob29rcy5zZXQoIGVsZW0sIHZhbHVlLCBleHRyYSApICkgIT09IHVuZGVmaW5lZCApIHsN
Cg0KCQkJCWlmICggaXNDdXN0b21Qcm9wICkgew0KCQkJCQlzdHlsZS5zZXRQcm9wZXJ0eSggbmFt
ZSwgdmFsdWUgKTsNCgkJCQl9IGVsc2Ugew0KCQkJCQlzdHlsZVsgbmFtZSBdID0gdmFsdWU7DQoJ
CQkJfQ0KCQkJfQ0KDQoJCX0gZWxzZSB7DQoNCgkJCS8vIElmIGEgaG9vayB3YXMgcHJvdmlkZWQg
Z2V0IHRoZSBub24tY29tcHV0ZWQgdmFsdWUgZnJvbSB0aGVyZQ0KCQkJaWYgKCBob29rcyAmJiAi
Z2V0IiBpbiBob29rcyAmJg0KCQkJCSggcmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBmYWxzZSwgZXh0
cmEgKSApICE9PSB1bmRlZmluZWQgKSB7DQoNCgkJCQlyZXR1cm4gcmV0Ow0KCQkJfQ0KDQoJCQkv
LyBPdGhlcndpc2UganVzdCBnZXQgdGhlIHZhbHVlIGZyb20gdGhlIHN0eWxlIG9iamVjdA0KCQkJ
cmV0dXJuIHN0eWxlWyBuYW1lIF07DQoJCX0NCgl9LA0KDQoJY3NzOiBmdW5jdGlvbiggZWxlbSwg
bmFtZSwgZXh0cmEsIHN0eWxlcyApIHsNCgkJdmFyIHZhbCwgbnVtLCBob29rcywNCgkJCW9yaWdO
YW1lID0galF1ZXJ5LmNhbWVsQ2FzZSggbmFtZSApLA0KCQkJaXNDdXN0b21Qcm9wID0gcmN1c3Rv
bVByb3AudGVzdCggbmFtZSApOw0KDQoJCS8vIE1ha2Ugc3VyZSB0aGF0IHdlJ3JlIHdvcmtpbmcg
d2l0aCB0aGUgcmlnaHQgbmFtZS4gV2UgZG9uJ3QNCgkJLy8gd2FudCB0byBtb2RpZnkgdGhlIHZh
bHVlIGlmIGl0IGlzIGEgQ1NTIGN1c3RvbSBwcm9wZXJ0eQ0KCQkvLyBzaW5jZSB0aGV5IGFyZSB1
c2VyLWRlZmluZWQuDQoJCWlmICggIWlzQ3VzdG9tUHJvcCApIHsNCgkJCW5hbWUgPSBmaW5hbFBy
b3BOYW1lKCBvcmlnTmFtZSApOw0KCQl9DQoNCgkJLy8gVHJ5IHByZWZpeGVkIG5hbWUgZm9sbG93
ZWQgYnkgdGhlIHVucHJlZml4ZWQgbmFtZQ0KCQlob29rcyA9IGpRdWVyeS5jc3NIb29rc1sgbmFt
ZSBdIHx8IGpRdWVyeS5jc3NIb29rc1sgb3JpZ05hbWUgXTsNCg0KCQkvLyBJZiBhIGhvb2sgd2Fz
IHByb3ZpZGVkIGdldCB0aGUgY29tcHV0ZWQgdmFsdWUgZnJvbSB0aGVyZQ0KCQlpZiAoIGhvb2tz
ICYmICJnZXQiIGluIGhvb2tzICkgew0KCQkJdmFsID0gaG9va3MuZ2V0KCBlbGVtLCB0cnVlLCBl
eHRyYSApOw0KCQl9DQoNCgkJLy8gT3RoZXJ3aXNlLCBpZiBhIHdheSB0byBnZXQgdGhlIGNvbXB1
dGVkIHZhbHVlIGV4aXN0cywgdXNlIHRoYXQNCgkJaWYgKCB2YWwgPT09IHVuZGVmaW5lZCApIHsN
CgkJCXZhbCA9IGN1ckNTUyggZWxlbSwgbmFtZSwgc3R5bGVzICk7DQoJCX0NCg0KCQkvLyBDb252
ZXJ0ICJub3JtYWwiIHRvIGNvbXB1dGVkIHZhbHVlDQoJCWlmICggdmFsID09PSAibm9ybWFsIiAm
JiBuYW1lIGluIGNzc05vcm1hbFRyYW5zZm9ybSApIHsNCgkJCXZhbCA9IGNzc05vcm1hbFRyYW5z
Zm9ybVsgbmFtZSBdOw0KCQl9DQoNCgkJLy8gTWFrZSBudW1lcmljIGlmIGZvcmNlZCBvciBhIHF1
YWxpZmllciB3YXMgcHJvdmlkZWQgYW5kIHZhbCBsb29rcyBudW1lcmljDQoJCWlmICggZXh0cmEg
PT09ICIiIHx8IGV4dHJhICkgew0KCQkJbnVtID0gcGFyc2VGbG9hdCggdmFsICk7DQoJCQlyZXR1
cm4gZXh0cmEgPT09IHRydWUgfHwgaXNGaW5pdGUoIG51bSApID8gbnVtIHx8IDAgOiB2YWw7DQoJ
CX0NCg0KCQlyZXR1cm4gdmFsOw0KCX0NCn0gKTsNCg0KalF1ZXJ5LmVhY2goIFsgImhlaWdodCIs
ICJ3aWR0aCIgXSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7DQoJalF1ZXJ5LmNzc0hvb2tzWyBuYW1l
IF0gPSB7DQoJCWdldDogZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkLCBleHRyYSApIHsNCgkJCWlm
ICggY29tcHV0ZWQgKSB7DQoNCgkJCQkvLyBDZXJ0YWluIGVsZW1lbnRzIGNhbiBoYXZlIGRpbWVu
c2lvbiBpbmZvIGlmIHdlIGludmlzaWJseSBzaG93IHRoZW0NCgkJCQkvLyBidXQgaXQgbXVzdCBo
YXZlIGEgY3VycmVudCBkaXNwbGF5IHN0eWxlIHRoYXQgd291bGQgYmVuZWZpdA0KCQkJCXJldHVy
biByZGlzcGxheXN3YXAudGVzdCggalF1ZXJ5LmNzcyggZWxlbSwgImRpc3BsYXkiICkgKSAmJg0K
DQoJCQkJCS8vIFN1cHBvcnQ6IFNhZmFyaSA4Kw0KCQkJCQkvLyBUYWJsZSBjb2x1bW5zIGluIFNh
ZmFyaSBoYXZlIG5vbi16ZXJvIG9mZnNldFdpZHRoICYgemVybw0KCQkJCQkvLyBnZXRCb3VuZGlu
Z0NsaWVudFJlY3QoKS53aWR0aCB1bmxlc3MgZGlzcGxheSBpcyBjaGFuZ2VkLg0KCQkJCQkvLyBT
dXBwb3J0OiBJRSA8PTExIG9ubHkNCgkJCQkJLy8gUnVubmluZyBnZXRCb3VuZGluZ0NsaWVudFJl
Y3Qgb24gYSBkaXNjb25uZWN0ZWQgbm9kZQ0KCQkJCQkvLyBpbiBJRSB0aHJvd3MgYW4gZXJyb3Iu
DQoJCQkJCSggIWVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggfHwgIWVsZW0uZ2V0Qm91bmRp
bmdDbGllbnRSZWN0KCkud2lkdGggKSA/DQoJCQkJCQlzd2FwKCBlbGVtLCBjc3NTaG93LCBmdW5j
dGlvbigpIHsNCgkJCQkJCQlyZXR1cm4gZ2V0V2lkdGhPckhlaWdodCggZWxlbSwgbmFtZSwgZXh0
cmEgKTsNCgkJCQkJCX0gKSA6DQoJCQkJCQlnZXRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBuYW1lLCBl
eHRyYSApOw0KCQkJfQ0KCQl9LA0KDQoJCXNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlLCBleHRy
YSApIHsNCgkJCXZhciBtYXRjaGVzLA0KCQkJCXN0eWxlcyA9IGV4dHJhICYmIGdldFN0eWxlcygg
ZWxlbSApLA0KCQkJCXN1YnRyYWN0ID0gZXh0cmEgJiYgYXVnbWVudFdpZHRoT3JIZWlnaHQoDQoJ
CQkJCWVsZW0sDQoJCQkJCW5hbWUsDQoJCQkJCWV4dHJhLA0KCQkJCQlqUXVlcnkuY3NzKCBlbGVt
LCAiYm94U2l6aW5nIiwgZmFsc2UsIHN0eWxlcyApID09PSAiYm9yZGVyLWJveCIsDQoJCQkJCXN0
eWxlcw0KCQkJCSk7DQoNCgkJCS8vIENvbnZlcnQgdG8gcGl4ZWxzIGlmIHZhbHVlIGFkanVzdG1l
bnQgaXMgbmVlZGVkDQoJCQlpZiAoIHN1YnRyYWN0ICYmICggbWF0Y2hlcyA9IHJjc3NOdW0uZXhl
YyggdmFsdWUgKSApICYmDQoJCQkJKCBtYXRjaGVzWyAzIF0gfHwgInB4IiApICE9PSAicHgiICkg
ew0KDQoJCQkJZWxlbS5zdHlsZVsgbmFtZSBdID0gdmFsdWU7DQoJCQkJdmFsdWUgPSBqUXVlcnku
Y3NzKCBlbGVtLCBuYW1lICk7DQoJCQl9DQoNCgkJCXJldHVybiBzZXRQb3NpdGl2ZU51bWJlcigg
ZWxlbSwgdmFsdWUsIHN1YnRyYWN0ICk7DQoJCX0NCgl9Ow0KfSApOw0KDQpqUXVlcnkuY3NzSG9v
a3MubWFyZ2luTGVmdCA9IGFkZEdldEhvb2tJZiggc3VwcG9ydC5yZWxpYWJsZU1hcmdpbkxlZnQs
DQoJZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkICkgew0KCQlpZiAoIGNvbXB1dGVkICkgew0KCQkJ
cmV0dXJuICggcGFyc2VGbG9hdCggY3VyQ1NTKCBlbGVtLCAibWFyZ2luTGVmdCIgKSApIHx8DQoJ
CQkJZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0IC0NCgkJCQkJc3dhcCggZWxlbSwg
eyBtYXJnaW5MZWZ0OiAwIH0sIGZ1bmN0aW9uKCkgew0KCQkJCQkJcmV0dXJuIGVsZW0uZ2V0Qm91
bmRpbmdDbGllbnRSZWN0KCkubGVmdDsNCgkJCQkJfSApDQoJCQkJKSArICJweCI7DQoJCX0NCgl9
DQopOw0KDQovLyBUaGVzZSBob29rcyBhcmUgdXNlZCBieSBhbmltYXRlIHRvIGV4cGFuZCBwcm9w
ZXJ0aWVzDQpqUXVlcnkuZWFjaCggew0KCW1hcmdpbjogIiIsDQoJcGFkZGluZzogIiIsDQoJYm9y
ZGVyOiAiV2lkdGgiDQp9LCBmdW5jdGlvbiggcHJlZml4LCBzdWZmaXggKSB7DQoJalF1ZXJ5LmNz
c0hvb2tzWyBwcmVmaXggKyBzdWZmaXggXSA9IHsNCgkJZXhwYW5kOiBmdW5jdGlvbiggdmFsdWUg
KSB7DQoJCQl2YXIgaSA9IDAsDQoJCQkJZXhwYW5kZWQgPSB7fSwNCg0KCQkJCS8vIEFzc3VtZXMg
YSBzaW5nbGUgbnVtYmVyIGlmIG5vdCBhIHN0cmluZw0KCQkJCXBhcnRzID0gdHlwZW9mIHZhbHVl
ID09PSAic3RyaW5nIiA/IHZhbHVlLnNwbGl0KCAiICIgKSA6IFsgdmFsdWUgXTsNCg0KCQkJZm9y
ICggOyBpIDwgNDsgaSsrICkgew0KCQkJCWV4cGFuZGVkWyBwcmVmaXggKyBjc3NFeHBhbmRbIGkg
XSArIHN1ZmZpeCBdID0NCgkJCQkJcGFydHNbIGkgXSB8fCBwYXJ0c1sgaSAtIDIgXSB8fCBwYXJ0
c1sgMCBdOw0KCQkJfQ0KDQoJCQlyZXR1cm4gZXhwYW5kZWQ7DQoJCX0NCgl9Ow0KDQoJaWYgKCAh
cm1hcmdpbi50ZXN0KCBwcmVmaXggKSApIHsNCgkJalF1ZXJ5LmNzc0hvb2tzWyBwcmVmaXggKyBz
dWZmaXggXS5zZXQgPSBzZXRQb3NpdGl2ZU51bWJlcjsNCgl9DQp9ICk7DQoNCmpRdWVyeS5mbi5l
eHRlbmQoIHsNCgljc3M6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHsNCgkJcmV0dXJuIGFjY2Vz
cyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlICkgew0KCQkJdmFyIHN0eWxlcywg
bGVuLA0KCQkJCW1hcCA9IHt9LA0KCQkJCWkgPSAwOw0KDQoJCQlpZiAoIEFycmF5LmlzQXJyYXko
IG5hbWUgKSApIHsNCgkJCQlzdHlsZXMgPSBnZXRTdHlsZXMoIGVsZW0gKTsNCgkJCQlsZW4gPSBu
YW1lLmxlbmd0aDsNCg0KCQkJCWZvciAoIDsgaSA8IGxlbjsgaSsrICkgew0KCQkJCQltYXBbIG5h
bWVbIGkgXSBdID0galF1ZXJ5LmNzcyggZWxlbSwgbmFtZVsgaSBdLCBmYWxzZSwgc3R5bGVzICk7
DQoJCQkJfQ0KDQoJCQkJcmV0dXJuIG1hcDsNCgkJCX0NCg0KCQkJcmV0dXJuIHZhbHVlICE9PSB1
bmRlZmluZWQgPw0KCQkJCWpRdWVyeS5zdHlsZSggZWxlbSwgbmFtZSwgdmFsdWUgKSA6DQoJCQkJ
alF1ZXJ5LmNzcyggZWxlbSwgbmFtZSApOw0KCQl9LCBuYW1lLCB2YWx1ZSwgYXJndW1lbnRzLmxl
bmd0aCA+IDEgKTsNCgl9DQp9ICk7DQoNCg0KZnVuY3Rpb24gVHdlZW4oIGVsZW0sIG9wdGlvbnMs
IHByb3AsIGVuZCwgZWFzaW5nICkgew0KCXJldHVybiBuZXcgVHdlZW4ucHJvdG90eXBlLmluaXQo
IGVsZW0sIG9wdGlvbnMsIHByb3AsIGVuZCwgZWFzaW5nICk7DQp9DQpqUXVlcnkuVHdlZW4gPSBU
d2VlbjsNCg0KVHdlZW4ucHJvdG90eXBlID0gew0KCWNvbnN0cnVjdG9yOiBUd2VlbiwNCglpbml0
OiBmdW5jdGlvbiggZWxlbSwgb3B0aW9ucywgcHJvcCwgZW5kLCBlYXNpbmcsIHVuaXQgKSB7DQoJ
CXRoaXMuZWxlbSA9IGVsZW07DQoJCXRoaXMucHJvcCA9IHByb3A7DQoJCXRoaXMuZWFzaW5nID0g
ZWFzaW5nIHx8IGpRdWVyeS5lYXNpbmcuX2RlZmF1bHQ7DQoJCXRoaXMub3B0aW9ucyA9IG9wdGlv
bnM7DQoJCXRoaXMuc3RhcnQgPSB0aGlzLm5vdyA9IHRoaXMuY3VyKCk7DQoJCXRoaXMuZW5kID0g
ZW5kOw0KCQl0aGlzLnVuaXQgPSB1bml0IHx8ICggalF1ZXJ5LmNzc051bWJlclsgcHJvcCBdID8g
IiIgOiAicHgiICk7DQoJfSwNCgljdXI6IGZ1bmN0aW9uKCkgew0KCQl2YXIgaG9va3MgPSBUd2Vl
bi5wcm9wSG9va3NbIHRoaXMucHJvcCBdOw0KDQoJCXJldHVybiBob29rcyAmJiBob29rcy5nZXQg
Pw0KCQkJaG9va3MuZ2V0KCB0aGlzICkgOg0KCQkJVHdlZW4ucHJvcEhvb2tzLl9kZWZhdWx0Lmdl
dCggdGhpcyApOw0KCX0sDQoJcnVuOiBmdW5jdGlvbiggcGVyY2VudCApIHsNCgkJdmFyIGVhc2Vk
LA0KCQkJaG9va3MgPSBUd2Vlbi5wcm9wSG9va3NbIHRoaXMucHJvcCBdOw0KDQoJCWlmICggdGhp
cy5vcHRpb25zLmR1cmF0aW9uICkgew0KCQkJdGhpcy5wb3MgPSBlYXNlZCA9IGpRdWVyeS5lYXNp
bmdbIHRoaXMuZWFzaW5nIF0oDQoJCQkJcGVyY2VudCwgdGhpcy5vcHRpb25zLmR1cmF0aW9uICog
cGVyY2VudCwgMCwgMSwgdGhpcy5vcHRpb25zLmR1cmF0aW9uDQoJCQkpOw0KCQl9IGVsc2Ugew0K
CQkJdGhpcy5wb3MgPSBlYXNlZCA9IHBlcmNlbnQ7DQoJCX0NCgkJdGhpcy5ub3cgPSAoIHRoaXMu
ZW5kIC0gdGhpcy5zdGFydCApICogZWFzZWQgKyB0aGlzLnN0YXJ0Ow0KDQoJCWlmICggdGhpcy5v
cHRpb25zLnN0ZXAgKSB7DQoJCQl0aGlzLm9wdGlvbnMuc3RlcC5jYWxsKCB0aGlzLmVsZW0sIHRo
aXMubm93LCB0aGlzICk7DQoJCX0NCg0KCQlpZiAoIGhvb2tzICYmIGhvb2tzLnNldCApIHsNCgkJ
CWhvb2tzLnNldCggdGhpcyApOw0KCQl9IGVsc2Ugew0KCQkJVHdlZW4ucHJvcEhvb2tzLl9kZWZh
dWx0LnNldCggdGhpcyApOw0KCQl9DQoJCXJldHVybiB0aGlzOw0KCX0NCn07DQoNClR3ZWVuLnBy
b3RvdHlwZS5pbml0LnByb3RvdHlwZSA9IFR3ZWVuLnByb3RvdHlwZTsNCg0KVHdlZW4ucHJvcEhv
b2tzID0gew0KCV9kZWZhdWx0OiB7DQoJCWdldDogZnVuY3Rpb24oIHR3ZWVuICkgew0KCQkJdmFy
IHJlc3VsdDsNCg0KCQkJLy8gVXNlIGEgcHJvcGVydHkgb24gdGhlIGVsZW1lbnQgZGlyZWN0bHkg
d2hlbiBpdCBpcyBub3QgYSBET00gZWxlbWVudCwNCgkJCS8vIG9yIHdoZW4gdGhlcmUgaXMgbm8g
bWF0Y2hpbmcgc3R5bGUgcHJvcGVydHkgdGhhdCBleGlzdHMuDQoJCQlpZiAoIHR3ZWVuLmVsZW0u
bm9kZVR5cGUgIT09IDEgfHwNCgkJCQl0d2Vlbi5lbGVtWyB0d2Vlbi5wcm9wIF0gIT0gbnVsbCAm
JiB0d2Vlbi5lbGVtLnN0eWxlWyB0d2Vlbi5wcm9wIF0gPT0gbnVsbCApIHsNCgkJCQlyZXR1cm4g
dHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdOw0KCQkJfQ0KDQoJCQkvLyBQYXNzaW5nIGFuIGVtcHR5
IHN0cmluZyBhcyBhIDNyZCBwYXJhbWV0ZXIgdG8gLmNzcyB3aWxsIGF1dG9tYXRpY2FsbHkNCgkJ
CS8vIGF0dGVtcHQgYSBwYXJzZUZsb2F0IGFuZCBmYWxsYmFjayB0byBhIHN0cmluZyBpZiB0aGUg
cGFyc2UgZmFpbHMuDQoJCQkvLyBTaW1wbGUgdmFsdWVzIHN1Y2ggYXMgIjEwcHgiIGFyZSBwYXJz
ZWQgdG8gRmxvYXQ7DQoJCQkvLyBjb21wbGV4IHZhbHVlcyBzdWNoIGFzICJyb3RhdGUoMXJhZCki
IGFyZSByZXR1cm5lZCBhcy1pcy4NCgkJCXJlc3VsdCA9IGpRdWVyeS5jc3MoIHR3ZWVuLmVsZW0s
IHR3ZWVuLnByb3AsICIiICk7DQoNCgkJCS8vIEVtcHR5IHN0cmluZ3MsIG51bGwsIHVuZGVmaW5l
ZCBhbmQgImF1dG8iIGFyZSBjb252ZXJ0ZWQgdG8gMC4NCgkJCXJldHVybiAhcmVzdWx0IHx8IHJl
c3VsdCA9PT0gImF1dG8iID8gMCA6IHJlc3VsdDsNCgkJfSwNCgkJc2V0OiBmdW5jdGlvbiggdHdl
ZW4gKSB7DQoNCgkJCS8vIFVzZSBzdGVwIGhvb2sgZm9yIGJhY2sgY29tcGF0Lg0KCQkJLy8gVXNl
IGNzc0hvb2sgaWYgaXRzIHRoZXJlLg0KCQkJLy8gVXNlIC5zdHlsZSBpZiBhdmFpbGFibGUgYW5k
IHVzZSBwbGFpbiBwcm9wZXJ0aWVzIHdoZXJlIGF2YWlsYWJsZS4NCgkJCWlmICggalF1ZXJ5LmZ4
LnN0ZXBbIHR3ZWVuLnByb3AgXSApIHsNCgkJCQlqUXVlcnkuZnguc3RlcFsgdHdlZW4ucHJvcCBd
KCB0d2VlbiApOw0KCQkJfSBlbHNlIGlmICggdHdlZW4uZWxlbS5ub2RlVHlwZSA9PT0gMSAmJg0K
CQkJCSggdHdlZW4uZWxlbS5zdHlsZVsgalF1ZXJ5LmNzc1Byb3BzWyB0d2Vlbi5wcm9wIF0gXSAh
PSBudWxsIHx8DQoJCQkJCWpRdWVyeS5jc3NIb29rc1sgdHdlZW4ucHJvcCBdICkgKSB7DQoJCQkJ
alF1ZXJ5LnN0eWxlKCB0d2Vlbi5lbGVtLCB0d2Vlbi5wcm9wLCB0d2Vlbi5ub3cgKyB0d2Vlbi51
bml0ICk7DQoJCQl9IGVsc2Ugew0KCQkJCXR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSA9IHR3ZWVu
Lm5vdzsNCgkJCX0NCgkJfQ0KCX0NCn07DQoNCi8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5DQovLyBQ
YW5pYyBiYXNlZCBhcHByb2FjaCB0byBzZXR0aW5nIHRoaW5ncyBvbiBkaXNjb25uZWN0ZWQgbm9k
ZXMNClR3ZWVuLnByb3BIb29rcy5zY3JvbGxUb3AgPSBUd2Vlbi5wcm9wSG9va3Muc2Nyb2xsTGVm
dCA9IHsNCglzZXQ6IGZ1bmN0aW9uKCB0d2VlbiApIHsNCgkJaWYgKCB0d2Vlbi5lbGVtLm5vZGVU
eXBlICYmIHR3ZWVuLmVsZW0ucGFyZW50Tm9kZSApIHsNCgkJCXR3ZWVuLmVsZW1bIHR3ZWVuLnBy
b3AgXSA9IHR3ZWVuLm5vdzsNCgkJfQ0KCX0NCn07DQoNCmpRdWVyeS5lYXNpbmcgPSB7DQoJbGlu
ZWFyOiBmdW5jdGlvbiggcCApIHsNCgkJcmV0dXJuIHA7DQoJfSwNCglzd2luZzogZnVuY3Rpb24o
IHAgKSB7DQoJCXJldHVybiAwLjUgLSBNYXRoLmNvcyggcCAqIE1hdGguUEkgKSAvIDI7DQoJfSwN
CglfZGVmYXVsdDogInN3aW5nIg0KfTsNCg0KalF1ZXJ5LmZ4ID0gVHdlZW4ucHJvdG90eXBlLmlu
aXQ7DQoNCi8vIEJhY2sgY29tcGF0IDwxLjggZXh0ZW5zaW9uIHBvaW50DQpqUXVlcnkuZnguc3Rl
cCA9IHt9Ow0KDQoNCg0KDQp2YXINCglmeE5vdywgaW5Qcm9ncmVzcywNCglyZnh0eXBlcyA9IC9e
KD86dG9nZ2xlfHNob3d8aGlkZSkkLywNCglycnVuID0gL3F1ZXVlSG9va3MkLzsNCg0KZnVuY3Rp
b24gc2NoZWR1bGUoKSB7DQoJaWYgKCBpblByb2dyZXNzICkgew0KCQlpZiAoIGRvY3VtZW50Lmhp
ZGRlbiA9PT0gZmFsc2UgJiYgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSApIHsNCgkJCXdp
bmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoIHNjaGVkdWxlICk7DQoJCX0gZWxzZSB7DQoJCQl3
aW5kb3cuc2V0VGltZW91dCggc2NoZWR1bGUsIGpRdWVyeS5meC5pbnRlcnZhbCApOw0KCQl9DQoN
CgkJalF1ZXJ5LmZ4LnRpY2soKTsNCgl9DQp9DQoNCi8vIEFuaW1hdGlvbnMgY3JlYXRlZCBzeW5j
aHJvbm91c2x5IHdpbGwgcnVuIHN5bmNocm9ub3VzbHkNCmZ1bmN0aW9uIGNyZWF0ZUZ4Tm93KCkg
ew0KCXdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHsNCgkJZnhOb3cgPSB1bmRlZmluZWQ7
DQoJfSApOw0KCXJldHVybiAoIGZ4Tm93ID0galF1ZXJ5Lm5vdygpICk7DQp9DQoNCi8vIEdlbmVy
YXRlIHBhcmFtZXRlcnMgdG8gY3JlYXRlIGEgc3RhbmRhcmQgYW5pbWF0aW9uDQpmdW5jdGlvbiBn
ZW5GeCggdHlwZSwgaW5jbHVkZVdpZHRoICkgew0KCXZhciB3aGljaCwNCgkJaSA9IDAsDQoJCWF0
dHJzID0geyBoZWlnaHQ6IHR5cGUgfTsNCg0KCS8vIElmIHdlIGluY2x1ZGUgd2lkdGgsIHN0ZXAg
dmFsdWUgaXMgMSB0byBkbyBhbGwgY3NzRXhwYW5kIHZhbHVlcywNCgkvLyBvdGhlcndpc2Ugc3Rl
cCB2YWx1ZSBpcyAyIHRvIHNraXAgb3ZlciBMZWZ0IGFuZCBSaWdodA0KCWluY2x1ZGVXaWR0aCA9
IGluY2x1ZGVXaWR0aCA/IDEgOiAwOw0KCWZvciAoIDsgaSA8IDQ7IGkgKz0gMiAtIGluY2x1ZGVX
aWR0aCApIHsNCgkJd2hpY2ggPSBjc3NFeHBhbmRbIGkgXTsNCgkJYXR0cnNbICJtYXJnaW4iICsg
d2hpY2ggXSA9IGF0dHJzWyAicGFkZGluZyIgKyB3aGljaCBdID0gdHlwZTsNCgl9DQoNCglpZiAo
IGluY2x1ZGVXaWR0aCApIHsNCgkJYXR0cnMub3BhY2l0eSA9IGF0dHJzLndpZHRoID0gdHlwZTsN
Cgl9DQoNCglyZXR1cm4gYXR0cnM7DQp9DQoNCmZ1bmN0aW9uIGNyZWF0ZVR3ZWVuKCB2YWx1ZSwg
cHJvcCwgYW5pbWF0aW9uICkgew0KCXZhciB0d2VlbiwNCgkJY29sbGVjdGlvbiA9ICggQW5pbWF0
aW9uLnR3ZWVuZXJzWyBwcm9wIF0gfHwgW10gKS5jb25jYXQoIEFuaW1hdGlvbi50d2VlbmVyc1sg
IioiIF0gKSwNCgkJaW5kZXggPSAwLA0KCQlsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aDsNCglm
b3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkgew0KCQlpZiAoICggdHdlZW4gPSBjb2xs
ZWN0aW9uWyBpbmRleCBdLmNhbGwoIGFuaW1hdGlvbiwgcHJvcCwgdmFsdWUgKSApICkgew0KDQoJ
CQkvLyBXZSdyZSBkb25lIHdpdGggdGhpcyBwcm9wZXJ0eQ0KCQkJcmV0dXJuIHR3ZWVuOw0KCQl9
DQoJfQ0KfQ0KDQpmdW5jdGlvbiBkZWZhdWx0UHJlZmlsdGVyKCBlbGVtLCBwcm9wcywgb3B0cyAp
IHsNCgl2YXIgcHJvcCwgdmFsdWUsIHRvZ2dsZSwgaG9va3MsIG9sZGZpcmUsIHByb3BUd2Vlbiwg
cmVzdG9yZURpc3BsYXksIGRpc3BsYXksDQoJCWlzQm94ID0gIndpZHRoIiBpbiBwcm9wcyB8fCAi
aGVpZ2h0IiBpbiBwcm9wcywNCgkJYW5pbSA9IHRoaXMsDQoJCW9yaWcgPSB7fSwNCgkJc3R5bGUg
PSBlbGVtLnN0eWxlLA0KCQloaWRkZW4gPSBlbGVtLm5vZGVUeXBlICYmIGlzSGlkZGVuV2l0aGlu
VHJlZSggZWxlbSApLA0KCQlkYXRhU2hvdyA9IGRhdGFQcml2LmdldCggZWxlbSwgImZ4c2hvdyIg
KTsNCg0KCS8vIFF1ZXVlLXNraXBwaW5nIGFuaW1hdGlvbnMgaGlqYWNrIHRoZSBmeCBob29rcw0K
CWlmICggIW9wdHMucXVldWUgKSB7DQoJCWhvb2tzID0galF1ZXJ5Ll9xdWV1ZUhvb2tzKCBlbGVt
LCAiZngiICk7DQoJCWlmICggaG9va3MudW5xdWV1ZWQgPT0gbnVsbCApIHsNCgkJCWhvb2tzLnVu
cXVldWVkID0gMDsNCgkJCW9sZGZpcmUgPSBob29rcy5lbXB0eS5maXJlOw0KCQkJaG9va3MuZW1w
dHkuZmlyZSA9IGZ1bmN0aW9uKCkgew0KCQkJCWlmICggIWhvb2tzLnVucXVldWVkICkgew0KCQkJ
CQlvbGRmaXJlKCk7DQoJCQkJfQ0KCQkJfTsNCgkJfQ0KCQlob29rcy51bnF1ZXVlZCsrOw0KDQoJ
CWFuaW0uYWx3YXlzKCBmdW5jdGlvbigpIHsNCg0KCQkJLy8gRW5zdXJlIHRoZSBjb21wbGV0ZSBo
YW5kbGVyIGlzIGNhbGxlZCBiZWZvcmUgdGhpcyBjb21wbGV0ZXMNCgkJCWFuaW0uYWx3YXlzKCBm
dW5jdGlvbigpIHsNCgkJCQlob29rcy51bnF1ZXVlZC0tOw0KCQkJCWlmICggIWpRdWVyeS5xdWV1
ZSggZWxlbSwgImZ4IiApLmxlbmd0aCApIHsNCgkJCQkJaG9va3MuZW1wdHkuZmlyZSgpOw0KCQkJ
CX0NCgkJCX0gKTsNCgkJfSApOw0KCX0NCg0KCS8vIERldGVjdCBzaG93L2hpZGUgYW5pbWF0aW9u
cw0KCWZvciAoIHByb3AgaW4gcHJvcHMgKSB7DQoJCXZhbHVlID0gcHJvcHNbIHByb3AgXTsNCgkJ
aWYgKCByZnh0eXBlcy50ZXN0KCB2YWx1ZSApICkgew0KCQkJZGVsZXRlIHByb3BzWyBwcm9wIF07
DQoJCQl0b2dnbGUgPSB0b2dnbGUgfHwgdmFsdWUgPT09ICJ0b2dnbGUiOw0KCQkJaWYgKCB2YWx1
ZSA9PT0gKCBoaWRkZW4gPyAiaGlkZSIgOiAic2hvdyIgKSApIHsNCg0KCQkJCS8vIFByZXRlbmQg
dG8gYmUgaGlkZGVuIGlmIHRoaXMgaXMgYSAic2hvdyIgYW5kDQoJCQkJLy8gdGhlcmUgaXMgc3Rp
bGwgZGF0YSBmcm9tIGEgc3RvcHBlZCBzaG93L2hpZGUNCgkJCQlpZiAoIHZhbHVlID09PSAic2hv
dyIgJiYgZGF0YVNob3cgJiYgZGF0YVNob3dbIHByb3AgXSAhPT0gdW5kZWZpbmVkICkgew0KCQkJ
CQloaWRkZW4gPSB0cnVlOw0KDQoJCQkJLy8gSWdub3JlIGFsbCBvdGhlciBuby1vcCBzaG93L2hp
ZGUgZGF0YQ0KCQkJCX0gZWxzZSB7DQoJCQkJCWNvbnRpbnVlOw0KCQkJCX0NCgkJCX0NCgkJCW9y
aWdbIHByb3AgXSA9IGRhdGFTaG93ICYmIGRhdGFTaG93WyBwcm9wIF0gfHwgalF1ZXJ5LnN0eWxl
KCBlbGVtLCBwcm9wICk7DQoJCX0NCgl9DQoNCgkvLyBCYWlsIG91dCBpZiB0aGlzIGlzIGEgbm8t
b3AgbGlrZSAuaGlkZSgpLmhpZGUoKQ0KCXByb3BUd2VlbiA9ICFqUXVlcnkuaXNFbXB0eU9iamVj
dCggcHJvcHMgKTsNCglpZiAoICFwcm9wVHdlZW4gJiYgalF1ZXJ5LmlzRW1wdHlPYmplY3QoIG9y
aWcgKSApIHsNCgkJcmV0dXJuOw0KCX0NCg0KCS8vIFJlc3RyaWN0ICJvdmVyZmxvdyIgYW5kICJk
aXNwbGF5IiBzdHlsZXMgZHVyaW5nIGJveCBhbmltYXRpb25zDQoJaWYgKCBpc0JveCAmJiBlbGVt
Lm5vZGVUeXBlID09PSAxICkgew0KDQoJCS8vIFN1cHBvcnQ6IElFIDw9OSAtIDExLCBFZGdlIDEy
IC0gMTMNCgkJLy8gUmVjb3JkIGFsbCAzIG92ZXJmbG93IGF0dHJpYnV0ZXMgYmVjYXVzZSBJRSBk
b2VzIG5vdCBpbmZlciB0aGUgc2hvcnRoYW5kDQoJCS8vIGZyb20gaWRlbnRpY2FsbHktdmFsdWVk
IG92ZXJmbG93WCBhbmQgb3ZlcmZsb3dZDQoJCW9wdHMub3ZlcmZsb3cgPSBbIHN0eWxlLm92ZXJm
bG93LCBzdHlsZS5vdmVyZmxvd1gsIHN0eWxlLm92ZXJmbG93WSBdOw0KDQoJCS8vIElkZW50aWZ5
IGEgZGlzcGxheSB0eXBlLCBwcmVmZXJyaW5nIG9sZCBzaG93L2hpZGUgZGF0YSBvdmVyIHRoZSBD
U1MgY2FzY2FkZQ0KCQlyZXN0b3JlRGlzcGxheSA9IGRhdGFTaG93ICYmIGRhdGFTaG93LmRpc3Bs
YXk7DQoJCWlmICggcmVzdG9yZURpc3BsYXkgPT0gbnVsbCApIHsNCgkJCXJlc3RvcmVEaXNwbGF5
ID0gZGF0YVByaXYuZ2V0KCBlbGVtLCAiZGlzcGxheSIgKTsNCgkJfQ0KCQlkaXNwbGF5ID0galF1
ZXJ5LmNzcyggZWxlbSwgImRpc3BsYXkiICk7DQoJCWlmICggZGlzcGxheSA9PT0gIm5vbmUiICkg
ew0KCQkJaWYgKCByZXN0b3JlRGlzcGxheSApIHsNCgkJCQlkaXNwbGF5ID0gcmVzdG9yZURpc3Bs
YXk7DQoJCQl9IGVsc2Ugew0KDQoJCQkJLy8gR2V0IG5vbmVtcHR5IHZhbHVlKHMpIGJ5IHRlbXBv
cmFyaWx5IGZvcmNpbmcgdmlzaWJpbGl0eQ0KCQkJCXNob3dIaWRlKCBbIGVsZW0gXSwgdHJ1ZSAp
Ow0KCQkJCXJlc3RvcmVEaXNwbGF5ID0gZWxlbS5zdHlsZS5kaXNwbGF5IHx8IHJlc3RvcmVEaXNw
bGF5Ow0KCQkJCWRpc3BsYXkgPSBqUXVlcnkuY3NzKCBlbGVtLCAiZGlzcGxheSIgKTsNCgkJCQlz
aG93SGlkZSggWyBlbGVtIF0gKTsNCgkJCX0NCgkJfQ0KDQoJCS8vIEFuaW1hdGUgaW5saW5lIGVs
ZW1lbnRzIGFzIGlubGluZS1ibG9jaw0KCQlpZiAoIGRpc3BsYXkgPT09ICJpbmxpbmUiIHx8IGRp
c3BsYXkgPT09ICJpbmxpbmUtYmxvY2siICYmIHJlc3RvcmVEaXNwbGF5ICE9IG51bGwgKSB7DQoJ
CQlpZiAoIGpRdWVyeS5jc3MoIGVsZW0sICJmbG9hdCIgKSA9PT0gIm5vbmUiICkgew0KDQoJCQkJ
Ly8gUmVzdG9yZSB0aGUgb3JpZ2luYWwgZGlzcGxheSB2YWx1ZSBhdCB0aGUgZW5kIG9mIHB1cmUg
c2hvdy9oaWRlIGFuaW1hdGlvbnMNCgkJCQlpZiAoICFwcm9wVHdlZW4gKSB7DQoJCQkJCWFuaW0u
ZG9uZSggZnVuY3Rpb24oKSB7DQoJCQkJCQlzdHlsZS5kaXNwbGF5ID0gcmVzdG9yZURpc3BsYXk7
DQoJCQkJCX0gKTsNCgkJCQkJaWYgKCByZXN0b3JlRGlzcGxheSA9PSBudWxsICkgew0KCQkJCQkJ
ZGlzcGxheSA9IHN0eWxlLmRpc3BsYXk7DQoJCQkJCQlyZXN0b3JlRGlzcGxheSA9IGRpc3BsYXkg
PT09ICJub25lIiA/ICIiIDogZGlzcGxheTsNCgkJCQkJfQ0KCQkJCX0NCgkJCQlzdHlsZS5kaXNw
bGF5ID0gImlubGluZS1ibG9jayI7DQoJCQl9DQoJCX0NCgl9DQoNCglpZiAoIG9wdHMub3ZlcmZs
b3cgKSB7DQoJCXN0eWxlLm92ZXJmbG93ID0gImhpZGRlbiI7DQoJCWFuaW0uYWx3YXlzKCBmdW5j
dGlvbigpIHsNCgkJCXN0eWxlLm92ZXJmbG93ID0gb3B0cy5vdmVyZmxvd1sgMCBdOw0KCQkJc3R5
bGUub3ZlcmZsb3dYID0gb3B0cy5vdmVyZmxvd1sgMSBdOw0KCQkJc3R5bGUub3ZlcmZsb3dZID0g
b3B0cy5vdmVyZmxvd1sgMiBdOw0KCQl9ICk7DQoJfQ0KDQoJLy8gSW1wbGVtZW50IHNob3cvaGlk
ZSBhbmltYXRpb25zDQoJcHJvcFR3ZWVuID0gZmFsc2U7DQoJZm9yICggcHJvcCBpbiBvcmlnICkg
ew0KDQoJCS8vIEdlbmVyYWwgc2hvdy9oaWRlIHNldHVwIGZvciB0aGlzIGVsZW1lbnQgYW5pbWF0
aW9uDQoJCWlmICggIXByb3BUd2VlbiApIHsNCgkJCWlmICggZGF0YVNob3cgKSB7DQoJCQkJaWYg
KCAiaGlkZGVuIiBpbiBkYXRhU2hvdyApIHsNCgkJCQkJaGlkZGVuID0gZGF0YVNob3cuaGlkZGVu
Ow0KCQkJCX0NCgkJCX0gZWxzZSB7DQoJCQkJZGF0YVNob3cgPSBkYXRhUHJpdi5hY2Nlc3MoIGVs
ZW0sICJmeHNob3ciLCB7IGRpc3BsYXk6IHJlc3RvcmVEaXNwbGF5IH0gKTsNCgkJCX0NCg0KCQkJ
Ly8gU3RvcmUgaGlkZGVuL3Zpc2libGUgZm9yIHRvZ2dsZSBzbyBgLnN0b3AoKS50b2dnbGUoKWAg
InJldmVyc2VzIg0KCQkJaWYgKCB0b2dnbGUgKSB7DQoJCQkJZGF0YVNob3cuaGlkZGVuID0gIWhp
ZGRlbjsNCgkJCX0NCg0KCQkJLy8gU2hvdyBlbGVtZW50cyBiZWZvcmUgYW5pbWF0aW5nIHRoZW0N
CgkJCWlmICggaGlkZGVuICkgew0KCQkJCXNob3dIaWRlKCBbIGVsZW0gXSwgdHJ1ZSApOw0KCQkJ
fQ0KDQoJCQkvKiBlc2xpbnQtZGlzYWJsZSBuby1sb29wLWZ1bmMgKi8NCg0KCQkJYW5pbS5kb25l
KCBmdW5jdGlvbigpIHsNCg0KCQkJLyogZXNsaW50LWVuYWJsZSBuby1sb29wLWZ1bmMgKi8NCg0K
CQkJCS8vIFRoZSBmaW5hbCBzdGVwIG9mIGEgImhpZGUiIGFuaW1hdGlvbiBpcyBhY3R1YWxseSBo
aWRpbmcgdGhlIGVsZW1lbnQNCgkJCQlpZiAoICFoaWRkZW4gKSB7DQoJCQkJCXNob3dIaWRlKCBb
IGVsZW0gXSApOw0KCQkJCX0NCgkJCQlkYXRhUHJpdi5yZW1vdmUoIGVsZW0sICJmeHNob3ciICk7
DQoJCQkJZm9yICggcHJvcCBpbiBvcmlnICkgew0KCQkJCQlqUXVlcnkuc3R5bGUoIGVsZW0sIHBy
b3AsIG9yaWdbIHByb3AgXSApOw0KCQkJCX0NCgkJCX0gKTsNCgkJfQ0KDQoJCS8vIFBlci1wcm9w
ZXJ0eSBzZXR1cA0KCQlwcm9wVHdlZW4gPSBjcmVhdGVUd2VlbiggaGlkZGVuID8gZGF0YVNob3db
IHByb3AgXSA6IDAsIHByb3AsIGFuaW0gKTsNCgkJaWYgKCAhKCBwcm9wIGluIGRhdGFTaG93ICkg
KSB7DQoJCQlkYXRhU2hvd1sgcHJvcCBdID0gcHJvcFR3ZWVuLnN0YXJ0Ow0KCQkJaWYgKCBoaWRk
ZW4gKSB7DQoJCQkJcHJvcFR3ZWVuLmVuZCA9IHByb3BUd2Vlbi5zdGFydDsNCgkJCQlwcm9wVHdl
ZW4uc3RhcnQgPSAwOw0KCQkJfQ0KCQl9DQoJfQ0KfQ0KDQpmdW5jdGlvbiBwcm9wRmlsdGVyKCBw
cm9wcywgc3BlY2lhbEVhc2luZyApIHsNCgl2YXIgaW5kZXgsIG5hbWUsIGVhc2luZywgdmFsdWUs
IGhvb2tzOw0KDQoJLy8gY2FtZWxDYXNlLCBzcGVjaWFsRWFzaW5nIGFuZCBleHBhbmQgY3NzSG9v
ayBwYXNzDQoJZm9yICggaW5kZXggaW4gcHJvcHMgKSB7DQoJCW5hbWUgPSBqUXVlcnkuY2FtZWxD
YXNlKCBpbmRleCApOw0KCQllYXNpbmcgPSBzcGVjaWFsRWFzaW5nWyBuYW1lIF07DQoJCXZhbHVl
ID0gcHJvcHNbIGluZGV4IF07DQoJCWlmICggQXJyYXkuaXNBcnJheSggdmFsdWUgKSApIHsNCgkJ
CWVhc2luZyA9IHZhbHVlWyAxIF07DQoJCQl2YWx1ZSA9IHByb3BzWyBpbmRleCBdID0gdmFsdWVb
IDAgXTsNCgkJfQ0KDQoJCWlmICggaW5kZXggIT09IG5hbWUgKSB7DQoJCQlwcm9wc1sgbmFtZSBd
ID0gdmFsdWU7DQoJCQlkZWxldGUgcHJvcHNbIGluZGV4IF07DQoJCX0NCg0KCQlob29rcyA9IGpR
dWVyeS5jc3NIb29rc1sgbmFtZSBdOw0KCQlpZiAoIGhvb2tzICYmICJleHBhbmQiIGluIGhvb2tz
ICkgew0KCQkJdmFsdWUgPSBob29rcy5leHBhbmQoIHZhbHVlICk7DQoJCQlkZWxldGUgcHJvcHNb
IG5hbWUgXTsNCg0KCQkJLy8gTm90IHF1aXRlICQuZXh0ZW5kLCB0aGlzIHdvbid0IG92ZXJ3cml0
ZSBleGlzdGluZyBrZXlzLg0KCQkJLy8gUmV1c2luZyAnaW5kZXgnIGJlY2F1c2Ugd2UgaGF2ZSB0
aGUgY29ycmVjdCAibmFtZSINCgkJCWZvciAoIGluZGV4IGluIHZhbHVlICkgew0KCQkJCWlmICgg
ISggaW5kZXggaW4gcHJvcHMgKSApIHsNCgkJCQkJcHJvcHNbIGluZGV4IF0gPSB2YWx1ZVsgaW5k
ZXggXTsNCgkJCQkJc3BlY2lhbEVhc2luZ1sgaW5kZXggXSA9IGVhc2luZzsNCgkJCQl9DQoJCQl9
DQoJCX0gZWxzZSB7DQoJCQlzcGVjaWFsRWFzaW5nWyBuYW1lIF0gPSBlYXNpbmc7DQoJCX0NCgl9
DQp9DQoNCmZ1bmN0aW9uIEFuaW1hdGlvbiggZWxlbSwgcHJvcGVydGllcywgb3B0aW9ucyApIHsN
Cgl2YXIgcmVzdWx0LA0KCQlzdG9wcGVkLA0KCQlpbmRleCA9IDAsDQoJCWxlbmd0aCA9IEFuaW1h
dGlvbi5wcmVmaWx0ZXJzLmxlbmd0aCwNCgkJZGVmZXJyZWQgPSBqUXVlcnkuRGVmZXJyZWQoKS5h
bHdheXMoIGZ1bmN0aW9uKCkgew0KDQoJCQkvLyBEb24ndCBtYXRjaCBlbGVtIGluIHRoZSA6YW5p
bWF0ZWQgc2VsZWN0b3INCgkJCWRlbGV0ZSB0aWNrLmVsZW07DQoJCX0gKSwNCgkJdGljayA9IGZ1
bmN0aW9uKCkgew0KCQkJaWYgKCBzdG9wcGVkICkgew0KCQkJCXJldHVybiBmYWxzZTsNCgkJCX0N
CgkJCXZhciBjdXJyZW50VGltZSA9IGZ4Tm93IHx8IGNyZWF0ZUZ4Tm93KCksDQoJCQkJcmVtYWlu
aW5nID0gTWF0aC5tYXgoIDAsIGFuaW1hdGlvbi5zdGFydFRpbWUgKyBhbmltYXRpb24uZHVyYXRp
b24gLSBjdXJyZW50VGltZSApLA0KDQoJCQkJLy8gU3VwcG9ydDogQW5kcm9pZCAyLjMgb25seQ0K
CQkJCS8vIEFyY2hhaWMgY3Jhc2ggYnVnIHdvbid0IGFsbG93IHVzIHRvIHVzZSBgMSAtICggMC41
IHx8IDAgKWAgKCMxMjQ5NykNCgkJCQl0ZW1wID0gcmVtYWluaW5nIC8gYW5pbWF0aW9uLmR1cmF0
aW9uIHx8IDAsDQoJCQkJcGVyY2VudCA9IDEgLSB0ZW1wLA0KCQkJCWluZGV4ID0gMCwNCgkJCQls
ZW5ndGggPSBhbmltYXRpb24udHdlZW5zLmxlbmd0aDsNCg0KCQkJZm9yICggOyBpbmRleCA8IGxl
bmd0aDsgaW5kZXgrKyApIHsNCgkJCQlhbmltYXRpb24udHdlZW5zWyBpbmRleCBdLnJ1biggcGVy
Y2VudCApOw0KCQkJfQ0KDQoJCQlkZWZlcnJlZC5ub3RpZnlXaXRoKCBlbGVtLCBbIGFuaW1hdGlv
biwgcGVyY2VudCwgcmVtYWluaW5nIF0gKTsNCg0KCQkJLy8gSWYgdGhlcmUncyBtb3JlIHRvIGRv
LCB5aWVsZA0KCQkJaWYgKCBwZXJjZW50IDwgMSAmJiBsZW5ndGggKSB7DQoJCQkJcmV0dXJuIHJl
bWFpbmluZzsNCgkJCX0NCg0KCQkJLy8gSWYgdGhpcyB3YXMgYW4gZW1wdHkgYW5pbWF0aW9uLCBz
eW50aGVzaXplIGEgZmluYWwgcHJvZ3Jlc3Mgbm90aWZpY2F0aW9uDQoJCQlpZiAoICFsZW5ndGgg
KSB7DQoJCQkJZGVmZXJyZWQubm90aWZ5V2l0aCggZWxlbSwgWyBhbmltYXRpb24sIDEsIDAgXSAp
Ow0KCQkJfQ0KDQoJCQkvLyBSZXNvbHZlIHRoZSBhbmltYXRpb24gYW5kIHJlcG9ydCBpdHMgY29u
Y2x1c2lvbg0KCQkJZGVmZXJyZWQucmVzb2x2ZVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uIF0gKTsN
CgkJCXJldHVybiBmYWxzZTsNCgkJfSwNCgkJYW5pbWF0aW9uID0gZGVmZXJyZWQucHJvbWlzZSgg
ew0KCQkJZWxlbTogZWxlbSwNCgkJCXByb3BzOiBqUXVlcnkuZXh0ZW5kKCB7fSwgcHJvcGVydGll
cyApLA0KCQkJb3B0czogalF1ZXJ5LmV4dGVuZCggdHJ1ZSwgew0KCQkJCXNwZWNpYWxFYXNpbmc6
IHt9LA0KCQkJCWVhc2luZzogalF1ZXJ5LmVhc2luZy5fZGVmYXVsdA0KCQkJfSwgb3B0aW9ucyAp
LA0KCQkJb3JpZ2luYWxQcm9wZXJ0aWVzOiBwcm9wZXJ0aWVzLA0KCQkJb3JpZ2luYWxPcHRpb25z
OiBvcHRpb25zLA0KCQkJc3RhcnRUaW1lOiBmeE5vdyB8fCBjcmVhdGVGeE5vdygpLA0KCQkJZHVy
YXRpb246IG9wdGlvbnMuZHVyYXRpb24sDQoJCQl0d2VlbnM6IFtdLA0KCQkJY3JlYXRlVHdlZW46
IGZ1bmN0aW9uKCBwcm9wLCBlbmQgKSB7DQoJCQkJdmFyIHR3ZWVuID0galF1ZXJ5LlR3ZWVuKCBl
bGVtLCBhbmltYXRpb24ub3B0cywgcHJvcCwgZW5kLA0KCQkJCQkJYW5pbWF0aW9uLm9wdHMuc3Bl
Y2lhbEVhc2luZ1sgcHJvcCBdIHx8IGFuaW1hdGlvbi5vcHRzLmVhc2luZyApOw0KCQkJCWFuaW1h
dGlvbi50d2VlbnMucHVzaCggdHdlZW4gKTsNCgkJCQlyZXR1cm4gdHdlZW47DQoJCQl9LA0KCQkJ
c3RvcDogZnVuY3Rpb24oIGdvdG9FbmQgKSB7DQoJCQkJdmFyIGluZGV4ID0gMCwNCg0KCQkJCQkv
LyBJZiB3ZSBhcmUgZ29pbmcgdG8gdGhlIGVuZCwgd2Ugd2FudCB0byBydW4gYWxsIHRoZSB0d2Vl
bnMNCgkJCQkJLy8gb3RoZXJ3aXNlIHdlIHNraXAgdGhpcyBwYXJ0DQoJCQkJCWxlbmd0aCA9IGdv
dG9FbmQgPyBhbmltYXRpb24udHdlZW5zLmxlbmd0aCA6IDA7DQoJCQkJaWYgKCBzdG9wcGVkICkg
ew0KCQkJCQlyZXR1cm4gdGhpczsNCgkJCQl9DQoJCQkJc3RvcHBlZCA9IHRydWU7DQoJCQkJZm9y
ICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHsNCgkJCQkJYW5pbWF0aW9uLnR3ZWVuc1sg
aW5kZXggXS5ydW4oIDEgKTsNCgkJCQl9DQoNCgkJCQkvLyBSZXNvbHZlIHdoZW4gd2UgcGxheWVk
IHRoZSBsYXN0IGZyYW1lOyBvdGhlcndpc2UsIHJlamVjdA0KCQkJCWlmICggZ290b0VuZCApIHsN
CgkJCQkJZGVmZXJyZWQubm90aWZ5V2l0aCggZWxlbSwgWyBhbmltYXRpb24sIDEsIDAgXSApOw0K
CQkJCQlkZWZlcnJlZC5yZXNvbHZlV2l0aCggZWxlbSwgWyBhbmltYXRpb24sIGdvdG9FbmQgXSAp
Ow0KCQkJCX0gZWxzZSB7DQoJCQkJCWRlZmVycmVkLnJlamVjdFdpdGgoIGVsZW0sIFsgYW5pbWF0
aW9uLCBnb3RvRW5kIF0gKTsNCgkJCQl9DQoJCQkJcmV0dXJuIHRoaXM7DQoJCQl9DQoJCX0gKSwN
CgkJcHJvcHMgPSBhbmltYXRpb24ucHJvcHM7DQoNCglwcm9wRmlsdGVyKCBwcm9wcywgYW5pbWF0
aW9uLm9wdHMuc3BlY2lhbEVhc2luZyApOw0KDQoJZm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5k
ZXgrKyApIHsNCgkJcmVzdWx0ID0gQW5pbWF0aW9uLnByZWZpbHRlcnNbIGluZGV4IF0uY2FsbCgg
YW5pbWF0aW9uLCBlbGVtLCBwcm9wcywgYW5pbWF0aW9uLm9wdHMgKTsNCgkJaWYgKCByZXN1bHQg
KSB7DQoJCQlpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCByZXN1bHQuc3RvcCApICkgew0KCQkJCWpR
dWVyeS5fcXVldWVIb29rcyggYW5pbWF0aW9uLmVsZW0sIGFuaW1hdGlvbi5vcHRzLnF1ZXVlICku
c3RvcCA9DQoJCQkJCWpRdWVyeS5wcm94eSggcmVzdWx0LnN0b3AsIHJlc3VsdCApOw0KCQkJfQ0K
CQkJcmV0dXJuIHJlc3VsdDsNCgkJfQ0KCX0NCg0KCWpRdWVyeS5tYXAoIHByb3BzLCBjcmVhdGVU
d2VlbiwgYW5pbWF0aW9uICk7DQoNCglpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBhbmltYXRpb24u
b3B0cy5zdGFydCApICkgew0KCQlhbmltYXRpb24ub3B0cy5zdGFydC5jYWxsKCBlbGVtLCBhbmlt
YXRpb24gKTsNCgl9DQoNCgkvLyBBdHRhY2ggY2FsbGJhY2tzIGZyb20gb3B0aW9ucw0KCWFuaW1h
dGlvbg0KCQkucHJvZ3Jlc3MoIGFuaW1hdGlvbi5vcHRzLnByb2dyZXNzICkNCgkJLmRvbmUoIGFu
aW1hdGlvbi5vcHRzLmRvbmUsIGFuaW1hdGlvbi5vcHRzLmNvbXBsZXRlICkNCgkJLmZhaWwoIGFu
aW1hdGlvbi5vcHRzLmZhaWwgKQ0KCQkuYWx3YXlzKCBhbmltYXRpb24ub3B0cy5hbHdheXMgKTsN
Cg0KCWpRdWVyeS5meC50aW1lcigNCgkJalF1ZXJ5LmV4dGVuZCggdGljaywgew0KCQkJZWxlbTog
ZWxlbSwNCgkJCWFuaW06IGFuaW1hdGlvbiwNCgkJCXF1ZXVlOiBhbmltYXRpb24ub3B0cy5xdWV1
ZQ0KCQl9ICkNCgkpOw0KDQoJcmV0dXJuIGFuaW1hdGlvbjsNCn0NCg0KalF1ZXJ5LkFuaW1hdGlv
biA9IGpRdWVyeS5leHRlbmQoIEFuaW1hdGlvbiwgew0KDQoJdHdlZW5lcnM6IHsNCgkJIioiOiBb
IGZ1bmN0aW9uKCBwcm9wLCB2YWx1ZSApIHsNCgkJCXZhciB0d2VlbiA9IHRoaXMuY3JlYXRlVHdl
ZW4oIHByb3AsIHZhbHVlICk7DQoJCQlhZGp1c3RDU1MoIHR3ZWVuLmVsZW0sIHByb3AsIHJjc3NO
dW0uZXhlYyggdmFsdWUgKSwgdHdlZW4gKTsNCgkJCXJldHVybiB0d2VlbjsNCgkJfSBdDQoJfSwN
Cg0KCXR3ZWVuZXI6IGZ1bmN0aW9uKCBwcm9wcywgY2FsbGJhY2sgKSB7DQoJCWlmICggalF1ZXJ5
LmlzRnVuY3Rpb24oIHByb3BzICkgKSB7DQoJCQljYWxsYmFjayA9IHByb3BzOw0KCQkJcHJvcHMg
PSBbICIqIiBdOw0KCQl9IGVsc2Ugew0KCQkJcHJvcHMgPSBwcm9wcy5tYXRjaCggcm5vdGh0bWx3
aGl0ZSApOw0KCQl9DQoNCgkJdmFyIHByb3AsDQoJCQlpbmRleCA9IDAsDQoJCQlsZW5ndGggPSBw
cm9wcy5sZW5ndGg7DQoNCgkJZm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHsNCgkJ
CXByb3AgPSBwcm9wc1sgaW5kZXggXTsNCgkJCUFuaW1hdGlvbi50d2VlbmVyc1sgcHJvcCBdID0g
QW5pbWF0aW9uLnR3ZWVuZXJzWyBwcm9wIF0gfHwgW107DQoJCQlBbmltYXRpb24udHdlZW5lcnNb
IHByb3AgXS51bnNoaWZ0KCBjYWxsYmFjayApOw0KCQl9DQoJfSwNCg0KCXByZWZpbHRlcnM6IFsg
ZGVmYXVsdFByZWZpbHRlciBdLA0KDQoJcHJlZmlsdGVyOiBmdW5jdGlvbiggY2FsbGJhY2ssIHBy
ZXBlbmQgKSB7DQoJCWlmICggcHJlcGVuZCApIHsNCgkJCUFuaW1hdGlvbi5wcmVmaWx0ZXJzLnVu
c2hpZnQoIGNhbGxiYWNrICk7DQoJCX0gZWxzZSB7DQoJCQlBbmltYXRpb24ucHJlZmlsdGVycy5w
dXNoKCBjYWxsYmFjayApOw0KCQl9DQoJfQ0KfSApOw0KDQpqUXVlcnkuc3BlZWQgPSBmdW5jdGlv
biggc3BlZWQsIGVhc2luZywgZm4gKSB7DQoJdmFyIG9wdCA9IHNwZWVkICYmIHR5cGVvZiBzcGVl
ZCA9PT0gIm9iamVjdCIgPyBqUXVlcnkuZXh0ZW5kKCB7fSwgc3BlZWQgKSA6IHsNCgkJY29tcGxl
dGU6IGZuIHx8ICFmbiAmJiBlYXNpbmcgfHwNCgkJCWpRdWVyeS5pc0Z1bmN0aW9uKCBzcGVlZCAp
ICYmIHNwZWVkLA0KCQlkdXJhdGlvbjogc3BlZWQsDQoJCWVhc2luZzogZm4gJiYgZWFzaW5nIHx8
IGVhc2luZyAmJiAhalF1ZXJ5LmlzRnVuY3Rpb24oIGVhc2luZyApICYmIGVhc2luZw0KCX07DQoN
CgkvLyBHbyB0byB0aGUgZW5kIHN0YXRlIGlmIGZ4IGFyZSBvZmYNCglpZiAoIGpRdWVyeS5meC5v
ZmYgKSB7DQoJCW9wdC5kdXJhdGlvbiA9IDA7DQoNCgl9IGVsc2Ugew0KCQlpZiAoIHR5cGVvZiBv
cHQuZHVyYXRpb24gIT09ICJudW1iZXIiICkgew0KCQkJaWYgKCBvcHQuZHVyYXRpb24gaW4galF1
ZXJ5LmZ4LnNwZWVkcyApIHsNCgkJCQlvcHQuZHVyYXRpb24gPSBqUXVlcnkuZnguc3BlZWRzWyBv
cHQuZHVyYXRpb24gXTsNCg0KCQkJfSBlbHNlIHsNCgkJCQlvcHQuZHVyYXRpb24gPSBqUXVlcnku
Znguc3BlZWRzLl9kZWZhdWx0Ow0KCQkJfQ0KCQl9DQoJfQ0KDQoJLy8gTm9ybWFsaXplIG9wdC5x
dWV1ZSAtIHRydWUvdW5kZWZpbmVkL251bGwgLT4gImZ4Ig0KCWlmICggb3B0LnF1ZXVlID09IG51
bGwgfHwgb3B0LnF1ZXVlID09PSB0cnVlICkgew0KCQlvcHQucXVldWUgPSAiZngiOw0KCX0NCg0K
CS8vIFF1ZXVlaW5nDQoJb3B0Lm9sZCA9IG9wdC5jb21wbGV0ZTsNCg0KCW9wdC5jb21wbGV0ZSA9
IGZ1bmN0aW9uKCkgew0KCQlpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBvcHQub2xkICkgKSB7DQoJ
CQlvcHQub2xkLmNhbGwoIHRoaXMgKTsNCgkJfQ0KDQoJCWlmICggb3B0LnF1ZXVlICkgew0KCQkJ
alF1ZXJ5LmRlcXVldWUoIHRoaXMsIG9wdC5xdWV1ZSApOw0KCQl9DQoJfTsNCg0KCXJldHVybiBv
cHQ7DQp9Ow0KDQpqUXVlcnkuZm4uZXh0ZW5kKCB7DQoJZmFkZVRvOiBmdW5jdGlvbiggc3BlZWQs
IHRvLCBlYXNpbmcsIGNhbGxiYWNrICkgew0KDQoJCS8vIFNob3cgYW55IGhpZGRlbiBlbGVtZW50
cyBhZnRlciBzZXR0aW5nIG9wYWNpdHkgdG8gMA0KCQlyZXR1cm4gdGhpcy5maWx0ZXIoIGlzSGlk
ZGVuV2l0aGluVHJlZSApLmNzcyggIm9wYWNpdHkiLCAwICkuc2hvdygpDQoNCgkJCS8vIEFuaW1h
dGUgdG8gdGhlIHZhbHVlIHNwZWNpZmllZA0KCQkJLmVuZCgpLmFuaW1hdGUoIHsgb3BhY2l0eTog
dG8gfSwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKTsNCgl9LA0KCWFuaW1hdGU6IGZ1bmN0aW9u
KCBwcm9wLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHsNCgkJdmFyIGVtcHR5ID0galF1ZXJ5
LmlzRW1wdHlPYmplY3QoIHByb3AgKSwNCgkJCW9wdGFsbCA9IGpRdWVyeS5zcGVlZCggc3BlZWQs
IGVhc2luZywgY2FsbGJhY2sgKSwNCgkJCWRvQW5pbWF0aW9uID0gZnVuY3Rpb24oKSB7DQoNCgkJ
CQkvLyBPcGVyYXRlIG9uIGEgY29weSBvZiBwcm9wIHNvIHBlci1wcm9wZXJ0eSBlYXNpbmcgd29u
J3QgYmUgbG9zdA0KCQkJCXZhciBhbmltID0gQW5pbWF0aW9uKCB0aGlzLCBqUXVlcnkuZXh0ZW5k
KCB7fSwgcHJvcCApLCBvcHRhbGwgKTsNCg0KCQkJCS8vIEVtcHR5IGFuaW1hdGlvbnMsIG9yIGZp
bmlzaGluZyByZXNvbHZlcyBpbW1lZGlhdGVseQ0KCQkJCWlmICggZW1wdHkgfHwgZGF0YVByaXYu
Z2V0KCB0aGlzLCAiZmluaXNoIiApICkgew0KCQkJCQlhbmltLnN0b3AoIHRydWUgKTsNCgkJCQl9
DQoJCQl9Ow0KCQkJZG9BbmltYXRpb24uZmluaXNoID0gZG9BbmltYXRpb247DQoNCgkJcmV0dXJu
IGVtcHR5IHx8IG9wdGFsbC5xdWV1ZSA9PT0gZmFsc2UgPw0KCQkJdGhpcy5lYWNoKCBkb0FuaW1h
dGlvbiApIDoNCgkJCXRoaXMucXVldWUoIG9wdGFsbC5xdWV1ZSwgZG9BbmltYXRpb24gKTsNCgl9
LA0KCXN0b3A6IGZ1bmN0aW9uKCB0eXBlLCBjbGVhclF1ZXVlLCBnb3RvRW5kICkgew0KCQl2YXIg
c3RvcFF1ZXVlID0gZnVuY3Rpb24oIGhvb2tzICkgew0KCQkJdmFyIHN0b3AgPSBob29rcy5zdG9w
Ow0KCQkJZGVsZXRlIGhvb2tzLnN0b3A7DQoJCQlzdG9wKCBnb3RvRW5kICk7DQoJCX07DQoNCgkJ
aWYgKCB0eXBlb2YgdHlwZSAhPT0gInN0cmluZyIgKSB7DQoJCQlnb3RvRW5kID0gY2xlYXJRdWV1
ZTsNCgkJCWNsZWFyUXVldWUgPSB0eXBlOw0KCQkJdHlwZSA9IHVuZGVmaW5lZDsNCgkJfQ0KCQlp
ZiAoIGNsZWFyUXVldWUgJiYgdHlwZSAhPT0gZmFsc2UgKSB7DQoJCQl0aGlzLnF1ZXVlKCB0eXBl
IHx8ICJmeCIsIFtdICk7DQoJCX0NCg0KCQlyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHsN
CgkJCXZhciBkZXF1ZXVlID0gdHJ1ZSwNCgkJCQlpbmRleCA9IHR5cGUgIT0gbnVsbCAmJiB0eXBl
ICsgInF1ZXVlSG9va3MiLA0KCQkJCXRpbWVycyA9IGpRdWVyeS50aW1lcnMsDQoJCQkJZGF0YSA9
IGRhdGFQcml2LmdldCggdGhpcyApOw0KDQoJCQlpZiAoIGluZGV4ICkgew0KCQkJCWlmICggZGF0
YVsgaW5kZXggXSAmJiBkYXRhWyBpbmRleCBdLnN0b3AgKSB7DQoJCQkJCXN0b3BRdWV1ZSggZGF0
YVsgaW5kZXggXSApOw0KCQkJCX0NCgkJCX0gZWxzZSB7DQoJCQkJZm9yICggaW5kZXggaW4gZGF0
YSApIHsNCgkJCQkJaWYgKCBkYXRhWyBpbmRleCBdICYmIGRhdGFbIGluZGV4IF0uc3RvcCAmJiBy
cnVuLnRlc3QoIGluZGV4ICkgKSB7DQoJCQkJCQlzdG9wUXVldWUoIGRhdGFbIGluZGV4IF0gKTsN
CgkJCQkJfQ0KCQkJCX0NCgkJCX0NCg0KCQkJZm9yICggaW5kZXggPSB0aW1lcnMubGVuZ3RoOyBp
bmRleC0tOyApIHsNCgkJCQlpZiAoIHRpbWVyc1sgaW5kZXggXS5lbGVtID09PSB0aGlzICYmDQoJ
CQkJCSggdHlwZSA9PSBudWxsIHx8IHRpbWVyc1sgaW5kZXggXS5xdWV1ZSA9PT0gdHlwZSApICkg
ew0KDQoJCQkJCXRpbWVyc1sgaW5kZXggXS5hbmltLnN0b3AoIGdvdG9FbmQgKTsNCgkJCQkJZGVx
dWV1ZSA9IGZhbHNlOw0KCQkJCQl0aW1lcnMuc3BsaWNlKCBpbmRleCwgMSApOw0KCQkJCX0NCgkJ
CX0NCg0KCQkJLy8gU3RhcnQgdGhlIG5leHQgaW4gdGhlIHF1ZXVlIGlmIHRoZSBsYXN0IHN0ZXAg
d2Fzbid0IGZvcmNlZC4NCgkJCS8vIFRpbWVycyBjdXJyZW50bHkgd2lsbCBjYWxsIHRoZWlyIGNv
bXBsZXRlIGNhbGxiYWNrcywgd2hpY2gNCgkJCS8vIHdpbGwgZGVxdWV1ZSBidXQgb25seSBpZiB0
aGV5IHdlcmUgZ290b0VuZC4NCgkJCWlmICggZGVxdWV1ZSB8fCAhZ290b0VuZCApIHsNCgkJCQlq
UXVlcnkuZGVxdWV1ZSggdGhpcywgdHlwZSApOw0KCQkJfQ0KCQl9ICk7DQoJfSwNCglmaW5pc2g6
IGZ1bmN0aW9uKCB0eXBlICkgew0KCQlpZiAoIHR5cGUgIT09IGZhbHNlICkgew0KCQkJdHlwZSA9
IHR5cGUgfHwgImZ4IjsNCgkJfQ0KCQlyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHsNCgkJ
CXZhciBpbmRleCwNCgkJCQlkYXRhID0gZGF0YVByaXYuZ2V0KCB0aGlzICksDQoJCQkJcXVldWUg
PSBkYXRhWyB0eXBlICsgInF1ZXVlIiBdLA0KCQkJCWhvb2tzID0gZGF0YVsgdHlwZSArICJxdWV1
ZUhvb2tzIiBdLA0KCQkJCXRpbWVycyA9IGpRdWVyeS50aW1lcnMsDQoJCQkJbGVuZ3RoID0gcXVl
dWUgPyBxdWV1ZS5sZW5ndGggOiAwOw0KDQoJCQkvLyBFbmFibGUgZmluaXNoaW5nIGZsYWcgb24g
cHJpdmF0ZSBkYXRhDQoJCQlkYXRhLmZpbmlzaCA9IHRydWU7DQoNCgkJCS8vIEVtcHR5IHRoZSBx
dWV1ZSBmaXJzdA0KCQkJalF1ZXJ5LnF1ZXVlKCB0aGlzLCB0eXBlLCBbXSApOw0KDQoJCQlpZiAo
IGhvb2tzICYmIGhvb2tzLnN0b3AgKSB7DQoJCQkJaG9va3Muc3RvcC5jYWxsKCB0aGlzLCB0cnVl
ICk7DQoJCQl9DQoNCgkJCS8vIExvb2sgZm9yIGFueSBhY3RpdmUgYW5pbWF0aW9ucywgYW5kIGZp
bmlzaCB0aGVtDQoJCQlmb3IgKCBpbmRleCA9IHRpbWVycy5sZW5ndGg7IGluZGV4LS07ICkgew0K
CQkJCWlmICggdGltZXJzWyBpbmRleCBdLmVsZW0gPT09IHRoaXMgJiYgdGltZXJzWyBpbmRleCBd
LnF1ZXVlID09PSB0eXBlICkgew0KCQkJCQl0aW1lcnNbIGluZGV4IF0uYW5pbS5zdG9wKCB0cnVl
ICk7DQoJCQkJCXRpbWVycy5zcGxpY2UoIGluZGV4LCAxICk7DQoJCQkJfQ0KCQkJfQ0KDQoJCQkv
LyBMb29rIGZvciBhbnkgYW5pbWF0aW9ucyBpbiB0aGUgb2xkIHF1ZXVlIGFuZCBmaW5pc2ggdGhl
bQ0KCQkJZm9yICggaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHsNCgkJCQlp
ZiAoIHF1ZXVlWyBpbmRleCBdICYmIHF1ZXVlWyBpbmRleCBdLmZpbmlzaCApIHsNCgkJCQkJcXVl
dWVbIGluZGV4IF0uZmluaXNoLmNhbGwoIHRoaXMgKTsNCgkJCQl9DQoJCQl9DQoNCgkJCS8vIFR1
cm4gb2ZmIGZpbmlzaGluZyBmbGFnDQoJCQlkZWxldGUgZGF0YS5maW5pc2g7DQoJCX0gKTsNCgl9
DQp9ICk7DQoNCmpRdWVyeS5lYWNoKCBbICJ0b2dnbGUiLCAic2hvdyIsICJoaWRlIiBdLCBmdW5j
dGlvbiggaSwgbmFtZSApIHsNCgl2YXIgY3NzRm4gPSBqUXVlcnkuZm5bIG5hbWUgXTsNCglqUXVl
cnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHsNCgkJ
cmV0dXJuIHNwZWVkID09IG51bGwgfHwgdHlwZW9mIHNwZWVkID09PSAiYm9vbGVhbiIgPw0KCQkJ
Y3NzRm4uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApIDoNCgkJCXRoaXMuYW5pbWF0ZSggZ2VuRngo
IG5hbWUsIHRydWUgKSwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKTsNCgl9Ow0KfSApOw0KDQov
LyBHZW5lcmF0ZSBzaG9ydGN1dHMgZm9yIGN1c3RvbSBhbmltYXRpb25zDQpqUXVlcnkuZWFjaCgg
ew0KCXNsaWRlRG93bjogZ2VuRngoICJzaG93IiApLA0KCXNsaWRlVXA6IGdlbkZ4KCAiaGlkZSIg
KSwNCglzbGlkZVRvZ2dsZTogZ2VuRngoICJ0b2dnbGUiICksDQoJZmFkZUluOiB7IG9wYWNpdHk6
ICJzaG93IiB9LA0KCWZhZGVPdXQ6IHsgb3BhY2l0eTogImhpZGUiIH0sDQoJZmFkZVRvZ2dsZTog
eyBvcGFjaXR5OiAidG9nZ2xlIiB9DQp9LCBmdW5jdGlvbiggbmFtZSwgcHJvcHMgKSB7DQoJalF1
ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSB7DQoJ
CXJldHVybiB0aGlzLmFuaW1hdGUoIHByb3BzLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApOw0K
CX07DQp9ICk7DQoNCmpRdWVyeS50aW1lcnMgPSBbXTsNCmpRdWVyeS5meC50aWNrID0gZnVuY3Rp
b24oKSB7DQoJdmFyIHRpbWVyLA0KCQlpID0gMCwNCgkJdGltZXJzID0galF1ZXJ5LnRpbWVyczsN
Cg0KCWZ4Tm93ID0galF1ZXJ5Lm5vdygpOw0KDQoJZm9yICggOyBpIDwgdGltZXJzLmxlbmd0aDsg
aSsrICkgew0KCQl0aW1lciA9IHRpbWVyc1sgaSBdOw0KDQoJCS8vIFJ1biB0aGUgdGltZXIgYW5k
IHNhZmVseSByZW1vdmUgaXQgd2hlbiBkb25lIChhbGxvd2luZyBmb3IgZXh0ZXJuYWwgcmVtb3Zh
bCkNCgkJaWYgKCAhdGltZXIoKSAmJiB0aW1lcnNbIGkgXSA9PT0gdGltZXIgKSB7DQoJCQl0aW1l
cnMuc3BsaWNlKCBpLS0sIDEgKTsNCgkJfQ0KCX0NCg0KCWlmICggIXRpbWVycy5sZW5ndGggKSB7
DQoJCWpRdWVyeS5meC5zdG9wKCk7DQoJfQ0KCWZ4Tm93ID0gdW5kZWZpbmVkOw0KfTsNCg0KalF1
ZXJ5LmZ4LnRpbWVyID0gZnVuY3Rpb24oIHRpbWVyICkgew0KCWpRdWVyeS50aW1lcnMucHVzaCgg
dGltZXIgKTsNCglqUXVlcnkuZnguc3RhcnQoKTsNCn07DQoNCmpRdWVyeS5meC5pbnRlcnZhbCA9
IDEzOw0KalF1ZXJ5LmZ4LnN0YXJ0ID0gZnVuY3Rpb24oKSB7DQoJaWYgKCBpblByb2dyZXNzICkg
ew0KCQlyZXR1cm47DQoJfQ0KDQoJaW5Qcm9ncmVzcyA9IHRydWU7DQoJc2NoZWR1bGUoKTsNCn07
DQoNCmpRdWVyeS5meC5zdG9wID0gZnVuY3Rpb24oKSB7DQoJaW5Qcm9ncmVzcyA9IG51bGw7DQp9
Ow0KDQpqUXVlcnkuZnguc3BlZWRzID0gew0KCXNsb3c6IDYwMCwNCglmYXN0OiAyMDAsDQoNCgkv
LyBEZWZhdWx0IHNwZWVkDQoJX2RlZmF1bHQ6IDQwMA0KfTsNCg0KDQovLyBCYXNlZCBvZmYgb2Yg
dGhlIHBsdWdpbiBieSBDbGludCBIZWxmZXJzLCB3aXRoIHBlcm1pc3Npb24uDQovLyBodHRwczov
L3dlYi5hcmNoaXZlLm9yZy93ZWIvMjAxMDAzMjQwMTQ3NDcvaHR0cDovL2JsaW5kc2lnbmFscy5j
b20vaW5kZXgucGhwLzIwMDkvMDcvanF1ZXJ5LWRlbGF5Lw0KalF1ZXJ5LmZuLmRlbGF5ID0gZnVu
Y3Rpb24oIHRpbWUsIHR5cGUgKSB7DQoJdGltZSA9IGpRdWVyeS5meCA/IGpRdWVyeS5meC5zcGVl
ZHNbIHRpbWUgXSB8fCB0aW1lIDogdGltZTsNCgl0eXBlID0gdHlwZSB8fCAiZngiOw0KDQoJcmV0
dXJuIHRoaXMucXVldWUoIHR5cGUsIGZ1bmN0aW9uKCBuZXh0LCBob29rcyApIHsNCgkJdmFyIHRp
bWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCggbmV4dCwgdGltZSApOw0KCQlob29rcy5zdG9wID0g
ZnVuY3Rpb24oKSB7DQoJCQl3aW5kb3cuY2xlYXJUaW1lb3V0KCB0aW1lb3V0ICk7DQoJCX07DQoJ
fSApOw0KfTsNCg0KDQooIGZ1bmN0aW9uKCkgew0KCXZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0
ZUVsZW1lbnQoICJpbnB1dCIgKSwNCgkJc2VsZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgg
InNlbGVjdCIgKSwNCgkJb3B0ID0gc2VsZWN0LmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVF
bGVtZW50KCAib3B0aW9uIiApICk7DQoNCglpbnB1dC50eXBlID0gImNoZWNrYm94IjsNCg0KCS8v
IFN1cHBvcnQ6IEFuZHJvaWQgPD00LjMgb25seQ0KCS8vIERlZmF1bHQgdmFsdWUgZm9yIGEgY2hl
Y2tib3ggc2hvdWxkIGJlICJvbiINCglzdXBwb3J0LmNoZWNrT24gPSBpbnB1dC52YWx1ZSAhPT0g
IiI7DQoNCgkvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHkNCgkvLyBNdXN0IGFjY2VzcyBzZWxlY3Rl
ZEluZGV4IHRvIG1ha2UgZGVmYXVsdCBvcHRpb25zIHNlbGVjdA0KCXN1cHBvcnQub3B0U2VsZWN0
ZWQgPSBvcHQuc2VsZWN0ZWQ7DQoNCgkvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHkNCgkvLyBBbiBp
bnB1dCBsb3NlcyBpdHMgdmFsdWUgYWZ0ZXIgYmVjb21pbmcgYSByYWRpbw0KCWlucHV0ID0gZG9j
dW1lbnQuY3JlYXRlRWxlbWVudCggImlucHV0IiApOw0KCWlucHV0LnZhbHVlID0gInQiOw0KCWlu
cHV0LnR5cGUgPSAicmFkaW8iOw0KCXN1cHBvcnQucmFkaW9WYWx1ZSA9IGlucHV0LnZhbHVlID09
PSAidCI7DQp9ICkoKTsNCg0KDQp2YXIgYm9vbEhvb2ssDQoJYXR0ckhhbmRsZSA9IGpRdWVyeS5l
eHByLmF0dHJIYW5kbGU7DQoNCmpRdWVyeS5mbi5leHRlbmQoIHsNCglhdHRyOiBmdW5jdGlvbigg
bmFtZSwgdmFsdWUgKSB7DQoJCXJldHVybiBhY2Nlc3MoIHRoaXMsIGpRdWVyeS5hdHRyLCBuYW1l
LCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEgKTsNCgl9LA0KDQoJcmVtb3ZlQXR0cjogZnVu
Y3Rpb24oIG5hbWUgKSB7DQoJCXJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkgew0KCQkJalF1
ZXJ5LnJlbW92ZUF0dHIoIHRoaXMsIG5hbWUgKTsNCgkJfSApOw0KCX0NCn0gKTsNCg0KalF1ZXJ5
LmV4dGVuZCggew0KCWF0dHI6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSApIHsNCgkJdmFy
IHJldCwgaG9va3MsDQoJCQluVHlwZSA9IGVsZW0ubm9kZVR5cGU7DQoNCgkJLy8gRG9uJ3QgZ2V0
L3NldCBhdHRyaWJ1dGVzIG9uIHRleHQsIGNvbW1lbnQgYW5kIGF0dHJpYnV0ZSBub2Rlcw0KCQlp
ZiAoIG5UeXBlID09PSAzIHx8IG5UeXBlID09PSA4IHx8IG5UeXBlID09PSAyICkgew0KCQkJcmV0
dXJuOw0KCQl9DQoNCgkJLy8gRmFsbGJhY2sgdG8gcHJvcCB3aGVuIGF0dHJpYnV0ZXMgYXJlIG5v
dCBzdXBwb3J0ZWQNCgkJaWYgKCB0eXBlb2YgZWxlbS5nZXRBdHRyaWJ1dGUgPT09ICJ1bmRlZmlu
ZWQiICkgew0KCQkJcmV0dXJuIGpRdWVyeS5wcm9wKCBlbGVtLCBuYW1lLCB2YWx1ZSApOw0KCQl9
DQoNCgkJLy8gQXR0cmlidXRlIGhvb2tzIGFyZSBkZXRlcm1pbmVkIGJ5IHRoZSBsb3dlcmNhc2Ug
dmVyc2lvbg0KCQkvLyBHcmFiIG5lY2Vzc2FyeSBob29rIGlmIG9uZSBpcyBkZWZpbmVkDQoJCWlm
ICggblR5cGUgIT09IDEgfHwgIWpRdWVyeS5pc1hNTERvYyggZWxlbSApICkgew0KCQkJaG9va3Mg
PSBqUXVlcnkuYXR0ckhvb2tzWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSB8fA0KCQkJCSggalF1ZXJ5
LmV4cHIubWF0Y2guYm9vbC50ZXN0KCBuYW1lICkgPyBib29sSG9vayA6IHVuZGVmaW5lZCApOw0K
CQl9DQoNCgkJaWYgKCB2YWx1ZSAhPT0gdW5kZWZpbmVkICkgew0KCQkJaWYgKCB2YWx1ZSA9PT0g
bnVsbCApIHsNCgkJCQlqUXVlcnkucmVtb3ZlQXR0ciggZWxlbSwgbmFtZSApOw0KCQkJCXJldHVy
bjsNCgkJCX0NCg0KCQkJaWYgKCBob29rcyAmJiAic2V0IiBpbiBob29rcyAmJg0KCQkJCSggcmV0
ID0gaG9va3Muc2V0KCBlbGVtLCB2YWx1ZSwgbmFtZSApICkgIT09IHVuZGVmaW5lZCApIHsNCgkJ
CQlyZXR1cm4gcmV0Ow0KCQkJfQ0KDQoJCQllbGVtLnNldEF0dHJpYnV0ZSggbmFtZSwgdmFsdWUg
KyAiIiApOw0KCQkJcmV0dXJuIHZhbHVlOw0KCQl9DQoNCgkJaWYgKCBob29rcyAmJiAiZ2V0IiBp
biBob29rcyAmJiAoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgbmFtZSApICkgIT09IG51bGwgKSB7
DQoJCQlyZXR1cm4gcmV0Ow0KCQl9DQoNCgkJcmV0ID0galF1ZXJ5LmZpbmQuYXR0ciggZWxlbSwg
bmFtZSApOw0KDQoJCS8vIE5vbi1leGlzdGVudCBhdHRyaWJ1dGVzIHJldHVybiBudWxsLCB3ZSBu
b3JtYWxpemUgdG8gdW5kZWZpbmVkDQoJCXJldHVybiByZXQgPT0gbnVsbCA/IHVuZGVmaW5lZCA6
IHJldDsNCgl9LA0KDQoJYXR0ckhvb2tzOiB7DQoJCXR5cGU6IHsNCgkJCXNldDogZnVuY3Rpb24o
IGVsZW0sIHZhbHVlICkgew0KCQkJCWlmICggIXN1cHBvcnQucmFkaW9WYWx1ZSAmJiB2YWx1ZSA9
PT0gInJhZGlvIiAmJg0KCQkJCQlub2RlTmFtZSggZWxlbSwgImlucHV0IiApICkgew0KCQkJCQl2
YXIgdmFsID0gZWxlbS52YWx1ZTsNCgkJCQkJZWxlbS5zZXRBdHRyaWJ1dGUoICJ0eXBlIiwgdmFs
dWUgKTsNCgkJCQkJaWYgKCB2YWwgKSB7DQoJCQkJCQllbGVtLnZhbHVlID0gdmFsOw0KCQkJCQl9
DQoJCQkJCXJldHVybiB2YWx1ZTsNCgkJCQl9DQoJCQl9DQoJCX0NCgl9LA0KDQoJcmVtb3ZlQXR0
cjogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkgew0KCQl2YXIgbmFtZSwNCgkJCWkgPSAwLA0KDQoJ
CQkvLyBBdHRyaWJ1dGUgbmFtZXMgY2FuIGNvbnRhaW4gbm9uLUhUTUwgd2hpdGVzcGFjZSBjaGFy
YWN0ZXJzDQoJCQkvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50
YXguaHRtbCNhdHRyaWJ1dGVzLTINCgkJCWF0dHJOYW1lcyA9IHZhbHVlICYmIHZhbHVlLm1hdGNo
KCBybm90aHRtbHdoaXRlICk7DQoNCgkJaWYgKCBhdHRyTmFtZXMgJiYgZWxlbS5ub2RlVHlwZSA9
PT0gMSApIHsNCgkJCXdoaWxlICggKCBuYW1lID0gYXR0ck5hbWVzWyBpKysgXSApICkgew0KCQkJ
CWVsZW0ucmVtb3ZlQXR0cmlidXRlKCBuYW1lICk7DQoJCQl9DQoJCX0NCgl9DQp9ICk7DQoNCi8v
IEhvb2tzIGZvciBib29sZWFuIGF0dHJpYnV0ZXMNCmJvb2xIb29rID0gew0KCXNldDogZnVuY3Rp
b24oIGVsZW0sIHZhbHVlLCBuYW1lICkgew0KCQlpZiAoIHZhbHVlID09PSBmYWxzZSApIHsNCg0K
CQkJLy8gUmVtb3ZlIGJvb2xlYW4gYXR0cmlidXRlcyB3aGVuIHNldCB0byBmYWxzZQ0KCQkJalF1
ZXJ5LnJlbW92ZUF0dHIoIGVsZW0sIG5hbWUgKTsNCgkJfSBlbHNlIHsNCgkJCWVsZW0uc2V0QXR0
cmlidXRlKCBuYW1lLCBuYW1lICk7DQoJCX0NCgkJcmV0dXJuIG5hbWU7DQoJfQ0KfTsNCg0KalF1
ZXJ5LmVhY2goIGpRdWVyeS5leHByLm1hdGNoLmJvb2wuc291cmNlLm1hdGNoKCAvXHcrL2cgKSwg
ZnVuY3Rpb24oIGksIG5hbWUgKSB7DQoJdmFyIGdldHRlciA9IGF0dHJIYW5kbGVbIG5hbWUgXSB8
fCBqUXVlcnkuZmluZC5hdHRyOw0KDQoJYXR0ckhhbmRsZVsgbmFtZSBdID0gZnVuY3Rpb24oIGVs
ZW0sIG5hbWUsIGlzWE1MICkgew0KCQl2YXIgcmV0LCBoYW5kbGUsDQoJCQlsb3dlcmNhc2VOYW1l
ID0gbmFtZS50b0xvd2VyQ2FzZSgpOw0KDQoJCWlmICggIWlzWE1MICkgew0KDQoJCQkvLyBBdm9p
ZCBhbiBpbmZpbml0ZSBsb29wIGJ5IHRlbXBvcmFyaWx5IHJlbW92aW5nIHRoaXMgZnVuY3Rpb24g
ZnJvbSB0aGUgZ2V0dGVyDQoJCQloYW5kbGUgPSBhdHRySGFuZGxlWyBsb3dlcmNhc2VOYW1lIF07
DQoJCQlhdHRySGFuZGxlWyBsb3dlcmNhc2VOYW1lIF0gPSByZXQ7DQoJCQlyZXQgPSBnZXR0ZXIo
IGVsZW0sIG5hbWUsIGlzWE1MICkgIT0gbnVsbCA/DQoJCQkJbG93ZXJjYXNlTmFtZSA6DQoJCQkJ
bnVsbDsNCgkJCWF0dHJIYW5kbGVbIGxvd2VyY2FzZU5hbWUgXSA9IGhhbmRsZTsNCgkJfQ0KCQly
ZXR1cm4gcmV0Ow0KCX07DQp9ICk7DQoNCg0KDQoNCnZhciByZm9jdXNhYmxlID0gL14oPzppbnB1
dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSwNCglyY2xpY2thYmxlID0gL14oPzphfGFyZWEp
JC9pOw0KDQpqUXVlcnkuZm4uZXh0ZW5kKCB7DQoJcHJvcDogZnVuY3Rpb24oIG5hbWUsIHZhbHVl
ICkgew0KCQlyZXR1cm4gYWNjZXNzKCB0aGlzLCBqUXVlcnkucHJvcCwgbmFtZSwgdmFsdWUsIGFy
Z3VtZW50cy5sZW5ndGggPiAxICk7DQoJfSwNCg0KCXJlbW92ZVByb3A6IGZ1bmN0aW9uKCBuYW1l
ICkgew0KCQlyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHsNCgkJCWRlbGV0ZSB0aGlzWyBq
UXVlcnkucHJvcEZpeFsgbmFtZSBdIHx8IG5hbWUgXTsNCgkJfSApOw0KCX0NCn0gKTsNCg0KalF1
ZXJ5LmV4dGVuZCggew0KCXByb3A6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSApIHsNCgkJ
dmFyIHJldCwgaG9va3MsDQoJCQluVHlwZSA9IGVsZW0ubm9kZVR5cGU7DQoNCgkJLy8gRG9uJ3Qg
Z2V0L3NldCBwcm9wZXJ0aWVzIG9uIHRleHQsIGNvbW1lbnQgYW5kIGF0dHJpYnV0ZSBub2Rlcw0K
CQlpZiAoIG5UeXBlID09PSAzIHx8IG5UeXBlID09PSA4IHx8IG5UeXBlID09PSAyICkgew0KCQkJ
cmV0dXJuOw0KCQl9DQoNCgkJaWYgKCBuVHlwZSAhPT0gMSB8fCAhalF1ZXJ5LmlzWE1MRG9jKCBl
bGVtICkgKSB7DQoNCgkJCS8vIEZpeCBuYW1lIGFuZCBhdHRhY2ggaG9va3MNCgkJCW5hbWUgPSBq
UXVlcnkucHJvcEZpeFsgbmFtZSBdIHx8IG5hbWU7DQoJCQlob29rcyA9IGpRdWVyeS5wcm9wSG9v
a3NbIG5hbWUgXTsNCgkJfQ0KDQoJCWlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHsNCgkJCWlm
ICggaG9va3MgJiYgInNldCIgaW4gaG9va3MgJiYNCgkJCQkoIHJldCA9IGhvb2tzLnNldCggZWxl
bSwgdmFsdWUsIG5hbWUgKSApICE9PSB1bmRlZmluZWQgKSB7DQoJCQkJcmV0dXJuIHJldDsNCgkJ
CX0NCg0KCQkJcmV0dXJuICggZWxlbVsgbmFtZSBdID0gdmFsdWUgKTsNCgkJfQ0KDQoJCWlmICgg
aG9va3MgJiYgImdldCIgaW4gaG9va3MgJiYgKCByZXQgPSBob29rcy5nZXQoIGVsZW0sIG5hbWUg
KSApICE9PSBudWxsICkgew0KCQkJcmV0dXJuIHJldDsNCgkJfQ0KDQoJCXJldHVybiBlbGVtWyBu
YW1lIF07DQoJfSwNCg0KCXByb3BIb29rczogew0KCQl0YWJJbmRleDogew0KCQkJZ2V0OiBmdW5j
dGlvbiggZWxlbSApIHsNCg0KCQkJCS8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHkNCgkJCQkv
LyBlbGVtLnRhYkluZGV4IGRvZXNuJ3QgYWx3YXlzIHJldHVybiB0aGUNCgkJCQkvLyBjb3JyZWN0
IHZhbHVlIHdoZW4gaXQgaGFzbid0IGJlZW4gZXhwbGljaXRseSBzZXQNCgkJCQkvLyBodHRwczov
L3dlYi5hcmNoaXZlLm9yZy93ZWIvMjAxNDExMTYyMzMzNDcvaHR0cDovL2ZsdWlkcHJvamVjdC5v
cmcvYmxvZy8yMDA4LzAxLzA5L2dldHRpbmctc2V0dGluZy1hbmQtcmVtb3ZpbmctdGFiaW5kZXgt
dmFsdWVzLXdpdGgtamF2YXNjcmlwdC8NCgkJCQkvLyBVc2UgcHJvcGVyIGF0dHJpYnV0ZSByZXRy
aWV2YWwoIzEyMDcyKQ0KCQkJCXZhciB0YWJpbmRleCA9IGpRdWVyeS5maW5kLmF0dHIoIGVsZW0s
ICJ0YWJpbmRleCIgKTsNCg0KCQkJCWlmICggdGFiaW5kZXggKSB7DQoJCQkJCXJldHVybiBwYXJz
ZUludCggdGFiaW5kZXgsIDEwICk7DQoJCQkJfQ0KDQoJCQkJaWYgKA0KCQkJCQlyZm9jdXNhYmxl
LnRlc3QoIGVsZW0ubm9kZU5hbWUgKSB8fA0KCQkJCQlyY2xpY2thYmxlLnRlc3QoIGVsZW0ubm9k
ZU5hbWUgKSAmJg0KCQkJCQllbGVtLmhyZWYNCgkJCQkpIHsNCgkJCQkJcmV0dXJuIDA7DQoJCQkJ
fQ0KDQoJCQkJcmV0dXJuIC0xOw0KCQkJfQ0KCQl9DQoJfSwNCg0KCXByb3BGaXg6IHsNCgkJImZv
ciI6ICJodG1sRm9yIiwNCgkJImNsYXNzIjogImNsYXNzTmFtZSINCgl9DQp9ICk7DQoNCi8vIFN1
cHBvcnQ6IElFIDw9MTEgb25seQ0KLy8gQWNjZXNzaW5nIHRoZSBzZWxlY3RlZEluZGV4IHByb3Bl
cnR5DQovLyBmb3JjZXMgdGhlIGJyb3dzZXIgdG8gcmVzcGVjdCBzZXR0aW5nIHNlbGVjdGVkDQov
LyBvbiB0aGUgb3B0aW9uDQovLyBUaGUgZ2V0dGVyIGVuc3VyZXMgYSBkZWZhdWx0IG9wdGlvbiBp
cyBzZWxlY3RlZA0KLy8gd2hlbiBpbiBhbiBvcHRncm91cA0KLy8gZXNsaW50IHJ1bGUgIm5vLXVu
dXNlZC1leHByZXNzaW9ucyIgaXMgZGlzYWJsZWQgZm9yIHRoaXMgY29kZQ0KLy8gc2luY2UgaXQg
Y29uc2lkZXJzIHN1Y2ggYWNjZXNzaW9ucyBub29wDQppZiAoICFzdXBwb3J0Lm9wdFNlbGVjdGVk
ICkgew0KCWpRdWVyeS5wcm9wSG9va3Muc2VsZWN0ZWQgPSB7DQoJCWdldDogZnVuY3Rpb24oIGVs
ZW0gKSB7DQoNCgkJCS8qIGVzbGludCBuby11bnVzZWQtZXhwcmVzc2lvbnM6ICJvZmYiICovDQoN
CgkJCXZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7DQoJCQlpZiAoIHBhcmVudCAmJiBwYXJl
bnQucGFyZW50Tm9kZSApIHsNCgkJCQlwYXJlbnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4Ow0K
CQkJfQ0KCQkJcmV0dXJuIG51bGw7DQoJCX0sDQoJCXNldDogZnVuY3Rpb24oIGVsZW0gKSB7DQoN
CgkJCS8qIGVzbGludCBuby11bnVzZWQtZXhwcmVzc2lvbnM6ICJvZmYiICovDQoNCgkJCXZhciBw
YXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7DQoJCQlpZiAoIHBhcmVudCApIHsNCgkJCQlwYXJlbnQu
c2VsZWN0ZWRJbmRleDsNCg0KCQkJCWlmICggcGFyZW50LnBhcmVudE5vZGUgKSB7DQoJCQkJCXBh
cmVudC5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXg7DQoJCQkJfQ0KCQkJfQ0KCQl9DQoJfTsNCn0N
Cg0KalF1ZXJ5LmVhY2goIFsNCgkidGFiSW5kZXgiLA0KCSJyZWFkT25seSIsDQoJIm1heExlbmd0
aCIsDQoJImNlbGxTcGFjaW5nIiwNCgkiY2VsbFBhZGRpbmciLA0KCSJyb3dTcGFuIiwNCgkiY29s
U3BhbiIsDQoJInVzZU1hcCIsDQoJImZyYW1lQm9yZGVyIiwNCgkiY29udGVudEVkaXRhYmxlIg0K
XSwgZnVuY3Rpb24oKSB7DQoJalF1ZXJ5LnByb3BGaXhbIHRoaXMudG9Mb3dlckNhc2UoKSBdID0g
dGhpczsNCn0gKTsNCg0KDQoNCg0KCS8vIFN0cmlwIGFuZCBjb2xsYXBzZSB3aGl0ZXNwYWNlIGFj
Y29yZGluZyB0byBIVE1MIHNwZWMNCgkvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211
bHRpcGFnZS9pbmZyYXN0cnVjdHVyZS5odG1sI3N0cmlwLWFuZC1jb2xsYXBzZS13aGl0ZXNwYWNl
DQoJZnVuY3Rpb24gc3RyaXBBbmRDb2xsYXBzZSggdmFsdWUgKSB7DQoJCXZhciB0b2tlbnMgPSB2
YWx1ZS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFtdOw0KCQlyZXR1cm4gdG9rZW5zLmpvaW4o
ICIgIiApOw0KCX0NCg0KDQpmdW5jdGlvbiBnZXRDbGFzcyggZWxlbSApIHsNCglyZXR1cm4gZWxl
bS5nZXRBdHRyaWJ1dGUgJiYgZWxlbS5nZXRBdHRyaWJ1dGUoICJjbGFzcyIgKSB8fCAiIjsNCn0N
Cg0KalF1ZXJ5LmZuLmV4dGVuZCggew0KCWFkZENsYXNzOiBmdW5jdGlvbiggdmFsdWUgKSB7DQoJ
CXZhciBjbGFzc2VzLCBlbGVtLCBjdXIsIGN1clZhbHVlLCBjbGF6eiwgaiwgZmluYWxWYWx1ZSwN
CgkJCWkgPSAwOw0KDQoJCWlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICkgKSB7DQoJCQly
ZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaiApIHsNCgkJCQlqUXVlcnkoIHRoaXMgKS5hZGRD
bGFzcyggdmFsdWUuY2FsbCggdGhpcywgaiwgZ2V0Q2xhc3MoIHRoaXMgKSApICk7DQoJCQl9ICk7
DQoJCX0NCg0KCQlpZiAoIHR5cGVvZiB2YWx1ZSA9PT0gInN0cmluZyIgJiYgdmFsdWUgKSB7DQoJ
CQljbGFzc2VzID0gdmFsdWUubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbXTsNCg0KCQkJd2hp
bGUgKCAoIGVsZW0gPSB0aGlzWyBpKysgXSApICkgew0KCQkJCWN1clZhbHVlID0gZ2V0Q2xhc3Mo
IGVsZW0gKTsNCgkJCQljdXIgPSBlbGVtLm5vZGVUeXBlID09PSAxICYmICggIiAiICsgc3RyaXBB
bmRDb2xsYXBzZSggY3VyVmFsdWUgKSArICIgIiApOw0KDQoJCQkJaWYgKCBjdXIgKSB7DQoJCQkJ
CWogPSAwOw0KCQkJCQl3aGlsZSAoICggY2xhenogPSBjbGFzc2VzWyBqKysgXSApICkgew0KCQkJ
CQkJaWYgKCBjdXIuaW5kZXhPZiggIiAiICsgY2xhenogKyAiICIgKSA8IDAgKSB7DQoJCQkJCQkJ
Y3VyICs9IGNsYXp6ICsgIiAiOw0KCQkJCQkJfQ0KCQkJCQl9DQoNCgkJCQkJLy8gT25seSBhc3Np
Z24gaWYgZGlmZmVyZW50IHRvIGF2b2lkIHVubmVlZGVkIHJlbmRlcmluZy4NCgkJCQkJZmluYWxW
YWx1ZSA9IHN0cmlwQW5kQ29sbGFwc2UoIGN1ciApOw0KCQkJCQlpZiAoIGN1clZhbHVlICE9PSBm
aW5hbFZhbHVlICkgew0KCQkJCQkJZWxlbS5zZXRBdHRyaWJ1dGUoICJjbGFzcyIsIGZpbmFsVmFs
dWUgKTsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0NCgkJfQ0KDQoJCXJldHVybiB0aGlzOw0KCX0sDQoN
CglyZW1vdmVDbGFzczogZnVuY3Rpb24oIHZhbHVlICkgew0KCQl2YXIgY2xhc3NlcywgZWxlbSwg
Y3VyLCBjdXJWYWx1ZSwgY2xhenosIGosIGZpbmFsVmFsdWUsDQoJCQlpID0gMDsNCg0KCQlpZiAo
IGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApICkgew0KCQkJcmV0dXJuIHRoaXMuZWFjaCggZnVu
Y3Rpb24oIGogKSB7DQoJCQkJalF1ZXJ5KCB0aGlzICkucmVtb3ZlQ2xhc3MoIHZhbHVlLmNhbGwo
IHRoaXMsIGosIGdldENsYXNzKCB0aGlzICkgKSApOw0KCQkJfSApOw0KCQl9DQoNCgkJaWYgKCAh
YXJndW1lbnRzLmxlbmd0aCApIHsNCgkJCXJldHVybiB0aGlzLmF0dHIoICJjbGFzcyIsICIiICk7
DQoJCX0NCg0KCQlpZiAoIHR5cGVvZiB2YWx1ZSA9PT0gInN0cmluZyIgJiYgdmFsdWUgKSB7DQoJ
CQljbGFzc2VzID0gdmFsdWUubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbXTsNCg0KCQkJd2hp
bGUgKCAoIGVsZW0gPSB0aGlzWyBpKysgXSApICkgew0KCQkJCWN1clZhbHVlID0gZ2V0Q2xhc3Mo
IGVsZW0gKTsNCg0KCQkJCS8vIFRoaXMgZXhwcmVzc2lvbiBpcyBoZXJlIGZvciBiZXR0ZXIgY29t
cHJlc3NpYmlsaXR5IChzZWUgYWRkQ2xhc3MpDQoJCQkJY3VyID0gZWxlbS5ub2RlVHlwZSA9PT0g
MSAmJiAoICIgIiArIHN0cmlwQW5kQ29sbGFwc2UoIGN1clZhbHVlICkgKyAiICIgKTsNCg0KCQkJ
CWlmICggY3VyICkgew0KCQkJCQlqID0gMDsNCgkJCQkJd2hpbGUgKCAoIGNsYXp6ID0gY2xhc3Nl
c1sgaisrIF0gKSApIHsNCg0KCQkJCQkJLy8gUmVtb3ZlICphbGwqIGluc3RhbmNlcw0KCQkJCQkJ
d2hpbGUgKCBjdXIuaW5kZXhPZiggIiAiICsgY2xhenogKyAiICIgKSA+IC0xICkgew0KCQkJCQkJ
CWN1ciA9IGN1ci5yZXBsYWNlKCAiICIgKyBjbGF6eiArICIgIiwgIiAiICk7DQoJCQkJCQl9DQoJ
CQkJCX0NCg0KCQkJCQkvLyBPbmx5IGFzc2lnbiBpZiBkaWZmZXJlbnQgdG8gYXZvaWQgdW5uZWVk
ZWQgcmVuZGVyaW5nLg0KCQkJCQlmaW5hbFZhbHVlID0gc3RyaXBBbmRDb2xsYXBzZSggY3VyICk7
DQoJCQkJCWlmICggY3VyVmFsdWUgIT09IGZpbmFsVmFsdWUgKSB7DQoJCQkJCQllbGVtLnNldEF0
dHJpYnV0ZSggImNsYXNzIiwgZmluYWxWYWx1ZSApOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KCQl9
DQoNCgkJcmV0dXJuIHRoaXM7DQoJfSwNCg0KCXRvZ2dsZUNsYXNzOiBmdW5jdGlvbiggdmFsdWUs
IHN0YXRlVmFsICkgew0KCQl2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTsNCg0KCQlpZiAoIHR5cGVv
ZiBzdGF0ZVZhbCA9PT0gImJvb2xlYW4iICYmIHR5cGUgPT09ICJzdHJpbmciICkgew0KCQkJcmV0
dXJuIHN0YXRlVmFsID8gdGhpcy5hZGRDbGFzcyggdmFsdWUgKSA6IHRoaXMucmVtb3ZlQ2xhc3Mo
IHZhbHVlICk7DQoJCX0NCg0KCQlpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApICkgew0K
CQkJcmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7DQoJCQkJalF1ZXJ5KCB0aGlzICku
dG9nZ2xlQ2xhc3MoDQoJCQkJCXZhbHVlLmNhbGwoIHRoaXMsIGksIGdldENsYXNzKCB0aGlzICks
IHN0YXRlVmFsICksDQoJCQkJCXN0YXRlVmFsDQoJCQkJKTsNCgkJCX0gKTsNCgkJfQ0KDQoJCXJl
dHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkgew0KCQkJdmFyIGNsYXNzTmFtZSwgaSwgc2VsZiwg
Y2xhc3NOYW1lczsNCg0KCQkJaWYgKCB0eXBlID09PSAic3RyaW5nIiApIHsNCg0KCQkJCS8vIFRv
Z2dsZSBpbmRpdmlkdWFsIGNsYXNzIG5hbWVzDQoJCQkJaSA9IDA7DQoJCQkJc2VsZiA9IGpRdWVy
eSggdGhpcyApOw0KCQkJCWNsYXNzTmFtZXMgPSB2YWx1ZS5tYXRjaCggcm5vdGh0bWx3aGl0ZSAp
IHx8IFtdOw0KDQoJCQkJd2hpbGUgKCAoIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXNbIGkrKyBdICkg
KSB7DQoNCgkJCQkJLy8gQ2hlY2sgZWFjaCBjbGFzc05hbWUgZ2l2ZW4sIHNwYWNlIHNlcGFyYXRl
ZCBsaXN0DQoJCQkJCWlmICggc2VsZi5oYXNDbGFzcyggY2xhc3NOYW1lICkgKSB7DQoJCQkJCQlz
ZWxmLnJlbW92ZUNsYXNzKCBjbGFzc05hbWUgKTsNCgkJCQkJfSBlbHNlIHsNCgkJCQkJCXNlbGYu
YWRkQ2xhc3MoIGNsYXNzTmFtZSApOw0KCQkJCQl9DQoJCQkJfQ0KDQoJCQkvLyBUb2dnbGUgd2hv
bGUgY2xhc3MgbmFtZQ0KCQkJfSBlbHNlIGlmICggdmFsdWUgPT09IHVuZGVmaW5lZCB8fCB0eXBl
ID09PSAiYm9vbGVhbiIgKSB7DQoJCQkJY2xhc3NOYW1lID0gZ2V0Q2xhc3MoIHRoaXMgKTsNCgkJ
CQlpZiAoIGNsYXNzTmFtZSApIHsNCg0KCQkJCQkvLyBTdG9yZSBjbGFzc05hbWUgaWYgc2V0DQoJ
CQkJCWRhdGFQcml2LnNldCggdGhpcywgIl9fY2xhc3NOYW1lX18iLCBjbGFzc05hbWUgKTsNCgkJ
CQl9DQoNCgkJCQkvLyBJZiB0aGUgZWxlbWVudCBoYXMgYSBjbGFzcyBuYW1lIG9yIGlmIHdlJ3Jl
IHBhc3NlZCBgZmFsc2VgLA0KCQkJCS8vIHRoZW4gcmVtb3ZlIHRoZSB3aG9sZSBjbGFzc25hbWUg
KGlmIHRoZXJlIHdhcyBvbmUsIHRoZSBhYm92ZSBzYXZlZCBpdCkuDQoJCQkJLy8gT3RoZXJ3aXNl
IGJyaW5nIGJhY2sgd2hhdGV2ZXIgd2FzIHByZXZpb3VzbHkgc2F2ZWQgKGlmIGFueXRoaW5nKSwN
CgkJCQkvLyBmYWxsaW5nIGJhY2sgdG8gdGhlIGVtcHR5IHN0cmluZyBpZiBub3RoaW5nIHdhcyBz
dG9yZWQuDQoJCQkJaWYgKCB0aGlzLnNldEF0dHJpYnV0ZSApIHsNCgkJCQkJdGhpcy5zZXRBdHRy
aWJ1dGUoICJjbGFzcyIsDQoJCQkJCQljbGFzc05hbWUgfHwgdmFsdWUgPT09IGZhbHNlID8NCgkJ
CQkJCSIiIDoNCgkJCQkJCWRhdGFQcml2LmdldCggdGhpcywgIl9fY2xhc3NOYW1lX18iICkgfHwg
IiINCgkJCQkJKTsNCgkJCQl9DQoJCQl9DQoJCX0gKTsNCgl9LA0KDQoJaGFzQ2xhc3M6IGZ1bmN0
aW9uKCBzZWxlY3RvciApIHsNCgkJdmFyIGNsYXNzTmFtZSwgZWxlbSwNCgkJCWkgPSAwOw0KDQoJ
CWNsYXNzTmFtZSA9ICIgIiArIHNlbGVjdG9yICsgIiAiOw0KCQl3aGlsZSAoICggZWxlbSA9IHRo
aXNbIGkrKyBdICkgKSB7DQoJCQlpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgJiYNCgkJCQkoICIg
IiArIHN0cmlwQW5kQ29sbGFwc2UoIGdldENsYXNzKCBlbGVtICkgKSArICIgIiApLmluZGV4T2Yo
IGNsYXNzTmFtZSApID4gLTEgKSB7DQoJCQkJCXJldHVybiB0cnVlOw0KCQkJfQ0KCQl9DQoNCgkJ
cmV0dXJuIGZhbHNlOw0KCX0NCn0gKTsNCg0KDQoNCg0KdmFyIHJyZXR1cm4gPSAvXHIvZzsNCg0K
alF1ZXJ5LmZuLmV4dGVuZCggew0KCXZhbDogZnVuY3Rpb24oIHZhbHVlICkgew0KCQl2YXIgaG9v
a3MsIHJldCwgaXNGdW5jdGlvbiwNCgkJCWVsZW0gPSB0aGlzWyAwIF07DQoNCgkJaWYgKCAhYXJn
dW1lbnRzLmxlbmd0aCApIHsNCgkJCWlmICggZWxlbSApIHsNCgkJCQlob29rcyA9IGpRdWVyeS52
YWxIb29rc1sgZWxlbS50eXBlIF0gfHwNCgkJCQkJalF1ZXJ5LnZhbEhvb2tzWyBlbGVtLm5vZGVO
YW1lLnRvTG93ZXJDYXNlKCkgXTsNCg0KCQkJCWlmICggaG9va3MgJiYNCgkJCQkJImdldCIgaW4g
aG9va3MgJiYNCgkJCQkJKCByZXQgPSBob29rcy5nZXQoIGVsZW0sICJ2YWx1ZSIgKSApICE9PSB1
bmRlZmluZWQNCgkJCQkpIHsNCgkJCQkJcmV0dXJuIHJldDsNCgkJCQl9DQoNCgkJCQlyZXQgPSBl
bGVtLnZhbHVlOw0KDQoJCQkJLy8gSGFuZGxlIG1vc3QgY29tbW9uIHN0cmluZyBjYXNlcw0KCQkJ
CWlmICggdHlwZW9mIHJldCA9PT0gInN0cmluZyIgKSB7DQoJCQkJCXJldHVybiByZXQucmVwbGFj
ZSggcnJldHVybiwgIiIgKTsNCgkJCQl9DQoNCgkJCQkvLyBIYW5kbGUgY2FzZXMgd2hlcmUgdmFs
dWUgaXMgbnVsbC91bmRlZiBvciBudW1iZXINCgkJCQlyZXR1cm4gcmV0ID09IG51bGwgPyAiIiA6
IHJldDsNCgkJCX0NCg0KCQkJcmV0dXJuOw0KCQl9DQoNCgkJaXNGdW5jdGlvbiA9IGpRdWVyeS5p
c0Z1bmN0aW9uKCB2YWx1ZSApOw0KDQoJCXJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkg
ew0KCQkJdmFyIHZhbDsNCg0KCQkJaWYgKCB0aGlzLm5vZGVUeXBlICE9PSAxICkgew0KCQkJCXJl
dHVybjsNCgkJCX0NCg0KCQkJaWYgKCBpc0Z1bmN0aW9uICkgew0KCQkJCXZhbCA9IHZhbHVlLmNh
bGwoIHRoaXMsIGksIGpRdWVyeSggdGhpcyApLnZhbCgpICk7DQoJCQl9IGVsc2Ugew0KCQkJCXZh
bCA9IHZhbHVlOw0KCQkJfQ0KDQoJCQkvLyBUcmVhdCBudWxsL3VuZGVmaW5lZCBhcyAiIjsgY29u
dmVydCBudW1iZXJzIHRvIHN0cmluZw0KCQkJaWYgKCB2YWwgPT0gbnVsbCApIHsNCgkJCQl2YWwg
PSAiIjsNCg0KCQkJfSBlbHNlIGlmICggdHlwZW9mIHZhbCA9PT0gIm51bWJlciIgKSB7DQoJCQkJ
dmFsICs9ICIiOw0KDQoJCQl9IGVsc2UgaWYgKCBBcnJheS5pc0FycmF5KCB2YWwgKSApIHsNCgkJ
CQl2YWwgPSBqUXVlcnkubWFwKCB2YWwsIGZ1bmN0aW9uKCB2YWx1ZSApIHsNCgkJCQkJcmV0dXJu
IHZhbHVlID09IG51bGwgPyAiIiA6IHZhbHVlICsgIiI7DQoJCQkJfSApOw0KCQkJfQ0KDQoJCQlo
b29rcyA9IGpRdWVyeS52YWxIb29rc1sgdGhpcy50eXBlIF0gfHwgalF1ZXJ5LnZhbEhvb2tzWyB0
aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgXTsNCg0KCQkJLy8gSWYgc2V0IHJldHVybnMgdW5k
ZWZpbmVkLCBmYWxsIGJhY2sgdG8gbm9ybWFsIHNldHRpbmcNCgkJCWlmICggIWhvb2tzIHx8ICEo
ICJzZXQiIGluIGhvb2tzICkgfHwgaG9va3Muc2V0KCB0aGlzLCB2YWwsICJ2YWx1ZSIgKSA9PT0g
dW5kZWZpbmVkICkgew0KCQkJCXRoaXMudmFsdWUgPSB2YWw7DQoJCQl9DQoJCX0gKTsNCgl9DQp9
ICk7DQoNCmpRdWVyeS5leHRlbmQoIHsNCgl2YWxIb29rczogew0KCQlvcHRpb246IHsNCgkJCWdl
dDogZnVuY3Rpb24oIGVsZW0gKSB7DQoNCgkJCQl2YXIgdmFsID0galF1ZXJ5LmZpbmQuYXR0cigg
ZWxlbSwgInZhbHVlIiApOw0KCQkJCXJldHVybiB2YWwgIT0gbnVsbCA/DQoJCQkJCXZhbCA6DQoN
CgkJCQkJLy8gU3VwcG9ydDogSUUgPD0xMCAtIDExIG9ubHkNCgkJCQkJLy8gb3B0aW9uLnRleHQg
dGhyb3dzIGV4Y2VwdGlvbnMgKCMxNDY4NiwgIzE0ODU4KQ0KCQkJCQkvLyBTdHJpcCBhbmQgY29s
bGFwc2Ugd2hpdGVzcGFjZQ0KCQkJCQkvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyNz
dHJpcC1hbmQtY29sbGFwc2Utd2hpdGVzcGFjZQ0KCQkJCQlzdHJpcEFuZENvbGxhcHNlKCBqUXVl
cnkudGV4dCggZWxlbSApICk7DQoJCQl9DQoJCX0sDQoJCXNlbGVjdDogew0KCQkJZ2V0OiBmdW5j
dGlvbiggZWxlbSApIHsNCgkJCQl2YXIgdmFsdWUsIG9wdGlvbiwgaSwNCgkJCQkJb3B0aW9ucyA9
IGVsZW0ub3B0aW9ucywNCgkJCQkJaW5kZXggPSBlbGVtLnNlbGVjdGVkSW5kZXgsDQoJCQkJCW9u
ZSA9IGVsZW0udHlwZSA9PT0gInNlbGVjdC1vbmUiLA0KCQkJCQl2YWx1ZXMgPSBvbmUgPyBudWxs
IDogW10sDQoJCQkJCW1heCA9IG9uZSA/IGluZGV4ICsgMSA6IG9wdGlvbnMubGVuZ3RoOw0KDQoJ
CQkJaWYgKCBpbmRleCA8IDAgKSB7DQoJCQkJCWkgPSBtYXg7DQoNCgkJCQl9IGVsc2Ugew0KCQkJ
CQlpID0gb25lID8gaW5kZXggOiAwOw0KCQkJCX0NCg0KCQkJCS8vIExvb3AgdGhyb3VnaCBhbGwg
dGhlIHNlbGVjdGVkIG9wdGlvbnMNCgkJCQlmb3IgKCA7IGkgPCBtYXg7IGkrKyApIHsNCgkJCQkJ
b3B0aW9uID0gb3B0aW9uc1sgaSBdOw0KDQoJCQkJCS8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5DQoJ
CQkJCS8vIElFOC05IGRvZXNuJ3QgdXBkYXRlIHNlbGVjdGVkIGFmdGVyIGZvcm0gcmVzZXQgKCMy
NTUxKQ0KCQkJCQlpZiAoICggb3B0aW9uLnNlbGVjdGVkIHx8IGkgPT09IGluZGV4ICkgJiYNCg0K
CQkJCQkJCS8vIERvbid0IHJldHVybiBvcHRpb25zIHRoYXQgYXJlIGRpc2FibGVkIG9yIGluIGEg
ZGlzYWJsZWQgb3B0Z3JvdXANCgkJCQkJCQkhb3B0aW9uLmRpc2FibGVkICYmDQoJCQkJCQkJKCAh
b3B0aW9uLnBhcmVudE5vZGUuZGlzYWJsZWQgfHwNCgkJCQkJCQkJIW5vZGVOYW1lKCBvcHRpb24u
cGFyZW50Tm9kZSwgIm9wdGdyb3VwIiApICkgKSB7DQoNCgkJCQkJCS8vIEdldCB0aGUgc3BlY2lm
aWMgdmFsdWUgZm9yIHRoZSBvcHRpb24NCgkJCQkJCXZhbHVlID0galF1ZXJ5KCBvcHRpb24gKS52
YWwoKTsNCg0KCQkJCQkJLy8gV2UgZG9uJ3QgbmVlZCBhbiBhcnJheSBmb3Igb25lIHNlbGVjdHMN
CgkJCQkJCWlmICggb25lICkgew0KCQkJCQkJCXJldHVybiB2YWx1ZTsNCgkJCQkJCX0NCg0KCQkJ
CQkJLy8gTXVsdGktU2VsZWN0cyByZXR1cm4gYW4gYXJyYXkNCgkJCQkJCXZhbHVlcy5wdXNoKCB2
YWx1ZSApOw0KCQkJCQl9DQoJCQkJfQ0KDQoJCQkJcmV0dXJuIHZhbHVlczsNCgkJCX0sDQoNCgkJ
CXNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkgew0KCQkJCXZhciBvcHRpb25TZXQsIG9wdGlv
biwNCgkJCQkJb3B0aW9ucyA9IGVsZW0ub3B0aW9ucywNCgkJCQkJdmFsdWVzID0galF1ZXJ5Lm1h
a2VBcnJheSggdmFsdWUgKSwNCgkJCQkJaSA9IG9wdGlvbnMubGVuZ3RoOw0KDQoJCQkJd2hpbGUg
KCBpLS0gKSB7DQoJCQkJCW9wdGlvbiA9IG9wdGlvbnNbIGkgXTsNCg0KCQkJCQkvKiBlc2xpbnQt
ZGlzYWJsZSBuby1jb25kLWFzc2lnbiAqLw0KDQoJCQkJCWlmICggb3B0aW9uLnNlbGVjdGVkID0N
CgkJCQkJCWpRdWVyeS5pbkFycmF5KCBqUXVlcnkudmFsSG9va3Mub3B0aW9uLmdldCggb3B0aW9u
ICksIHZhbHVlcyApID4gLTENCgkJCQkJKSB7DQoJCQkJCQlvcHRpb25TZXQgPSB0cnVlOw0KCQkJ
CQl9DQoNCgkJCQkJLyogZXNsaW50LWVuYWJsZSBuby1jb25kLWFzc2lnbiAqLw0KCQkJCX0NCg0K
CQkJCS8vIEZvcmNlIGJyb3dzZXJzIHRvIGJlaGF2ZSBjb25zaXN0ZW50bHkgd2hlbiBub24tbWF0
Y2hpbmcgdmFsdWUgaXMgc2V0DQoJCQkJaWYgKCAhb3B0aW9uU2V0ICkgew0KCQkJCQllbGVtLnNl
bGVjdGVkSW5kZXggPSAtMTsNCgkJCQl9DQoJCQkJcmV0dXJuIHZhbHVlczsNCgkJCX0NCgkJfQ0K
CX0NCn0gKTsNCg0KLy8gUmFkaW9zIGFuZCBjaGVja2JveGVzIGdldHRlci9zZXR0ZXINCmpRdWVy
eS5lYWNoKCBbICJyYWRpbyIsICJjaGVja2JveCIgXSwgZnVuY3Rpb24oKSB7DQoJalF1ZXJ5LnZh
bEhvb2tzWyB0aGlzIF0gPSB7DQoJCXNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkgew0KCQkJ
aWYgKCBBcnJheS5pc0FycmF5KCB2YWx1ZSApICkgew0KCQkJCXJldHVybiAoIGVsZW0uY2hlY2tl
ZCA9IGpRdWVyeS5pbkFycmF5KCBqUXVlcnkoIGVsZW0gKS52YWwoKSwgdmFsdWUgKSA+IC0xICk7
DQoJCQl9DQoJCX0NCgl9Ow0KCWlmICggIXN1cHBvcnQuY2hlY2tPbiApIHsNCgkJalF1ZXJ5LnZh
bEhvb2tzWyB0aGlzIF0uZ2V0ID0gZnVuY3Rpb24oIGVsZW0gKSB7DQoJCQlyZXR1cm4gZWxlbS5n
ZXRBdHRyaWJ1dGUoICJ2YWx1ZSIgKSA9PT0gbnVsbCA/ICJvbiIgOiBlbGVtLnZhbHVlOw0KCQl9
Ow0KCX0NCn0gKTsNCg0KDQoNCg0KLy8gUmV0dXJuIGpRdWVyeSBmb3IgYXR0cmlidXRlcy1vbmx5
IGluY2x1c2lvbg0KDQoNCnZhciByZm9jdXNNb3JwaCA9IC9eKD86Zm9jdXNpbmZvY3VzfGZvY3Vz
b3V0Ymx1cikkLzsNCg0KalF1ZXJ5LmV4dGVuZCggalF1ZXJ5LmV2ZW50LCB7DQoNCgl0cmlnZ2Vy
OiBmdW5jdGlvbiggZXZlbnQsIGRhdGEsIGVsZW0sIG9ubHlIYW5kbGVycyApIHsNCg0KCQl2YXIg
aSwgY3VyLCB0bXAsIGJ1YmJsZVR5cGUsIG9udHlwZSwgaGFuZGxlLCBzcGVjaWFsLA0KCQkJZXZl
bnRQYXRoID0gWyBlbGVtIHx8IGRvY3VtZW50IF0sDQoJCQl0eXBlID0gaGFzT3duLmNhbGwoIGV2
ZW50LCAidHlwZSIgKSA/IGV2ZW50LnR5cGUgOiBldmVudCwNCgkJCW5hbWVzcGFjZXMgPSBoYXNP
d24uY2FsbCggZXZlbnQsICJuYW1lc3BhY2UiICkgPyBldmVudC5uYW1lc3BhY2Uuc3BsaXQoICIu
IiApIDogW107DQoNCgkJY3VyID0gdG1wID0gZWxlbSA9IGVsZW0gfHwgZG9jdW1lbnQ7DQoNCgkJ
Ly8gRG9uJ3QgZG8gZXZlbnRzIG9uIHRleHQgYW5kIGNvbW1lbnQgbm9kZXMNCgkJaWYgKCBlbGVt
Lm5vZGVUeXBlID09PSAzIHx8IGVsZW0ubm9kZVR5cGUgPT09IDggKSB7DQoJCQlyZXR1cm47DQoJ
CX0NCg0KCQkvLyBmb2N1cy9ibHVyIG1vcnBocyB0byBmb2N1c2luL291dDsgZW5zdXJlIHdlJ3Jl
IG5vdCBmaXJpbmcgdGhlbSByaWdodCBub3cNCgkJaWYgKCByZm9jdXNNb3JwaC50ZXN0KCB0eXBl
ICsgalF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCApICkgew0KCQkJcmV0dXJuOw0KCQl9DQoNCgkJaWYg
KCB0eXBlLmluZGV4T2YoICIuIiApID4gLTEgKSB7DQoNCgkJCS8vIE5hbWVzcGFjZWQgdHJpZ2dl
cjsgY3JlYXRlIGEgcmVnZXhwIHRvIG1hdGNoIGV2ZW50IHR5cGUgaW4gaGFuZGxlKCkNCgkJCW5h
bWVzcGFjZXMgPSB0eXBlLnNwbGl0KCAiLiIgKTsNCgkJCXR5cGUgPSBuYW1lc3BhY2VzLnNoaWZ0
KCk7DQoJCQluYW1lc3BhY2VzLnNvcnQoKTsNCgkJfQ0KCQlvbnR5cGUgPSB0eXBlLmluZGV4T2Yo
ICI6IiApIDwgMCAmJiAib24iICsgdHlwZTsNCg0KCQkvLyBDYWxsZXIgY2FuIHBhc3MgaW4gYSBq
UXVlcnkuRXZlbnQgb2JqZWN0LCBPYmplY3QsIG9yIGp1c3QgYW4gZXZlbnQgdHlwZSBzdHJpbmcN
CgkJZXZlbnQgPSBldmVudFsgalF1ZXJ5LmV4cGFuZG8gXSA/DQoJCQlldmVudCA6DQoJCQluZXcg
alF1ZXJ5LkV2ZW50KCB0eXBlLCB0eXBlb2YgZXZlbnQgPT09ICJvYmplY3QiICYmIGV2ZW50ICk7
DQoNCgkJLy8gVHJpZ2dlciBiaXRtYXNrOiAmIDEgZm9yIG5hdGl2ZSBoYW5kbGVyczsgJiAyIGZv
ciBqUXVlcnkgKGFsd2F5cyB0cnVlKQ0KCQlldmVudC5pc1RyaWdnZXIgPSBvbmx5SGFuZGxlcnMg
PyAyIDogMzsNCgkJZXZlbnQubmFtZXNwYWNlID0gbmFtZXNwYWNlcy5qb2luKCAiLiIgKTsNCgkJ
ZXZlbnQucm5hbWVzcGFjZSA9IGV2ZW50Lm5hbWVzcGFjZSA/DQoJCQluZXcgUmVnRXhwKCAiKF58
XFwuKSIgKyBuYW1lc3BhY2VzLmpvaW4oICJcXC4oPzouKlxcLnwpIiApICsgIihcXC58JCkiICkg
Og0KCQkJbnVsbDsNCg0KCQkvLyBDbGVhbiB1cCB0aGUgZXZlbnQgaW4gY2FzZSBpdCBpcyBiZWlu
ZyByZXVzZWQNCgkJZXZlbnQucmVzdWx0ID0gdW5kZWZpbmVkOw0KCQlpZiAoICFldmVudC50YXJn
ZXQgKSB7DQoJCQlldmVudC50YXJnZXQgPSBlbGVtOw0KCQl9DQoNCgkJLy8gQ2xvbmUgYW55IGlu
Y29taW5nIGRhdGEgYW5kIHByZXBlbmQgdGhlIGV2ZW50LCBjcmVhdGluZyB0aGUgaGFuZGxlciBh
cmcgbGlzdA0KCQlkYXRhID0gZGF0YSA9PSBudWxsID8NCgkJCVsgZXZlbnQgXSA6DQoJCQlqUXVl
cnkubWFrZUFycmF5KCBkYXRhLCBbIGV2ZW50IF0gKTsNCg0KCQkvLyBBbGxvdyBzcGVjaWFsIGV2
ZW50cyB0byBkcmF3IG91dHNpZGUgdGhlIGxpbmVzDQoJCXNwZWNpYWwgPSBqUXVlcnkuZXZlbnQu
c3BlY2lhbFsgdHlwZSBdIHx8IHt9Ow0KCQlpZiAoICFvbmx5SGFuZGxlcnMgJiYgc3BlY2lhbC50
cmlnZ2VyICYmIHNwZWNpYWwudHJpZ2dlci5hcHBseSggZWxlbSwgZGF0YSApID09PSBmYWxzZSAp
IHsNCgkJCXJldHVybjsNCgkJfQ0KDQoJCS8vIERldGVybWluZSBldmVudCBwcm9wYWdhdGlvbiBw
YXRoIGluIGFkdmFuY2UsIHBlciBXM0MgZXZlbnRzIHNwZWMgKCM5OTUxKQ0KCQkvLyBCdWJibGUg
dXAgdG8gZG9jdW1lbnQsIHRoZW4gdG8gd2luZG93OyB3YXRjaCBmb3IgYSBnbG9iYWwgb3duZXJE
b2N1bWVudCB2YXIgKCM5NzI0KQ0KCQlpZiAoICFvbmx5SGFuZGxlcnMgJiYgIXNwZWNpYWwubm9C
dWJibGUgJiYgIWpRdWVyeS5pc1dpbmRvdyggZWxlbSApICkgew0KDQoJCQlidWJibGVUeXBlID0g
c3BlY2lhbC5kZWxlZ2F0ZVR5cGUgfHwgdHlwZTsNCgkJCWlmICggIXJmb2N1c01vcnBoLnRlc3Qo
IGJ1YmJsZVR5cGUgKyB0eXBlICkgKSB7DQoJCQkJY3VyID0gY3VyLnBhcmVudE5vZGU7DQoJCQl9
DQoJCQlmb3IgKCA7IGN1cjsgY3VyID0gY3VyLnBhcmVudE5vZGUgKSB7DQoJCQkJZXZlbnRQYXRo
LnB1c2goIGN1ciApOw0KCQkJCXRtcCA9IGN1cjsNCgkJCX0NCg0KCQkJLy8gT25seSBhZGQgd2lu
ZG93IGlmIHdlIGdvdCB0byBkb2N1bWVudCAoZS5nLiwgbm90IHBsYWluIG9iaiBvciBkZXRhY2hl
ZCBET00pDQoJCQlpZiAoIHRtcCA9PT0gKCBlbGVtLm93bmVyRG9jdW1lbnQgfHwgZG9jdW1lbnQg
KSApIHsNCgkJCQlldmVudFBhdGgucHVzaCggdG1wLmRlZmF1bHRWaWV3IHx8IHRtcC5wYXJlbnRX
aW5kb3cgfHwgd2luZG93ICk7DQoJCQl9DQoJCX0NCg0KCQkvLyBGaXJlIGhhbmRsZXJzIG9uIHRo
ZSBldmVudCBwYXRoDQoJCWkgPSAwOw0KCQl3aGlsZSAoICggY3VyID0gZXZlbnRQYXRoWyBpKysg
XSApICYmICFldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpICkgew0KDQoJCQlldmVudC50eXBl
ID0gaSA+IDEgPw0KCQkJCWJ1YmJsZVR5cGUgOg0KCQkJCXNwZWNpYWwuYmluZFR5cGUgfHwgdHlw
ZTsNCg0KCQkJLy8galF1ZXJ5IGhhbmRsZXINCgkJCWhhbmRsZSA9ICggZGF0YVByaXYuZ2V0KCBj
dXIsICJldmVudHMiICkgfHwge30gKVsgZXZlbnQudHlwZSBdICYmDQoJCQkJZGF0YVByaXYuZ2V0
KCBjdXIsICJoYW5kbGUiICk7DQoJCQlpZiAoIGhhbmRsZSApIHsNCgkJCQloYW5kbGUuYXBwbHko
IGN1ciwgZGF0YSApOw0KCQkJfQ0KDQoJCQkvLyBOYXRpdmUgaGFuZGxlcg0KCQkJaGFuZGxlID0g
b250eXBlICYmIGN1clsgb250eXBlIF07DQoJCQlpZiAoIGhhbmRsZSAmJiBoYW5kbGUuYXBwbHkg
JiYgYWNjZXB0RGF0YSggY3VyICkgKSB7DQoJCQkJZXZlbnQucmVzdWx0ID0gaGFuZGxlLmFwcGx5
KCBjdXIsIGRhdGEgKTsNCgkJCQlpZiAoIGV2ZW50LnJlc3VsdCA9PT0gZmFsc2UgKSB7DQoJCQkJ
CWV2ZW50LnByZXZlbnREZWZhdWx0KCk7DQoJCQkJfQ0KCQkJfQ0KCQl9DQoJCWV2ZW50LnR5cGUg
PSB0eXBlOw0KDQoJCS8vIElmIG5vYm9keSBwcmV2ZW50ZWQgdGhlIGRlZmF1bHQgYWN0aW9uLCBk
byBpdCBub3cNCgkJaWYgKCAhb25seUhhbmRsZXJzICYmICFldmVudC5pc0RlZmF1bHRQcmV2ZW50
ZWQoKSApIHsNCg0KCQkJaWYgKCAoICFzcGVjaWFsLl9kZWZhdWx0IHx8DQoJCQkJc3BlY2lhbC5f
ZGVmYXVsdC5hcHBseSggZXZlbnRQYXRoLnBvcCgpLCBkYXRhICkgPT09IGZhbHNlICkgJiYNCgkJ
CQlhY2NlcHREYXRhKCBlbGVtICkgKSB7DQoNCgkJCQkvLyBDYWxsIGEgbmF0aXZlIERPTSBtZXRo
b2Qgb24gdGhlIHRhcmdldCB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgdGhlIGV2ZW50Lg0KCQkJCS8v
IERvbid0IGRvIGRlZmF1bHQgYWN0aW9ucyBvbiB3aW5kb3csIHRoYXQncyB3aGVyZSBnbG9iYWwg
dmFyaWFibGVzIGJlICgjNjE3MCkNCgkJCQlpZiAoIG9udHlwZSAmJiBqUXVlcnkuaXNGdW5jdGlv
biggZWxlbVsgdHlwZSBdICkgJiYgIWpRdWVyeS5pc1dpbmRvdyggZWxlbSApICkgew0KDQoJCQkJ
CS8vIERvbid0IHJlLXRyaWdnZXIgYW4gb25GT08gZXZlbnQgd2hlbiB3ZSBjYWxsIGl0cyBGT08o
KSBtZXRob2QNCgkJCQkJdG1wID0gZWxlbVsgb250eXBlIF07DQoNCgkJCQkJaWYgKCB0bXAgKSB7
DQoJCQkJCQllbGVtWyBvbnR5cGUgXSA9IG51bGw7DQoJCQkJCX0NCg0KCQkJCQkvLyBQcmV2ZW50
IHJlLXRyaWdnZXJpbmcgb2YgdGhlIHNhbWUgZXZlbnQsIHNpbmNlIHdlIGFscmVhZHkgYnViYmxl
ZCBpdCBhYm92ZQ0KCQkJCQlqUXVlcnkuZXZlbnQudHJpZ2dlcmVkID0gdHlwZTsNCgkJCQkJZWxl
bVsgdHlwZSBdKCk7DQoJCQkJCWpRdWVyeS5ldmVudC50cmlnZ2VyZWQgPSB1bmRlZmluZWQ7DQoN
CgkJCQkJaWYgKCB0bXAgKSB7DQoJCQkJCQllbGVtWyBvbnR5cGUgXSA9IHRtcDsNCgkJCQkJfQ0K
CQkJCX0NCgkJCX0NCgkJfQ0KDQoJCXJldHVybiBldmVudC5yZXN1bHQ7DQoJfSwNCg0KCS8vIFBp
Z2d5YmFjayBvbiBhIGRvbm9yIGV2ZW50IHRvIHNpbXVsYXRlIGEgZGlmZmVyZW50IG9uZQ0KCS8v
IFVzZWQgb25seSBmb3IgYGZvY3VzKGluIHwgb3V0KWAgZXZlbnRzDQoJc2ltdWxhdGU6IGZ1bmN0
aW9uKCB0eXBlLCBlbGVtLCBldmVudCApIHsNCgkJdmFyIGUgPSBqUXVlcnkuZXh0ZW5kKA0KCQkJ
bmV3IGpRdWVyeS5FdmVudCgpLA0KCQkJZXZlbnQsDQoJCQl7DQoJCQkJdHlwZTogdHlwZSwNCgkJ
CQlpc1NpbXVsYXRlZDogdHJ1ZQ0KCQkJfQ0KCQkpOw0KDQoJCWpRdWVyeS5ldmVudC50cmlnZ2Vy
KCBlLCBudWxsLCBlbGVtICk7DQoJfQ0KDQp9ICk7DQoNCmpRdWVyeS5mbi5leHRlbmQoIHsNCg0K
CXRyaWdnZXI6IGZ1bmN0aW9uKCB0eXBlLCBkYXRhICkgew0KCQlyZXR1cm4gdGhpcy5lYWNoKCBm
dW5jdGlvbigpIHsNCgkJCWpRdWVyeS5ldmVudC50cmlnZ2VyKCB0eXBlLCBkYXRhLCB0aGlzICk7
DQoJCX0gKTsNCgl9LA0KCXRyaWdnZXJIYW5kbGVyOiBmdW5jdGlvbiggdHlwZSwgZGF0YSApIHsN
CgkJdmFyIGVsZW0gPSB0aGlzWyAwIF07DQoJCWlmICggZWxlbSApIHsNCgkJCXJldHVybiBqUXVl
cnkuZXZlbnQudHJpZ2dlciggdHlwZSwgZGF0YSwgZWxlbSwgdHJ1ZSApOw0KCQl9DQoJfQ0KfSAp
Ow0KDQoNCmpRdWVyeS5lYWNoKCAoICJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgcmVzaXpl
IHNjcm9sbCBjbGljayBkYmxjbGljayAiICsNCgkibW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3Zl
IG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgIiArDQoJImNoYW5nZSBz
ZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgY29udGV4dG1lbnUiICkuc3BsaXQo
ICIgIiApLA0KCWZ1bmN0aW9uKCBpLCBuYW1lICkgew0KDQoJLy8gSGFuZGxlIGV2ZW50IGJpbmRp
bmcNCglqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBkYXRhLCBmbiApIHsNCgkJcmV0dXJu
IGFyZ3VtZW50cy5sZW5ndGggPiAwID8NCgkJCXRoaXMub24oIG5hbWUsIG51bGwsIGRhdGEsIGZu
ICkgOg0KCQkJdGhpcy50cmlnZ2VyKCBuYW1lICk7DQoJfTsNCn0gKTsNCg0KalF1ZXJ5LmZuLmV4
dGVuZCggew0KCWhvdmVyOiBmdW5jdGlvbiggZm5PdmVyLCBmbk91dCApIHsNCgkJcmV0dXJuIHRo
aXMubW91c2VlbnRlciggZm5PdmVyICkubW91c2VsZWF2ZSggZm5PdXQgfHwgZm5PdmVyICk7DQoJ
fQ0KfSApOw0KDQoNCg0KDQpzdXBwb3J0LmZvY3VzaW4gPSAib25mb2N1c2luIiBpbiB3aW5kb3c7
DQoNCg0KLy8gU3VwcG9ydDogRmlyZWZveCA8PTQ0DQovLyBGaXJlZm94IGRvZXNuJ3QgaGF2ZSBm
b2N1cyhpbiB8IG91dCkgZXZlbnRzDQovLyBSZWxhdGVkIHRpY2tldCAtIGh0dHBzOi8vYnVnemls
bGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTY4Nzc4Nw0KLy8NCi8vIFN1cHBvcnQ6IENo
cm9tZSA8PTQ4IC0gNDksIFNhZmFyaSA8PTkuMCAtIDkuMQ0KLy8gZm9jdXMoaW4gfCBvdXQpIGV2
ZW50cyBmaXJlIGFmdGVyIGZvY3VzICYgYmx1ciBldmVudHMsDQovLyB3aGljaCBpcyBzcGVjIHZp
b2xhdGlvbiAtIGh0dHA6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUV2ZW50cy8jZXZlbnRz
LWZvY3VzZXZlbnQtZXZlbnQtb3JkZXINCi8vIFJlbGF0ZWQgdGlja2V0IC0gaHR0cHM6Ly9idWdz
LmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDQ5ODU3DQppZiAoICFz
dXBwb3J0LmZvY3VzaW4gKSB7DQoJalF1ZXJ5LmVhY2goIHsgZm9jdXM6ICJmb2N1c2luIiwgYmx1
cjogImZvY3Vzb3V0IiB9LCBmdW5jdGlvbiggb3JpZywgZml4ICkgew0KDQoJCS8vIEF0dGFjaCBh
IHNpbmdsZSBjYXB0dXJpbmcgaGFuZGxlciBvbiB0aGUgZG9jdW1lbnQgd2hpbGUgc29tZW9uZSB3
YW50cyBmb2N1c2luL2ZvY3Vzb3V0DQoJCXZhciBoYW5kbGVyID0gZnVuY3Rpb24oIGV2ZW50ICkg
ew0KCQkJalF1ZXJ5LmV2ZW50LnNpbXVsYXRlKCBmaXgsIGV2ZW50LnRhcmdldCwgalF1ZXJ5LmV2
ZW50LmZpeCggZXZlbnQgKSApOw0KCQl9Ow0KDQoJCWpRdWVyeS5ldmVudC5zcGVjaWFsWyBmaXgg
XSA9IHsNCgkJCXNldHVwOiBmdW5jdGlvbigpIHsNCgkJCQl2YXIgZG9jID0gdGhpcy5vd25lckRv
Y3VtZW50IHx8IHRoaXMsDQoJCQkJCWF0dGFjaGVzID0gZGF0YVByaXYuYWNjZXNzKCBkb2MsIGZp
eCApOw0KDQoJCQkJaWYgKCAhYXR0YWNoZXMgKSB7DQoJCQkJCWRvYy5hZGRFdmVudExpc3RlbmVy
KCBvcmlnLCBoYW5kbGVyLCB0cnVlICk7DQoJCQkJfQ0KCQkJCWRhdGFQcml2LmFjY2VzcyggZG9j
LCBmaXgsICggYXR0YWNoZXMgfHwgMCApICsgMSApOw0KCQkJfSwNCgkJCXRlYXJkb3duOiBmdW5j
dGlvbigpIHsNCgkJCQl2YXIgZG9jID0gdGhpcy5vd25lckRvY3VtZW50IHx8IHRoaXMsDQoJCQkJ
CWF0dGFjaGVzID0gZGF0YVByaXYuYWNjZXNzKCBkb2MsIGZpeCApIC0gMTsNCg0KCQkJCWlmICgg
IWF0dGFjaGVzICkgew0KCQkJCQlkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lciggb3JpZywgaGFuZGxl
ciwgdHJ1ZSApOw0KCQkJCQlkYXRhUHJpdi5yZW1vdmUoIGRvYywgZml4ICk7DQoNCgkJCQl9IGVs
c2Ugew0KCQkJCQlkYXRhUHJpdi5hY2Nlc3MoIGRvYywgZml4LCBhdHRhY2hlcyApOw0KCQkJCX0N
CgkJCX0NCgkJfTsNCgl9ICk7DQp9DQp2YXIgbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb247DQoN
CnZhciBub25jZSA9IGpRdWVyeS5ub3coKTsNCg0KdmFyIHJxdWVyeSA9ICggL1w/LyApOw0KDQoN
Cg0KLy8gQ3Jvc3MtYnJvd3NlciB4bWwgcGFyc2luZw0KalF1ZXJ5LnBhcnNlWE1MID0gZnVuY3Rp
b24oIGRhdGEgKSB7DQoJdmFyIHhtbDsNCglpZiAoICFkYXRhIHx8IHR5cGVvZiBkYXRhICE9PSAi
c3RyaW5nIiApIHsNCgkJcmV0dXJuIG51bGw7DQoJfQ0KDQoJLy8gU3VwcG9ydDogSUUgOSAtIDEx
IG9ubHkNCgkvLyBJRSB0aHJvd3Mgb24gcGFyc2VGcm9tU3RyaW5nIHdpdGggaW52YWxpZCBpbnB1
dC4NCgl0cnkgew0KCQl4bWwgPSAoIG5ldyB3aW5kb3cuRE9NUGFyc2VyKCkgKS5wYXJzZUZyb21T
dHJpbmcoIGRhdGEsICJ0ZXh0L3htbCIgKTsNCgl9IGNhdGNoICggZSApIHsNCgkJeG1sID0gdW5k
ZWZpbmVkOw0KCX0NCg0KCWlmICggIXhtbCB8fCB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoICJw
YXJzZXJlcnJvciIgKS5sZW5ndGggKSB7DQoJCWpRdWVyeS5lcnJvciggIkludmFsaWQgWE1MOiAi
ICsgZGF0YSApOw0KCX0NCglyZXR1cm4geG1sOw0KfTsNCg0KDQp2YXINCglyYnJhY2tldCA9IC9c
W1xdJC8sDQoJckNSTEYgPSAvXHI/XG4vZywNCglyc3VibWl0dGVyVHlwZXMgPSAvXig/OnN1Ym1p
dHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksDQoJcnN1Ym1pdHRhYmxlID0gL14oPzppbnB1
dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pOw0KDQpmdW5jdGlvbiBidWlsZFBhcmFtcyggcHJl
Zml4LCBvYmosIHRyYWRpdGlvbmFsLCBhZGQgKSB7DQoJdmFyIG5hbWU7DQoNCglpZiAoIEFycmF5
LmlzQXJyYXkoIG9iaiApICkgew0KDQoJCS8vIFNlcmlhbGl6ZSBhcnJheSBpdGVtLg0KCQlqUXVl
cnkuZWFjaCggb2JqLCBmdW5jdGlvbiggaSwgdiApIHsNCgkJCWlmICggdHJhZGl0aW9uYWwgfHwg
cmJyYWNrZXQudGVzdCggcHJlZml4ICkgKSB7DQoNCgkJCQkvLyBUcmVhdCBlYWNoIGFycmF5IGl0
ZW0gYXMgYSBzY2FsYXIuDQoJCQkJYWRkKCBwcmVmaXgsIHYgKTsNCg0KCQkJfSBlbHNlIHsNCg0K
CQkJCS8vIEl0ZW0gaXMgbm9uLXNjYWxhciAoYXJyYXkgb3Igb2JqZWN0KSwgZW5jb2RlIGl0cyBu
dW1lcmljIGluZGV4Lg0KCQkJCWJ1aWxkUGFyYW1zKA0KCQkJCQlwcmVmaXggKyAiWyIgKyAoIHR5
cGVvZiB2ID09PSAib2JqZWN0IiAmJiB2ICE9IG51bGwgPyBpIDogIiIgKSArICJdIiwNCgkJCQkJ
diwNCgkJCQkJdHJhZGl0aW9uYWwsDQoJCQkJCWFkZA0KCQkJCSk7DQoJCQl9DQoJCX0gKTsNCg0K
CX0gZWxzZSBpZiAoICF0cmFkaXRpb25hbCAmJiBqUXVlcnkudHlwZSggb2JqICkgPT09ICJvYmpl
Y3QiICkgew0KDQoJCS8vIFNlcmlhbGl6ZSBvYmplY3QgaXRlbS4NCgkJZm9yICggbmFtZSBpbiBv
YmogKSB7DQoJCQlidWlsZFBhcmFtcyggcHJlZml4ICsgIlsiICsgbmFtZSArICJdIiwgb2JqWyBu
YW1lIF0sIHRyYWRpdGlvbmFsLCBhZGQgKTsNCgkJfQ0KDQoJfSBlbHNlIHsNCg0KCQkvLyBTZXJp
YWxpemUgc2NhbGFyIGl0ZW0uDQoJCWFkZCggcHJlZml4LCBvYmogKTsNCgl9DQp9DQoNCi8vIFNl
cmlhbGl6ZSBhbiBhcnJheSBvZiBmb3JtIGVsZW1lbnRzIG9yIGEgc2V0IG9mDQovLyBrZXkvdmFs
dWVzIGludG8gYSBxdWVyeSBzdHJpbmcNCmpRdWVyeS5wYXJhbSA9IGZ1bmN0aW9uKCBhLCB0cmFk
aXRpb25hbCApIHsNCgl2YXIgcHJlZml4LA0KCQlzID0gW10sDQoJCWFkZCA9IGZ1bmN0aW9uKCBr
ZXksIHZhbHVlT3JGdW5jdGlvbiApIHsNCg0KCQkJLy8gSWYgdmFsdWUgaXMgYSBmdW5jdGlvbiwg
aW52b2tlIGl0IGFuZCB1c2UgaXRzIHJldHVybiB2YWx1ZQ0KCQkJdmFyIHZhbHVlID0galF1ZXJ5
LmlzRnVuY3Rpb24oIHZhbHVlT3JGdW5jdGlvbiApID8NCgkJCQl2YWx1ZU9yRnVuY3Rpb24oKSA6
DQoJCQkJdmFsdWVPckZ1bmN0aW9uOw0KDQoJCQlzWyBzLmxlbmd0aCBdID0gZW5jb2RlVVJJQ29t
cG9uZW50KCBrZXkgKSArICI9IiArDQoJCQkJZW5jb2RlVVJJQ29tcG9uZW50KCB2YWx1ZSA9PSBu
dWxsID8gIiIgOiB2YWx1ZSApOw0KCQl9Ow0KDQoJLy8gSWYgYW4gYXJyYXkgd2FzIHBhc3NlZCBp
biwgYXNzdW1lIHRoYXQgaXQgaXMgYW4gYXJyYXkgb2YgZm9ybSBlbGVtZW50cy4NCglpZiAoIEFy
cmF5LmlzQXJyYXkoIGEgKSB8fCAoIGEuanF1ZXJ5ICYmICFqUXVlcnkuaXNQbGFpbk9iamVjdCgg
YSApICkgKSB7DQoNCgkJLy8gU2VyaWFsaXplIHRoZSBmb3JtIGVsZW1lbnRzDQoJCWpRdWVyeS5l
YWNoKCBhLCBmdW5jdGlvbigpIHsNCgkJCWFkZCggdGhpcy5uYW1lLCB0aGlzLnZhbHVlICk7DQoJ
CX0gKTsNCg0KCX0gZWxzZSB7DQoNCgkJLy8gSWYgdHJhZGl0aW9uYWwsIGVuY29kZSB0aGUgIm9s
ZCIgd2F5ICh0aGUgd2F5IDEuMy4yIG9yIG9sZGVyDQoJCS8vIGRpZCBpdCksIG90aGVyd2lzZSBl
bmNvZGUgcGFyYW1zIHJlY3Vyc2l2ZWx5Lg0KCQlmb3IgKCBwcmVmaXggaW4gYSApIHsNCgkJCWJ1
aWxkUGFyYW1zKCBwcmVmaXgsIGFbIHByZWZpeCBdLCB0cmFkaXRpb25hbCwgYWRkICk7DQoJCX0N
Cgl9DQoNCgkvLyBSZXR1cm4gdGhlIHJlc3VsdGluZyBzZXJpYWxpemF0aW9uDQoJcmV0dXJuIHMu
am9pbiggIiYiICk7DQp9Ow0KDQpqUXVlcnkuZm4uZXh0ZW5kKCB7DQoJc2VyaWFsaXplOiBmdW5j
dGlvbigpIHsNCgkJcmV0dXJuIGpRdWVyeS5wYXJhbSggdGhpcy5zZXJpYWxpemVBcnJheSgpICk7
DQoJfSwNCglzZXJpYWxpemVBcnJheTogZnVuY3Rpb24oKSB7DQoJCXJldHVybiB0aGlzLm1hcCgg
ZnVuY3Rpb24oKSB7DQoNCgkJCS8vIENhbiBhZGQgcHJvcEhvb2sgZm9yICJlbGVtZW50cyIgdG8g
ZmlsdGVyIG9yIGFkZCBmb3JtIGVsZW1lbnRzDQoJCQl2YXIgZWxlbWVudHMgPSBqUXVlcnkucHJv
cCggdGhpcywgImVsZW1lbnRzIiApOw0KCQkJcmV0dXJuIGVsZW1lbnRzID8galF1ZXJ5Lm1ha2VB
cnJheSggZWxlbWVudHMgKSA6IHRoaXM7DQoJCX0gKQ0KCQkuZmlsdGVyKCBmdW5jdGlvbigpIHsN
CgkJCXZhciB0eXBlID0gdGhpcy50eXBlOw0KDQoJCQkvLyBVc2UgLmlzKCAiOmRpc2FibGVkIiAp
IHNvIHRoYXQgZmllbGRzZXRbZGlzYWJsZWRdIHdvcmtzDQoJCQlyZXR1cm4gdGhpcy5uYW1lICYm
ICFqUXVlcnkoIHRoaXMgKS5pcyggIjpkaXNhYmxlZCIgKSAmJg0KCQkJCXJzdWJtaXR0YWJsZS50
ZXN0KCB0aGlzLm5vZGVOYW1lICkgJiYgIXJzdWJtaXR0ZXJUeXBlcy50ZXN0KCB0eXBlICkgJiYN
CgkJCQkoIHRoaXMuY2hlY2tlZCB8fCAhcmNoZWNrYWJsZVR5cGUudGVzdCggdHlwZSApICk7DQoJ
CX0gKQ0KCQkubWFwKCBmdW5jdGlvbiggaSwgZWxlbSApIHsNCgkJCXZhciB2YWwgPSBqUXVlcnko
IHRoaXMgKS52YWwoKTsNCg0KCQkJaWYgKCB2YWwgPT0gbnVsbCApIHsNCgkJCQlyZXR1cm4gbnVs
bDsNCgkJCX0NCg0KCQkJaWYgKCBBcnJheS5pc0FycmF5KCB2YWwgKSApIHsNCgkJCQlyZXR1cm4g
alF1ZXJ5Lm1hcCggdmFsLCBmdW5jdGlvbiggdmFsICkgew0KCQkJCQlyZXR1cm4geyBuYW1lOiBl
bGVtLm5hbWUsIHZhbHVlOiB2YWwucmVwbGFjZSggckNSTEYsICJcclxuIiApIH07DQoJCQkJfSAp
Ow0KCQkJfQ0KDQoJCQlyZXR1cm4geyBuYW1lOiBlbGVtLm5hbWUsIHZhbHVlOiB2YWwucmVwbGFj
ZSggckNSTEYsICJcclxuIiApIH07DQoJCX0gKS5nZXQoKTsNCgl9DQp9ICk7DQoNCg0KdmFyDQoJ
cjIwID0gLyUyMC9nLA0KCXJoYXNoID0gLyMuKiQvLA0KCXJhbnRpQ2FjaGUgPSAvKFs/Jl0pXz1b
XiZdKi8sDQoJcmhlYWRlcnMgPSAvXiguKj8pOlsgXHRdKihbXlxyXG5dKikkL21nLA0KDQoJLy8g
Izc2NTMsICM4MTI1LCAjODE1MjogbG9jYWwgcHJvdG9jb2wgZGV0ZWN0aW9uDQoJcmxvY2FsUHJv
dG9jb2wgPSAvXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8
d2lkZ2V0KTokLywNCglybm9Db250ZW50ID0gL14oPzpHRVR8SEVBRCkkLywNCglycHJvdG9jb2wg
PSAvXlwvXC8vLA0KDQoJLyogUHJlZmlsdGVycw0KCSAqIDEpIFRoZXkgYXJlIHVzZWZ1bCB0byBp
bnRyb2R1Y2UgY3VzdG9tIGRhdGFUeXBlcyAoc2VlIGFqYXgvanNvbnAuanMgZm9yIGFuIGV4YW1w
bGUpDQoJICogMikgVGhlc2UgYXJlIGNhbGxlZDoNCgkgKiAgICAtIEJFRk9SRSBhc2tpbmcgZm9y
IGEgdHJhbnNwb3J0DQoJICogICAgLSBBRlRFUiBwYXJhbSBzZXJpYWxpemF0aW9uIChzLmRhdGEg
aXMgYSBzdHJpbmcgaWYgcy5wcm9jZXNzRGF0YSBpcyB0cnVlKQ0KCSAqIDMpIGtleSBpcyB0aGUg
ZGF0YVR5cGUNCgkgKiA0KSB0aGUgY2F0Y2hhbGwgc3ltYm9sICIqIiBjYW4gYmUgdXNlZA0KCSAq
IDUpIGV4ZWN1dGlvbiB3aWxsIHN0YXJ0IHdpdGggdHJhbnNwb3J0IGRhdGFUeXBlIGFuZCBUSEVO
IGNvbnRpbnVlIGRvd24gdG8gIioiIGlmIG5lZWRlZA0KCSAqLw0KCXByZWZpbHRlcnMgPSB7fSwN
Cg0KCS8qIFRyYW5zcG9ydHMgYmluZGluZ3MNCgkgKiAxKSBrZXkgaXMgdGhlIGRhdGFUeXBlDQoJ
ICogMikgdGhlIGNhdGNoYWxsIHN5bWJvbCAiKiIgY2FuIGJlIHVzZWQNCgkgKiAzKSBzZWxlY3Rp
b24gd2lsbCBzdGFydCB3aXRoIHRyYW5zcG9ydCBkYXRhVHlwZSBhbmQgVEhFTiBnbyB0byAiKiIg
aWYgbmVlZGVkDQoJICovDQoJdHJhbnNwb3J0cyA9IHt9LA0KDQoJLy8gQXZvaWQgY29tbWVudC1w
cm9sb2cgY2hhciBzZXF1ZW5jZSAoIzEwMDk4KTsgbXVzdCBhcHBlYXNlIGxpbnQgYW5kIGV2YWRl
IGNvbXByZXNzaW9uDQoJYWxsVHlwZXMgPSAiKi8iLmNvbmNhdCggIioiICksDQoNCgkvLyBBbmNo
b3IgdGFnIGZvciBwYXJzaW5nIHRoZSBkb2N1bWVudCBvcmlnaW4NCglvcmlnaW5BbmNob3IgPSBk
b2N1bWVudC5jcmVhdGVFbGVtZW50KCAiYSIgKTsNCglvcmlnaW5BbmNob3IuaHJlZiA9IGxvY2F0
aW9uLmhyZWY7DQoNCi8vIEJhc2UgImNvbnN0cnVjdG9yIiBmb3IgalF1ZXJ5LmFqYXhQcmVmaWx0
ZXIgYW5kIGpRdWVyeS5hamF4VHJhbnNwb3J0DQpmdW5jdGlvbiBhZGRUb1ByZWZpbHRlcnNPclRy
YW5zcG9ydHMoIHN0cnVjdHVyZSApIHsNCg0KCS8vIGRhdGFUeXBlRXhwcmVzc2lvbiBpcyBvcHRp
b25hbCBhbmQgZGVmYXVsdHMgdG8gIioiDQoJcmV0dXJuIGZ1bmN0aW9uKCBkYXRhVHlwZUV4cHJl
c3Npb24sIGZ1bmMgKSB7DQoNCgkJaWYgKCB0eXBlb2YgZGF0YVR5cGVFeHByZXNzaW9uICE9PSAi
c3RyaW5nIiApIHsNCgkJCWZ1bmMgPSBkYXRhVHlwZUV4cHJlc3Npb247DQoJCQlkYXRhVHlwZUV4
cHJlc3Npb24gPSAiKiI7DQoJCX0NCg0KCQl2YXIgZGF0YVR5cGUsDQoJCQlpID0gMCwNCgkJCWRh
dGFUeXBlcyA9IGRhdGFUeXBlRXhwcmVzc2lvbi50b0xvd2VyQ2FzZSgpLm1hdGNoKCBybm90aHRt
bHdoaXRlICkgfHwgW107DQoNCgkJaWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggZnVuYyApICkgew0K
DQoJCQkvLyBGb3IgZWFjaCBkYXRhVHlwZSBpbiB0aGUgZGF0YVR5cGVFeHByZXNzaW9uDQoJCQl3
aGlsZSAoICggZGF0YVR5cGUgPSBkYXRhVHlwZXNbIGkrKyBdICkgKSB7DQoNCgkJCQkvLyBQcmVw
ZW5kIGlmIHJlcXVlc3RlZA0KCQkJCWlmICggZGF0YVR5cGVbIDAgXSA9PT0gIisiICkgew0KCQkJ
CQlkYXRhVHlwZSA9IGRhdGFUeXBlLnNsaWNlKCAxICkgfHwgIioiOw0KCQkJCQkoIHN0cnVjdHVy
ZVsgZGF0YVR5cGUgXSA9IHN0cnVjdHVyZVsgZGF0YVR5cGUgXSB8fCBbXSApLnVuc2hpZnQoIGZ1
bmMgKTsNCg0KCQkJCS8vIE90aGVyd2lzZSBhcHBlbmQNCgkJCQl9IGVsc2Ugew0KCQkJCQkoIHN0
cnVjdHVyZVsgZGF0YVR5cGUgXSA9IHN0cnVjdHVyZVsgZGF0YVR5cGUgXSB8fCBbXSApLnB1c2go
IGZ1bmMgKTsNCgkJCQl9DQoJCQl9DQoJCX0NCgl9Ow0KfQ0KDQovLyBCYXNlIGluc3BlY3Rpb24g
ZnVuY3Rpb24gZm9yIHByZWZpbHRlcnMgYW5kIHRyYW5zcG9ydHMNCmZ1bmN0aW9uIGluc3BlY3RQ
cmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBzdHJ1Y3R1cmUsIG9wdGlvbnMsIG9yaWdpbmFsT3B0aW9u
cywganFYSFIgKSB7DQoNCgl2YXIgaW5zcGVjdGVkID0ge30sDQoJCXNlZWtpbmdUcmFuc3BvcnQg
PSAoIHN0cnVjdHVyZSA9PT0gdHJhbnNwb3J0cyApOw0KDQoJZnVuY3Rpb24gaW5zcGVjdCggZGF0
YVR5cGUgKSB7DQoJCXZhciBzZWxlY3RlZDsNCgkJaW5zcGVjdGVkWyBkYXRhVHlwZSBdID0gdHJ1
ZTsNCgkJalF1ZXJ5LmVhY2goIHN0cnVjdHVyZVsgZGF0YVR5cGUgXSB8fCBbXSwgZnVuY3Rpb24o
IF8sIHByZWZpbHRlck9yRmFjdG9yeSApIHsNCgkJCXZhciBkYXRhVHlwZU9yVHJhbnNwb3J0ID0g
cHJlZmlsdGVyT3JGYWN0b3J5KCBvcHRpb25zLCBvcmlnaW5hbE9wdGlvbnMsIGpxWEhSICk7DQoJ
CQlpZiAoIHR5cGVvZiBkYXRhVHlwZU9yVHJhbnNwb3J0ID09PSAic3RyaW5nIiAmJg0KCQkJCSFz
ZWVraW5nVHJhbnNwb3J0ICYmICFpbnNwZWN0ZWRbIGRhdGFUeXBlT3JUcmFuc3BvcnQgXSApIHsN
Cg0KCQkJCW9wdGlvbnMuZGF0YVR5cGVzLnVuc2hpZnQoIGRhdGFUeXBlT3JUcmFuc3BvcnQgKTsN
CgkJCQlpbnNwZWN0KCBkYXRhVHlwZU9yVHJhbnNwb3J0ICk7DQoJCQkJcmV0dXJuIGZhbHNlOw0K
CQkJfSBlbHNlIGlmICggc2Vla2luZ1RyYW5zcG9ydCApIHsNCgkJCQlyZXR1cm4gISggc2VsZWN0
ZWQgPSBkYXRhVHlwZU9yVHJhbnNwb3J0ICk7DQoJCQl9DQoJCX0gKTsNCgkJcmV0dXJuIHNlbGVj
dGVkOw0KCX0NCg0KCXJldHVybiBpbnNwZWN0KCBvcHRpb25zLmRhdGFUeXBlc1sgMCBdICkgfHwg
IWluc3BlY3RlZFsgIioiIF0gJiYgaW5zcGVjdCggIioiICk7DQp9DQoNCi8vIEEgc3BlY2lhbCBl
eHRlbmQgZm9yIGFqYXggb3B0aW9ucw0KLy8gdGhhdCB0YWtlcyAiZmxhdCIgb3B0aW9ucyAobm90
IHRvIGJlIGRlZXAgZXh0ZW5kZWQpDQovLyBGaXhlcyAjOTg4Nw0KZnVuY3Rpb24gYWpheEV4dGVu
ZCggdGFyZ2V0LCBzcmMgKSB7DQoJdmFyIGtleSwgZGVlcCwNCgkJZmxhdE9wdGlvbnMgPSBqUXVl
cnkuYWpheFNldHRpbmdzLmZsYXRPcHRpb25zIHx8IHt9Ow0KDQoJZm9yICgga2V5IGluIHNyYyAp
IHsNCgkJaWYgKCBzcmNbIGtleSBdICE9PSB1bmRlZmluZWQgKSB7DQoJCQkoIGZsYXRPcHRpb25z
WyBrZXkgXSA/IHRhcmdldCA6ICggZGVlcCB8fCAoIGRlZXAgPSB7fSApICkgKVsga2V5IF0gPSBz
cmNbIGtleSBdOw0KCQl9DQoJfQ0KCWlmICggZGVlcCApIHsNCgkJalF1ZXJ5LmV4dGVuZCggdHJ1
ZSwgdGFyZ2V0LCBkZWVwICk7DQoJfQ0KDQoJcmV0dXJuIHRhcmdldDsNCn0NCg0KLyogSGFuZGxl
cyByZXNwb25zZXMgdG8gYW4gYWpheCByZXF1ZXN0Og0KICogLSBmaW5kcyB0aGUgcmlnaHQgZGF0
YVR5cGUgKG1lZGlhdGVzIGJldHdlZW4gY29udGVudC10eXBlIGFuZCBleHBlY3RlZCBkYXRhVHlw
ZSkNCiAqIC0gcmV0dXJucyB0aGUgY29ycmVzcG9uZGluZyByZXNwb25zZQ0KICovDQpmdW5jdGlv
biBhamF4SGFuZGxlUmVzcG9uc2VzKCBzLCBqcVhIUiwgcmVzcG9uc2VzICkgew0KDQoJdmFyIGN0
LCB0eXBlLCBmaW5hbERhdGFUeXBlLCBmaXJzdERhdGFUeXBlLA0KCQljb250ZW50cyA9IHMuY29u
dGVudHMsDQoJCWRhdGFUeXBlcyA9IHMuZGF0YVR5cGVzOw0KDQoJLy8gUmVtb3ZlIGF1dG8gZGF0
YVR5cGUgYW5kIGdldCBjb250ZW50LXR5cGUgaW4gdGhlIHByb2Nlc3MNCgl3aGlsZSAoIGRhdGFU
eXBlc1sgMCBdID09PSAiKiIgKSB7DQoJCWRhdGFUeXBlcy5zaGlmdCgpOw0KCQlpZiAoIGN0ID09
PSB1bmRlZmluZWQgKSB7DQoJCQljdCA9IHMubWltZVR5cGUgfHwganFYSFIuZ2V0UmVzcG9uc2VI
ZWFkZXIoICJDb250ZW50LVR5cGUiICk7DQoJCX0NCgl9DQoNCgkvLyBDaGVjayBpZiB3ZSdyZSBk
ZWFsaW5nIHdpdGggYSBrbm93biBjb250ZW50LXR5cGUNCglpZiAoIGN0ICkgew0KCQlmb3IgKCB0
eXBlIGluIGNvbnRlbnRzICkgew0KCQkJaWYgKCBjb250ZW50c1sgdHlwZSBdICYmIGNvbnRlbnRz
WyB0eXBlIF0udGVzdCggY3QgKSApIHsNCgkJCQlkYXRhVHlwZXMudW5zaGlmdCggdHlwZSApOw0K
CQkJCWJyZWFrOw0KCQkJfQ0KCQl9DQoJfQ0KDQoJLy8gQ2hlY2sgdG8gc2VlIGlmIHdlIGhhdmUg
YSByZXNwb25zZSBmb3IgdGhlIGV4cGVjdGVkIGRhdGFUeXBlDQoJaWYgKCBkYXRhVHlwZXNbIDAg
XSBpbiByZXNwb25zZXMgKSB7DQoJCWZpbmFsRGF0YVR5cGUgPSBkYXRhVHlwZXNbIDAgXTsNCgl9
IGVsc2Ugew0KDQoJCS8vIFRyeSBjb252ZXJ0aWJsZSBkYXRhVHlwZXMNCgkJZm9yICggdHlwZSBp
biByZXNwb25zZXMgKSB7DQoJCQlpZiAoICFkYXRhVHlwZXNbIDAgXSB8fCBzLmNvbnZlcnRlcnNb
IHR5cGUgKyAiICIgKyBkYXRhVHlwZXNbIDAgXSBdICkgew0KCQkJCWZpbmFsRGF0YVR5cGUgPSB0
eXBlOw0KCQkJCWJyZWFrOw0KCQkJfQ0KCQkJaWYgKCAhZmlyc3REYXRhVHlwZSApIHsNCgkJCQlm
aXJzdERhdGFUeXBlID0gdHlwZTsNCgkJCX0NCgkJfQ0KDQoJCS8vIE9yIGp1c3QgdXNlIGZpcnN0
IG9uZQ0KCQlmaW5hbERhdGFUeXBlID0gZmluYWxEYXRhVHlwZSB8fCBmaXJzdERhdGFUeXBlOw0K
CX0NCg0KCS8vIElmIHdlIGZvdW5kIGEgZGF0YVR5cGUNCgkvLyBXZSBhZGQgdGhlIGRhdGFUeXBl
IHRvIHRoZSBsaXN0IGlmIG5lZWRlZA0KCS8vIGFuZCByZXR1cm4gdGhlIGNvcnJlc3BvbmRpbmcg
cmVzcG9uc2UNCglpZiAoIGZpbmFsRGF0YVR5cGUgKSB7DQoJCWlmICggZmluYWxEYXRhVHlwZSAh
PT0gZGF0YVR5cGVzWyAwIF0gKSB7DQoJCQlkYXRhVHlwZXMudW5zaGlmdCggZmluYWxEYXRhVHlw
ZSApOw0KCQl9DQoJCXJldHVybiByZXNwb25zZXNbIGZpbmFsRGF0YVR5cGUgXTsNCgl9DQp9DQoN
Ci8qIENoYWluIGNvbnZlcnNpb25zIGdpdmVuIHRoZSByZXF1ZXN0IGFuZCB0aGUgb3JpZ2luYWwg
cmVzcG9uc2UNCiAqIEFsc28gc2V0cyB0aGUgcmVzcG9uc2VYWFggZmllbGRzIG9uIHRoZSBqcVhI
UiBpbnN0YW5jZQ0KICovDQpmdW5jdGlvbiBhamF4Q29udmVydCggcywgcmVzcG9uc2UsIGpxWEhS
LCBpc1N1Y2Nlc3MgKSB7DQoJdmFyIGNvbnYyLCBjdXJyZW50LCBjb252LCB0bXAsIHByZXYsDQoJ
CWNvbnZlcnRlcnMgPSB7fSwNCg0KCQkvLyBXb3JrIHdpdGggYSBjb3B5IG9mIGRhdGFUeXBlcyBp
biBjYXNlIHdlIG5lZWQgdG8gbW9kaWZ5IGl0IGZvciBjb252ZXJzaW9uDQoJCWRhdGFUeXBlcyA9
IHMuZGF0YVR5cGVzLnNsaWNlKCk7DQoNCgkvLyBDcmVhdGUgY29udmVydGVycyBtYXAgd2l0aCBs
b3dlcmNhc2VkIGtleXMNCglpZiAoIGRhdGFUeXBlc1sgMSBdICkgew0KCQlmb3IgKCBjb252IGlu
IHMuY29udmVydGVycyApIHsNCgkJCWNvbnZlcnRlcnNbIGNvbnYudG9Mb3dlckNhc2UoKSBdID0g
cy5jb252ZXJ0ZXJzWyBjb252IF07DQoJCX0NCgl9DQoNCgljdXJyZW50ID0gZGF0YVR5cGVzLnNo
aWZ0KCk7DQoNCgkvLyBDb252ZXJ0IHRvIGVhY2ggc2VxdWVudGlhbCBkYXRhVHlwZQ0KCXdoaWxl
ICggY3VycmVudCApIHsNCg0KCQlpZiAoIHMucmVzcG9uc2VGaWVsZHNbIGN1cnJlbnQgXSApIHsN
CgkJCWpxWEhSWyBzLnJlc3BvbnNlRmllbGRzWyBjdXJyZW50IF0gXSA9IHJlc3BvbnNlOw0KCQl9
DQoNCgkJLy8gQXBwbHkgdGhlIGRhdGFGaWx0ZXIgaWYgcHJvdmlkZWQNCgkJaWYgKCAhcHJldiAm
JiBpc1N1Y2Nlc3MgJiYgcy5kYXRhRmlsdGVyICkgew0KCQkJcmVzcG9uc2UgPSBzLmRhdGFGaWx0
ZXIoIHJlc3BvbnNlLCBzLmRhdGFUeXBlICk7DQoJCX0NCg0KCQlwcmV2ID0gY3VycmVudDsNCgkJ
Y3VycmVudCA9IGRhdGFUeXBlcy5zaGlmdCgpOw0KDQoJCWlmICggY3VycmVudCApIHsNCg0KCQkJ
Ly8gVGhlcmUncyBvbmx5IHdvcmsgdG8gZG8gaWYgY3VycmVudCBkYXRhVHlwZSBpcyBub24tYXV0
bw0KCQkJaWYgKCBjdXJyZW50ID09PSAiKiIgKSB7DQoNCgkJCQljdXJyZW50ID0gcHJldjsNCg0K
CQkJLy8gQ29udmVydCByZXNwb25zZSBpZiBwcmV2IGRhdGFUeXBlIGlzIG5vbi1hdXRvIGFuZCBk
aWZmZXJzIGZyb20gY3VycmVudA0KCQkJfSBlbHNlIGlmICggcHJldiAhPT0gIioiICYmIHByZXYg
IT09IGN1cnJlbnQgKSB7DQoNCgkJCQkvLyBTZWVrIGEgZGlyZWN0IGNvbnZlcnRlcg0KCQkJCWNv
bnYgPSBjb252ZXJ0ZXJzWyBwcmV2ICsgIiAiICsgY3VycmVudCBdIHx8IGNvbnZlcnRlcnNbICIq
ICIgKyBjdXJyZW50IF07DQoNCgkJCQkvLyBJZiBub25lIGZvdW5kLCBzZWVrIGEgcGFpcg0KCQkJ
CWlmICggIWNvbnYgKSB7DQoJCQkJCWZvciAoIGNvbnYyIGluIGNvbnZlcnRlcnMgKSB7DQoNCgkJ
CQkJCS8vIElmIGNvbnYyIG91dHB1dHMgY3VycmVudA0KCQkJCQkJdG1wID0gY29udjIuc3BsaXQo
ICIgIiApOw0KCQkJCQkJaWYgKCB0bXBbIDEgXSA9PT0gY3VycmVudCApIHsNCg0KCQkJCQkJCS8v
IElmIHByZXYgY2FuIGJlIGNvbnZlcnRlZCB0byBhY2NlcHRlZCBpbnB1dA0KCQkJCQkJCWNvbnYg
PSBjb252ZXJ0ZXJzWyBwcmV2ICsgIiAiICsgdG1wWyAwIF0gXSB8fA0KCQkJCQkJCQljb252ZXJ0
ZXJzWyAiKiAiICsgdG1wWyAwIF0gXTsNCgkJCQkJCQlpZiAoIGNvbnYgKSB7DQoNCgkJCQkJCQkJ
Ly8gQ29uZGVuc2UgZXF1aXZhbGVuY2UgY29udmVydGVycw0KCQkJCQkJCQlpZiAoIGNvbnYgPT09
IHRydWUgKSB7DQoJCQkJCQkJCQljb252ID0gY29udmVydGVyc1sgY29udjIgXTsNCg0KCQkJCQkJ
CQkvLyBPdGhlcndpc2UsIGluc2VydCB0aGUgaW50ZXJtZWRpYXRlIGRhdGFUeXBlDQoJCQkJCQkJ
CX0gZWxzZSBpZiAoIGNvbnZlcnRlcnNbIGNvbnYyIF0gIT09IHRydWUgKSB7DQoJCQkJCQkJCQlj
dXJyZW50ID0gdG1wWyAwIF07DQoJCQkJCQkJCQlkYXRhVHlwZXMudW5zaGlmdCggdG1wWyAxIF0g
KTsNCgkJCQkJCQkJfQ0KCQkJCQkJCQlicmVhazsNCgkJCQkJCQl9DQoJCQkJCQl9DQoJCQkJCX0N
CgkJCQl9DQoNCgkJCQkvLyBBcHBseSBjb252ZXJ0ZXIgKGlmIG5vdCBhbiBlcXVpdmFsZW5jZSkN
CgkJCQlpZiAoIGNvbnYgIT09IHRydWUgKSB7DQoNCgkJCQkJLy8gVW5sZXNzIGVycm9ycyBhcmUg
YWxsb3dlZCB0byBidWJibGUsIGNhdGNoIGFuZCByZXR1cm4gdGhlbQ0KCQkJCQlpZiAoIGNvbnYg
JiYgcy50aHJvd3MgKSB7DQoJCQkJCQlyZXNwb25zZSA9IGNvbnYoIHJlc3BvbnNlICk7DQoJCQkJ
CX0gZWxzZSB7DQoJCQkJCQl0cnkgew0KCQkJCQkJCXJlc3BvbnNlID0gY29udiggcmVzcG9uc2Ug
KTsNCgkJCQkJCX0gY2F0Y2ggKCBlICkgew0KCQkJCQkJCXJldHVybiB7DQoJCQkJCQkJCXN0YXRl
OiAicGFyc2VyZXJyb3IiLA0KCQkJCQkJCQllcnJvcjogY29udiA/IGUgOiAiTm8gY29udmVyc2lv
biBmcm9tICIgKyBwcmV2ICsgIiB0byAiICsgY3VycmVudA0KCQkJCQkJCX07DQoJCQkJCQl9DQoJ
CQkJCX0NCgkJCQl9DQoJCQl9DQoJCX0NCgl9DQoNCglyZXR1cm4geyBzdGF0ZTogInN1Y2Nlc3Mi
LCBkYXRhOiByZXNwb25zZSB9Ow0KfQ0KDQpqUXVlcnkuZXh0ZW5kKCB7DQoNCgkvLyBDb3VudGVy
IGZvciBob2xkaW5nIHRoZSBudW1iZXIgb2YgYWN0aXZlIHF1ZXJpZXMNCglhY3RpdmU6IDAsDQoN
CgkvLyBMYXN0LU1vZGlmaWVkIGhlYWRlciBjYWNoZSBmb3IgbmV4dCByZXF1ZXN0DQoJbGFzdE1v
ZGlmaWVkOiB7fSwNCglldGFnOiB7fSwNCg0KCWFqYXhTZXR0aW5nczogew0KCQl1cmw6IGxvY2F0
aW9uLmhyZWYsDQoJCXR5cGU6ICJHRVQiLA0KCQlpc0xvY2FsOiBybG9jYWxQcm90b2NvbC50ZXN0
KCBsb2NhdGlvbi5wcm90b2NvbCApLA0KCQlnbG9iYWw6IHRydWUsDQoJCXByb2Nlc3NEYXRhOiB0
cnVlLA0KCQlhc3luYzogdHJ1ZSwNCgkJY29udGVudFR5cGU6ICJhcHBsaWNhdGlvbi94LXd3dy1m
b3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgiLA0KDQoJCS8qDQoJCXRpbWVvdXQ6IDAsDQoJ
CWRhdGE6IG51bGwsDQoJCWRhdGFUeXBlOiBudWxsLA0KCQl1c2VybmFtZTogbnVsbCwNCgkJcGFz
c3dvcmQ6IG51bGwsDQoJCWNhY2hlOiBudWxsLA0KCQl0aHJvd3M6IGZhbHNlLA0KCQl0cmFkaXRp
b25hbDogZmFsc2UsDQoJCWhlYWRlcnM6IHt9LA0KCQkqLw0KDQoJCWFjY2VwdHM6IHsNCgkJCSIq
IjogYWxsVHlwZXMsDQoJCQl0ZXh0OiAidGV4dC9wbGFpbiIsDQoJCQlodG1sOiAidGV4dC9odG1s
IiwNCgkJCXhtbDogImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwiLA0KCQkJanNvbjogImFwcGxp
Y2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdCINCgkJfSwNCg0KCQljb250ZW50czogew0KCQkJ
eG1sOiAvXGJ4bWxcYi8sDQoJCQlodG1sOiAvXGJodG1sLywNCgkJCWpzb246IC9cYmpzb25cYi8N
CgkJfSwNCg0KCQlyZXNwb25zZUZpZWxkczogew0KCQkJeG1sOiAicmVzcG9uc2VYTUwiLA0KCQkJ
dGV4dDogInJlc3BvbnNlVGV4dCIsDQoJCQlqc29uOiAicmVzcG9uc2VKU09OIg0KCQl9LA0KDQoJ
CS8vIERhdGEgY29udmVydGVycw0KCQkvLyBLZXlzIHNlcGFyYXRlIHNvdXJjZSAob3IgY2F0Y2hh
bGwgIioiKSBhbmQgZGVzdGluYXRpb24gdHlwZXMgd2l0aCBhIHNpbmdsZSBzcGFjZQ0KCQljb252
ZXJ0ZXJzOiB7DQoNCgkJCS8vIENvbnZlcnQgYW55dGhpbmcgdG8gdGV4dA0KCQkJIiogdGV4dCI6
IFN0cmluZywNCg0KCQkJLy8gVGV4dCB0byBodG1sICh0cnVlID0gbm8gdHJhbnNmb3JtYXRpb24p
DQoJCQkidGV4dCBodG1sIjogdHJ1ZSwNCg0KCQkJLy8gRXZhbHVhdGUgdGV4dCBhcyBhIGpzb24g
ZXhwcmVzc2lvbg0KCQkJInRleHQganNvbiI6IEpTT04ucGFyc2UsDQoNCgkJCS8vIFBhcnNlIHRl
eHQgYXMgeG1sDQoJCQkidGV4dCB4bWwiOiBqUXVlcnkucGFyc2VYTUwNCgkJfSwNCg0KCQkvLyBG
b3Igb3B0aW9ucyB0aGF0IHNob3VsZG4ndCBiZSBkZWVwIGV4dGVuZGVkOg0KCQkvLyB5b3UgY2Fu
IGFkZCB5b3VyIG93biBjdXN0b20gb3B0aW9ucyBoZXJlIGlmDQoJCS8vIGFuZCB3aGVuIHlvdSBj
cmVhdGUgb25lIHRoYXQgc2hvdWxkbid0IGJlDQoJCS8vIGRlZXAgZXh0ZW5kZWQgKHNlZSBhamF4
RXh0ZW5kKQ0KCQlmbGF0T3B0aW9uczogew0KCQkJdXJsOiB0cnVlLA0KCQkJY29udGV4dDogdHJ1
ZQ0KCQl9DQoJfSwNCg0KCS8vIENyZWF0ZXMgYSBmdWxsIGZsZWRnZWQgc2V0dGluZ3Mgb2JqZWN0
IGludG8gdGFyZ2V0DQoJLy8gd2l0aCBib3RoIGFqYXhTZXR0aW5ncyBhbmQgc2V0dGluZ3MgZmll
bGRzLg0KCS8vIElmIHRhcmdldCBpcyBvbWl0dGVkLCB3cml0ZXMgaW50byBhamF4U2V0dGluZ3Mu
DQoJYWpheFNldHVwOiBmdW5jdGlvbiggdGFyZ2V0LCBzZXR0aW5ncyApIHsNCgkJcmV0dXJuIHNl
dHRpbmdzID8NCg0KCQkJLy8gQnVpbGRpbmcgYSBzZXR0aW5ncyBvYmplY3QNCgkJCWFqYXhFeHRl
bmQoIGFqYXhFeHRlbmQoIHRhcmdldCwgalF1ZXJ5LmFqYXhTZXR0aW5ncyApLCBzZXR0aW5ncyAp
IDoNCg0KCQkJLy8gRXh0ZW5kaW5nIGFqYXhTZXR0aW5ncw0KCQkJYWpheEV4dGVuZCggalF1ZXJ5
LmFqYXhTZXR0aW5ncywgdGFyZ2V0ICk7DQoJfSwNCg0KCWFqYXhQcmVmaWx0ZXI6IGFkZFRvUHJl
ZmlsdGVyc09yVHJhbnNwb3J0cyggcHJlZmlsdGVycyApLA0KCWFqYXhUcmFuc3BvcnQ6IGFkZFRv
UHJlZmlsdGVyc09yVHJhbnNwb3J0cyggdHJhbnNwb3J0cyApLA0KDQoJLy8gTWFpbiBtZXRob2QN
CglhamF4OiBmdW5jdGlvbiggdXJsLCBvcHRpb25zICkgew0KDQoJCS8vIElmIHVybCBpcyBhbiBv
YmplY3QsIHNpbXVsYXRlIHByZS0xLjUgc2lnbmF0dXJlDQoJCWlmICggdHlwZW9mIHVybCA9PT0g
Im9iamVjdCIgKSB7DQoJCQlvcHRpb25zID0gdXJsOw0KCQkJdXJsID0gdW5kZWZpbmVkOw0KCQl9
DQoNCgkJLy8gRm9yY2Ugb3B0aW9ucyB0byBiZSBhbiBvYmplY3QNCgkJb3B0aW9ucyA9IG9wdGlv
bnMgfHwge307DQoNCgkJdmFyIHRyYW5zcG9ydCwNCg0KCQkJLy8gVVJMIHdpdGhvdXQgYW50aS1j
YWNoZSBwYXJhbQ0KCQkJY2FjaGVVUkwsDQoNCgkJCS8vIFJlc3BvbnNlIGhlYWRlcnMNCgkJCXJl
c3BvbnNlSGVhZGVyc1N0cmluZywNCgkJCXJlc3BvbnNlSGVhZGVycywNCg0KCQkJLy8gdGltZW91
dCBoYW5kbGUNCgkJCXRpbWVvdXRUaW1lciwNCg0KCQkJLy8gVXJsIGNsZWFudXAgdmFyDQoJCQl1
cmxBbmNob3IsDQoNCgkJCS8vIFJlcXVlc3Qgc3RhdGUgKGJlY29tZXMgZmFsc2UgdXBvbiBzZW5k
IGFuZCB0cnVlIHVwb24gY29tcGxldGlvbikNCgkJCWNvbXBsZXRlZCwNCg0KCQkJLy8gVG8ga25v
dyBpZiBnbG9iYWwgZXZlbnRzIGFyZSB0byBiZSBkaXNwYXRjaGVkDQoJCQlmaXJlR2xvYmFscywN
Cg0KCQkJLy8gTG9vcCB2YXJpYWJsZQ0KCQkJaSwNCg0KCQkJLy8gdW5jYWNoZWQgcGFydCBvZiB0
aGUgdXJsDQoJCQl1bmNhY2hlZCwNCg0KCQkJLy8gQ3JlYXRlIHRoZSBmaW5hbCBvcHRpb25zIG9i
amVjdA0KCQkJcyA9IGpRdWVyeS5hamF4U2V0dXAoIHt9LCBvcHRpb25zICksDQoNCgkJCS8vIENh
bGxiYWNrcyBjb250ZXh0DQoJCQljYWxsYmFja0NvbnRleHQgPSBzLmNvbnRleHQgfHwgcywNCg0K
CQkJLy8gQ29udGV4dCBmb3IgZ2xvYmFsIGV2ZW50cyBpcyBjYWxsYmFja0NvbnRleHQgaWYgaXQg
aXMgYSBET00gbm9kZSBvciBqUXVlcnkgY29sbGVjdGlvbg0KCQkJZ2xvYmFsRXZlbnRDb250ZXh0
ID0gcy5jb250ZXh0ICYmDQoJCQkJKCBjYWxsYmFja0NvbnRleHQubm9kZVR5cGUgfHwgY2FsbGJh
Y2tDb250ZXh0LmpxdWVyeSApID8NCgkJCQkJalF1ZXJ5KCBjYWxsYmFja0NvbnRleHQgKSA6DQoJ
CQkJCWpRdWVyeS5ldmVudCwNCg0KCQkJLy8gRGVmZXJyZWRzDQoJCQlkZWZlcnJlZCA9IGpRdWVy
eS5EZWZlcnJlZCgpLA0KCQkJY29tcGxldGVEZWZlcnJlZCA9IGpRdWVyeS5DYWxsYmFja3MoICJv
bmNlIG1lbW9yeSIgKSwNCg0KCQkJLy8gU3RhdHVzLWRlcGVuZGVudCBjYWxsYmFja3MNCgkJCXN0
YXR1c0NvZGUgPSBzLnN0YXR1c0NvZGUgfHwge30sDQoNCgkJCS8vIEhlYWRlcnMgKHRoZXkgYXJl
IHNlbnQgYWxsIGF0IG9uY2UpDQoJCQlyZXF1ZXN0SGVhZGVycyA9IHt9LA0KCQkJcmVxdWVzdEhl
YWRlcnNOYW1lcyA9IHt9LA0KDQoJCQkvLyBEZWZhdWx0IGFib3J0IG1lc3NhZ2UNCgkJCXN0ckFi
b3J0ID0gImNhbmNlbGVkIiwNCg0KCQkJLy8gRmFrZSB4aHINCgkJCWpxWEhSID0gew0KCQkJCXJl
YWR5U3RhdGU6IDAsDQoNCgkJCQkvLyBCdWlsZHMgaGVhZGVycyBoYXNodGFibGUgaWYgbmVlZGVk
DQoJCQkJZ2V0UmVzcG9uc2VIZWFkZXI6IGZ1bmN0aW9uKCBrZXkgKSB7DQoJCQkJCXZhciBtYXRj
aDsNCgkJCQkJaWYgKCBjb21wbGV0ZWQgKSB7DQoJCQkJCQlpZiAoICFyZXNwb25zZUhlYWRlcnMg
KSB7DQoJCQkJCQkJcmVzcG9uc2VIZWFkZXJzID0ge307DQoJCQkJCQkJd2hpbGUgKCAoIG1hdGNo
ID0gcmhlYWRlcnMuZXhlYyggcmVzcG9uc2VIZWFkZXJzU3RyaW5nICkgKSApIHsNCgkJCQkJCQkJ
cmVzcG9uc2VIZWFkZXJzWyBtYXRjaFsgMSBdLnRvTG93ZXJDYXNlKCkgXSA9IG1hdGNoWyAyIF07
DQoJCQkJCQkJfQ0KCQkJCQkJfQ0KCQkJCQkJbWF0Y2ggPSByZXNwb25zZUhlYWRlcnNbIGtleS50
b0xvd2VyQ2FzZSgpIF07DQoJCQkJCX0NCgkJCQkJcmV0dXJuIG1hdGNoID09IG51bGwgPyBudWxs
IDogbWF0Y2g7DQoJCQkJfSwNCg0KCQkJCS8vIFJhdyBzdHJpbmcNCgkJCQlnZXRBbGxSZXNwb25z
ZUhlYWRlcnM6IGZ1bmN0aW9uKCkgew0KCQkJCQlyZXR1cm4gY29tcGxldGVkID8gcmVzcG9uc2VI
ZWFkZXJzU3RyaW5nIDogbnVsbDsNCgkJCQl9LA0KDQoJCQkJLy8gQ2FjaGVzIHRoZSBoZWFkZXIN
CgkJCQlzZXRSZXF1ZXN0SGVhZGVyOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7DQoJCQkJCWlm
ICggY29tcGxldGVkID09IG51bGwgKSB7DQoJCQkJCQluYW1lID0gcmVxdWVzdEhlYWRlcnNOYW1l
c1sgbmFtZS50b0xvd2VyQ2FzZSgpIF0gPQ0KCQkJCQkJCXJlcXVlc3RIZWFkZXJzTmFtZXNbIG5h
bWUudG9Mb3dlckNhc2UoKSBdIHx8IG5hbWU7DQoJCQkJCQlyZXF1ZXN0SGVhZGVyc1sgbmFtZSBd
ID0gdmFsdWU7DQoJCQkJCX0NCgkJCQkJcmV0dXJuIHRoaXM7DQoJCQkJfSwNCg0KCQkJCS8vIE92
ZXJyaWRlcyByZXNwb25zZSBjb250ZW50LXR5cGUgaGVhZGVyDQoJCQkJb3ZlcnJpZGVNaW1lVHlw
ZTogZnVuY3Rpb24oIHR5cGUgKSB7DQoJCQkJCWlmICggY29tcGxldGVkID09IG51bGwgKSB7DQoJ
CQkJCQlzLm1pbWVUeXBlID0gdHlwZTsNCgkJCQkJfQ0KCQkJCQlyZXR1cm4gdGhpczsNCgkJCQl9
LA0KDQoJCQkJLy8gU3RhdHVzLWRlcGVuZGVudCBjYWxsYmFja3MNCgkJCQlzdGF0dXNDb2RlOiBm
dW5jdGlvbiggbWFwICkgew0KCQkJCQl2YXIgY29kZTsNCgkJCQkJaWYgKCBtYXAgKSB7DQoJCQkJ
CQlpZiAoIGNvbXBsZXRlZCApIHsNCg0KCQkJCQkJCS8vIEV4ZWN1dGUgdGhlIGFwcHJvcHJpYXRl
IGNhbGxiYWNrcw0KCQkJCQkJCWpxWEhSLmFsd2F5cyggbWFwWyBqcVhIUi5zdGF0dXMgXSApOw0K
CQkJCQkJfSBlbHNlIHsNCg0KCQkJCQkJCS8vIExhenktYWRkIHRoZSBuZXcgY2FsbGJhY2tzIGlu
IGEgd2F5IHRoYXQgcHJlc2VydmVzIG9sZCBvbmVzDQoJCQkJCQkJZm9yICggY29kZSBpbiBtYXAg
KSB7DQoJCQkJCQkJCXN0YXR1c0NvZGVbIGNvZGUgXSA9IFsgc3RhdHVzQ29kZVsgY29kZSBdLCBt
YXBbIGNvZGUgXSBdOw0KCQkJCQkJCX0NCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCQlyZXR1cm4gdGhp
czsNCgkJCQl9LA0KDQoJCQkJLy8gQ2FuY2VsIHRoZSByZXF1ZXN0DQoJCQkJYWJvcnQ6IGZ1bmN0
aW9uKCBzdGF0dXNUZXh0ICkgew0KCQkJCQl2YXIgZmluYWxUZXh0ID0gc3RhdHVzVGV4dCB8fCBz
dHJBYm9ydDsNCgkJCQkJaWYgKCB0cmFuc3BvcnQgKSB7DQoJCQkJCQl0cmFuc3BvcnQuYWJvcnQo
IGZpbmFsVGV4dCApOw0KCQkJCQl9DQoJCQkJCWRvbmUoIDAsIGZpbmFsVGV4dCApOw0KCQkJCQly
ZXR1cm4gdGhpczsNCgkJCQl9DQoJCQl9Ow0KDQoJCS8vIEF0dGFjaCBkZWZlcnJlZHMNCgkJZGVm
ZXJyZWQucHJvbWlzZSgganFYSFIgKTsNCg0KCQkvLyBBZGQgcHJvdG9jb2wgaWYgbm90IHByb3Zp
ZGVkIChwcmVmaWx0ZXJzIG1pZ2h0IGV4cGVjdCBpdCkNCgkJLy8gSGFuZGxlIGZhbHN5IHVybCBp
biB0aGUgc2V0dGluZ3Mgb2JqZWN0ICgjMTAwOTM6IGNvbnNpc3RlbmN5IHdpdGggb2xkIHNpZ25h
dHVyZSkNCgkJLy8gV2UgYWxzbyB1c2UgdGhlIHVybCBwYXJhbWV0ZXIgaWYgYXZhaWxhYmxlDQoJ
CXMudXJsID0gKCAoIHVybCB8fCBzLnVybCB8fCBsb2NhdGlvbi5ocmVmICkgKyAiIiApDQoJCQku
cmVwbGFjZSggcnByb3RvY29sLCBsb2NhdGlvbi5wcm90b2NvbCArICIvLyIgKTsNCg0KCQkvLyBB
bGlhcyBtZXRob2Qgb3B0aW9uIHRvIHR5cGUgYXMgcGVyIHRpY2tldCAjMTIwMDQNCgkJcy50eXBl
ID0gb3B0aW9ucy5tZXRob2QgfHwgb3B0aW9ucy50eXBlIHx8IHMubWV0aG9kIHx8IHMudHlwZTsN
Cg0KCQkvLyBFeHRyYWN0IGRhdGFUeXBlcyBsaXN0DQoJCXMuZGF0YVR5cGVzID0gKCBzLmRhdGFU
eXBlIHx8ICIqIiApLnRvTG93ZXJDYXNlKCkubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbICIi
IF07DQoNCgkJLy8gQSBjcm9zcy1kb21haW4gcmVxdWVzdCBpcyBpbiBvcmRlciB3aGVuIHRoZSBv
cmlnaW4gZG9lc24ndCBtYXRjaCB0aGUgY3VycmVudCBvcmlnaW4uDQoJCWlmICggcy5jcm9zc0Rv
bWFpbiA9PSBudWxsICkgew0KCQkJdXJsQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgg
ImEiICk7DQoNCgkJCS8vIFN1cHBvcnQ6IElFIDw9OCAtIDExLCBFZGdlIDEyIC0gMTMNCgkJCS8v
IElFIHRocm93cyBleGNlcHRpb24gb24gYWNjZXNzaW5nIHRoZSBocmVmIHByb3BlcnR5IGlmIHVy
bCBpcyBtYWxmb3JtZWQsDQoJCQkvLyBlLmcuIGh0dHA6Ly9leGFtcGxlLmNvbTo4MHgvDQoJCQl0
cnkgew0KCQkJCXVybEFuY2hvci5ocmVmID0gcy51cmw7DQoNCgkJCQkvLyBTdXBwb3J0OiBJRSA8
PTggLSAxMSBvbmx5DQoJCQkJLy8gQW5jaG9yJ3MgaG9zdCBwcm9wZXJ0eSBpc24ndCBjb3JyZWN0
bHkgc2V0IHdoZW4gcy51cmwgaXMgcmVsYXRpdmUNCgkJCQl1cmxBbmNob3IuaHJlZiA9IHVybEFu
Y2hvci5ocmVmOw0KCQkJCXMuY3Jvc3NEb21haW4gPSBvcmlnaW5BbmNob3IucHJvdG9jb2wgKyAi
Ly8iICsgb3JpZ2luQW5jaG9yLmhvc3QgIT09DQoJCQkJCXVybEFuY2hvci5wcm90b2NvbCArICIv
LyIgKyB1cmxBbmNob3IuaG9zdDsNCgkJCX0gY2F0Y2ggKCBlICkgew0KDQoJCQkJLy8gSWYgdGhl
cmUgaXMgYW4gZXJyb3IgcGFyc2luZyB0aGUgVVJMLCBhc3N1bWUgaXQgaXMgY3Jvc3NEb21haW4s
DQoJCQkJLy8gaXQgY2FuIGJlIHJlamVjdGVkIGJ5IHRoZSB0cmFuc3BvcnQgaWYgaXQgaXMgaW52
YWxpZA0KCQkJCXMuY3Jvc3NEb21haW4gPSB0cnVlOw0KCQkJfQ0KCQl9DQoNCgkJLy8gQ29udmVy
dCBkYXRhIGlmIG5vdCBhbHJlYWR5IGEgc3RyaW5nDQoJCWlmICggcy5kYXRhICYmIHMucHJvY2Vz
c0RhdGEgJiYgdHlwZW9mIHMuZGF0YSAhPT0gInN0cmluZyIgKSB7DQoJCQlzLmRhdGEgPSBqUXVl
cnkucGFyYW0oIHMuZGF0YSwgcy50cmFkaXRpb25hbCApOw0KCQl9DQoNCgkJLy8gQXBwbHkgcHJl
ZmlsdGVycw0KCQlpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyggcHJlZmlsdGVycywgcywg
b3B0aW9ucywganFYSFIgKTsNCg0KCQkvLyBJZiByZXF1ZXN0IHdhcyBhYm9ydGVkIGluc2lkZSBh
IHByZWZpbHRlciwgc3RvcCB0aGVyZQ0KCQlpZiAoIGNvbXBsZXRlZCApIHsNCgkJCXJldHVybiBq
cVhIUjsNCgkJfQ0KDQoJCS8vIFdlIGNhbiBmaXJlIGdsb2JhbCBldmVudHMgYXMgb2Ygbm93IGlm
IGFza2VkIHRvDQoJCS8vIERvbid0IGZpcmUgZXZlbnRzIGlmIGpRdWVyeS5ldmVudCBpcyB1bmRl
ZmluZWQgaW4gYW4gQU1ELXVzYWdlIHNjZW5hcmlvICgjMTUxMTgpDQoJCWZpcmVHbG9iYWxzID0g
alF1ZXJ5LmV2ZW50ICYmIHMuZ2xvYmFsOw0KDQoJCS8vIFdhdGNoIGZvciBhIG5ldyBzZXQgb2Yg
cmVxdWVzdHMNCgkJaWYgKCBmaXJlR2xvYmFscyAmJiBqUXVlcnkuYWN0aXZlKysgPT09IDAgKSB7
DQoJCQlqUXVlcnkuZXZlbnQudHJpZ2dlciggImFqYXhTdGFydCIgKTsNCgkJfQ0KDQoJCS8vIFVw
cGVyY2FzZSB0aGUgdHlwZQ0KCQlzLnR5cGUgPSBzLnR5cGUudG9VcHBlckNhc2UoKTsNCg0KCQkv
LyBEZXRlcm1pbmUgaWYgcmVxdWVzdCBoYXMgY29udGVudA0KCQlzLmhhc0NvbnRlbnQgPSAhcm5v
Q29udGVudC50ZXN0KCBzLnR5cGUgKTsNCg0KCQkvLyBTYXZlIHRoZSBVUkwgaW4gY2FzZSB3ZSdy
ZSB0b3lpbmcgd2l0aCB0aGUgSWYtTW9kaWZpZWQtU2luY2UNCgkJLy8gYW5kL29yIElmLU5vbmUt
TWF0Y2ggaGVhZGVyIGxhdGVyIG9uDQoJCS8vIFJlbW92ZSBoYXNoIHRvIHNpbXBsaWZ5IHVybCBt
YW5pcHVsYXRpb24NCgkJY2FjaGVVUkwgPSBzLnVybC5yZXBsYWNlKCByaGFzaCwgIiIgKTsNCg0K
CQkvLyBNb3JlIG9wdGlvbnMgaGFuZGxpbmcgZm9yIHJlcXVlc3RzIHdpdGggbm8gY29udGVudA0K
CQlpZiAoICFzLmhhc0NvbnRlbnQgKSB7DQoNCgkJCS8vIFJlbWVtYmVyIHRoZSBoYXNoIHNvIHdl
IGNhbiBwdXQgaXQgYmFjaw0KCQkJdW5jYWNoZWQgPSBzLnVybC5zbGljZSggY2FjaGVVUkwubGVu
Z3RoICk7DQoNCgkJCS8vIElmIGRhdGEgaXMgYXZhaWxhYmxlLCBhcHBlbmQgZGF0YSB0byB1cmwN
CgkJCWlmICggcy5kYXRhICkgew0KCQkJCWNhY2hlVVJMICs9ICggcnF1ZXJ5LnRlc3QoIGNhY2hl
VVJMICkgPyAiJiIgOiAiPyIgKSArIHMuZGF0YTsNCg0KCQkJCS8vICM5NjgyOiByZW1vdmUgZGF0
YSBzbyB0aGF0IGl0J3Mgbm90IHVzZWQgaW4gYW4gZXZlbnR1YWwgcmV0cnkNCgkJCQlkZWxldGUg
cy5kYXRhOw0KCQkJfQ0KDQoJCQkvLyBBZGQgb3IgdXBkYXRlIGFudGktY2FjaGUgcGFyYW0gaWYg
bmVlZGVkDQoJCQlpZiAoIHMuY2FjaGUgPT09IGZhbHNlICkgew0KCQkJCWNhY2hlVVJMID0gY2Fj
aGVVUkwucmVwbGFjZSggcmFudGlDYWNoZSwgIiQxIiApOw0KCQkJCXVuY2FjaGVkID0gKCBycXVl
cnkudGVzdCggY2FjaGVVUkwgKSA/ICImIiA6ICI/IiApICsgIl89IiArICggbm9uY2UrKyApICsg
dW5jYWNoZWQ7DQoJCQl9DQoNCgkJCS8vIFB1dCBoYXNoIGFuZCBhbnRpLWNhY2hlIG9uIHRoZSBV
UkwgdGhhdCB3aWxsIGJlIHJlcXVlc3RlZCAoZ2gtMTczMikNCgkJCXMudXJsID0gY2FjaGVVUkwg
KyB1bmNhY2hlZDsNCg0KCQkvLyBDaGFuZ2UgJyUyMCcgdG8gJysnIGlmIHRoaXMgaXMgZW5jb2Rl
ZCBmb3JtIGJvZHkgY29udGVudCAoZ2gtMjY1OCkNCgkJfSBlbHNlIGlmICggcy5kYXRhICYmIHMu
cHJvY2Vzc0RhdGEgJiYNCgkJCSggcy5jb250ZW50VHlwZSB8fCAiIiApLmluZGV4T2YoICJhcHBs
aWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiICkgPT09IDAgKSB7DQoJCQlzLmRhdGEgPSBz
LmRhdGEucmVwbGFjZSggcjIwLCAiKyIgKTsNCgkJfQ0KDQoJCS8vIFNldCB0aGUgSWYtTW9kaWZp
ZWQtU2luY2UgYW5kL29yIElmLU5vbmUtTWF0Y2ggaGVhZGVyLCBpZiBpbiBpZk1vZGlmaWVkIG1v
ZGUuDQoJCWlmICggcy5pZk1vZGlmaWVkICkgew0KCQkJaWYgKCBqUXVlcnkubGFzdE1vZGlmaWVk
WyBjYWNoZVVSTCBdICkgew0KCQkJCWpxWEhSLnNldFJlcXVlc3RIZWFkZXIoICJJZi1Nb2RpZmll
ZC1TaW5jZSIsIGpRdWVyeS5sYXN0TW9kaWZpZWRbIGNhY2hlVVJMIF0gKTsNCgkJCX0NCgkJCWlm
ICggalF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gKSB7DQoJCQkJanFYSFIuc2V0UmVxdWVzdEhlYWRl
ciggIklmLU5vbmUtTWF0Y2giLCBqUXVlcnkuZXRhZ1sgY2FjaGVVUkwgXSApOw0KCQkJfQ0KCQl9
DQoNCgkJLy8gU2V0IHRoZSBjb3JyZWN0IGhlYWRlciwgaWYgZGF0YSBpcyBiZWluZyBzZW50DQoJ
CWlmICggcy5kYXRhICYmIHMuaGFzQ29udGVudCAmJiBzLmNvbnRlbnRUeXBlICE9PSBmYWxzZSB8
fCBvcHRpb25zLmNvbnRlbnRUeXBlICkgew0KCQkJanFYSFIuc2V0UmVxdWVzdEhlYWRlciggIkNv
bnRlbnQtVHlwZSIsIHMuY29udGVudFR5cGUgKTsNCgkJfQ0KDQoJCS8vIFNldCB0aGUgQWNjZXB0
cyBoZWFkZXIgZm9yIHRoZSBzZXJ2ZXIsIGRlcGVuZGluZyBvbiB0aGUgZGF0YVR5cGUNCgkJanFY
SFIuc2V0UmVxdWVzdEhlYWRlcigNCgkJCSJBY2NlcHQiLA0KCQkJcy5kYXRhVHlwZXNbIDAgXSAm
JiBzLmFjY2VwdHNbIHMuZGF0YVR5cGVzWyAwIF0gXSA/DQoJCQkJcy5hY2NlcHRzWyBzLmRhdGFU
eXBlc1sgMCBdIF0gKw0KCQkJCQkoIHMuZGF0YVR5cGVzWyAwIF0gIT09ICIqIiA/ICIsICIgKyBh
bGxUeXBlcyArICI7IHE9MC4wMSIgOiAiIiApIDoNCgkJCQlzLmFjY2VwdHNbICIqIiBdDQoJCSk7
DQoNCgkJLy8gQ2hlY2sgZm9yIGhlYWRlcnMgb3B0aW9uDQoJCWZvciAoIGkgaW4gcy5oZWFkZXJz
ICkgew0KCQkJanFYSFIuc2V0UmVxdWVzdEhlYWRlciggaSwgcy5oZWFkZXJzWyBpIF0gKTsNCgkJ
fQ0KDQoJCS8vIEFsbG93IGN1c3RvbSBoZWFkZXJzL21pbWV0eXBlcyBhbmQgZWFybHkgYWJvcnQN
CgkJaWYgKCBzLmJlZm9yZVNlbmQgJiYNCgkJCSggcy5iZWZvcmVTZW5kLmNhbGwoIGNhbGxiYWNr
Q29udGV4dCwganFYSFIsIHMgKSA9PT0gZmFsc2UgfHwgY29tcGxldGVkICkgKSB7DQoNCgkJCS8v
IEFib3J0IGlmIG5vdCBkb25lIGFscmVhZHkgYW5kIHJldHVybg0KCQkJcmV0dXJuIGpxWEhSLmFi
b3J0KCk7DQoJCX0NCg0KCQkvLyBBYm9ydGluZyBpcyBubyBsb25nZXIgYSBjYW5jZWxsYXRpb24N
CgkJc3RyQWJvcnQgPSAiYWJvcnQiOw0KDQoJCS8vIEluc3RhbGwgY2FsbGJhY2tzIG9uIGRlZmVy
cmVkcw0KCQljb21wbGV0ZURlZmVycmVkLmFkZCggcy5jb21wbGV0ZSApOw0KCQlqcVhIUi5kb25l
KCBzLnN1Y2Nlc3MgKTsNCgkJanFYSFIuZmFpbCggcy5lcnJvciApOw0KDQoJCS8vIEdldCB0cmFu
c3BvcnQNCgkJdHJhbnNwb3J0ID0gaW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHRyYW5z
cG9ydHMsIHMsIG9wdGlvbnMsIGpxWEhSICk7DQoNCgkJLy8gSWYgbm8gdHJhbnNwb3J0LCB3ZSBh
dXRvLWFib3J0DQoJCWlmICggIXRyYW5zcG9ydCApIHsNCgkJCWRvbmUoIC0xLCAiTm8gVHJhbnNw
b3J0IiApOw0KCQl9IGVsc2Ugew0KCQkJanFYSFIucmVhZHlTdGF0ZSA9IDE7DQoNCgkJCS8vIFNl
bmQgZ2xvYmFsIGV2ZW50DQoJCQlpZiAoIGZpcmVHbG9iYWxzICkgew0KCQkJCWdsb2JhbEV2ZW50
Q29udGV4dC50cmlnZ2VyKCAiYWpheFNlbmQiLCBbIGpxWEhSLCBzIF0gKTsNCgkJCX0NCg0KCQkJ
Ly8gSWYgcmVxdWVzdCB3YXMgYWJvcnRlZCBpbnNpZGUgYWpheFNlbmQsIHN0b3AgdGhlcmUNCgkJ
CWlmICggY29tcGxldGVkICkgew0KCQkJCXJldHVybiBqcVhIUjsNCgkJCX0NCg0KCQkJLy8gVGlt
ZW91dA0KCQkJaWYgKCBzLmFzeW5jICYmIHMudGltZW91dCA+IDAgKSB7DQoJCQkJdGltZW91dFRp
bWVyID0gd2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uKCkgew0KCQkJCQlqcVhIUi5hYm9ydCgg
InRpbWVvdXQiICk7DQoJCQkJfSwgcy50aW1lb3V0ICk7DQoJCQl9DQoNCgkJCXRyeSB7DQoJCQkJ
Y29tcGxldGVkID0gZmFsc2U7DQoJCQkJdHJhbnNwb3J0LnNlbmQoIHJlcXVlc3RIZWFkZXJzLCBk
b25lICk7DQoJCQl9IGNhdGNoICggZSApIHsNCg0KCQkJCS8vIFJldGhyb3cgcG9zdC1jb21wbGV0
aW9uIGV4Y2VwdGlvbnMNCgkJCQlpZiAoIGNvbXBsZXRlZCApIHsNCgkJCQkJdGhyb3cgZTsNCgkJ
CQl9DQoNCgkJCQkvLyBQcm9wYWdhdGUgb3RoZXJzIGFzIHJlc3VsdHMNCgkJCQlkb25lKCAtMSwg
ZSApOw0KCQkJfQ0KCQl9DQoNCgkJLy8gQ2FsbGJhY2sgZm9yIHdoZW4gZXZlcnl0aGluZyBpcyBk
b25lDQoJCWZ1bmN0aW9uIGRvbmUoIHN0YXR1cywgbmF0aXZlU3RhdHVzVGV4dCwgcmVzcG9uc2Vz
LCBoZWFkZXJzICkgew0KCQkJdmFyIGlzU3VjY2Vzcywgc3VjY2VzcywgZXJyb3IsIHJlc3BvbnNl
LCBtb2RpZmllZCwNCgkJCQlzdGF0dXNUZXh0ID0gbmF0aXZlU3RhdHVzVGV4dDsNCg0KCQkJLy8g
SWdub3JlIHJlcGVhdCBpbnZvY2F0aW9ucw0KCQkJaWYgKCBjb21wbGV0ZWQgKSB7DQoJCQkJcmV0
dXJuOw0KCQkJfQ0KDQoJCQljb21wbGV0ZWQgPSB0cnVlOw0KDQoJCQkvLyBDbGVhciB0aW1lb3V0
IGlmIGl0IGV4aXN0cw0KCQkJaWYgKCB0aW1lb3V0VGltZXIgKSB7DQoJCQkJd2luZG93LmNsZWFy
VGltZW91dCggdGltZW91dFRpbWVyICk7DQoJCQl9DQoNCgkJCS8vIERlcmVmZXJlbmNlIHRyYW5z
cG9ydCBmb3IgZWFybHkgZ2FyYmFnZSBjb2xsZWN0aW9uDQoJCQkvLyAobm8gbWF0dGVyIGhvdyBs
b25nIHRoZSBqcVhIUiBvYmplY3Qgd2lsbCBiZSB1c2VkKQ0KCQkJdHJhbnNwb3J0ID0gdW5kZWZp
bmVkOw0KDQoJCQkvLyBDYWNoZSByZXNwb25zZSBoZWFkZXJzDQoJCQlyZXNwb25zZUhlYWRlcnNT
dHJpbmcgPSBoZWFkZXJzIHx8ICIiOw0KDQoJCQkvLyBTZXQgcmVhZHlTdGF0ZQ0KCQkJanFYSFIu
cmVhZHlTdGF0ZSA9IHN0YXR1cyA+IDAgPyA0IDogMDsNCg0KCQkJLy8gRGV0ZXJtaW5lIGlmIHN1
Y2Nlc3NmdWwNCgkJCWlzU3VjY2VzcyA9IHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwIHx8
IHN0YXR1cyA9PT0gMzA0Ow0KDQoJCQkvLyBHZXQgcmVzcG9uc2UgZGF0YQ0KCQkJaWYgKCByZXNw
b25zZXMgKSB7DQoJCQkJcmVzcG9uc2UgPSBhamF4SGFuZGxlUmVzcG9uc2VzKCBzLCBqcVhIUiwg
cmVzcG9uc2VzICk7DQoJCQl9DQoNCgkJCS8vIENvbnZlcnQgbm8gbWF0dGVyIHdoYXQgKHRoYXQg
d2F5IHJlc3BvbnNlWFhYIGZpZWxkcyBhcmUgYWx3YXlzIHNldCkNCgkJCXJlc3BvbnNlID0gYWph
eENvbnZlcnQoIHMsIHJlc3BvbnNlLCBqcVhIUiwgaXNTdWNjZXNzICk7DQoNCgkJCS8vIElmIHN1
Y2Nlc3NmdWwsIGhhbmRsZSB0eXBlIGNoYWluaW5nDQoJCQlpZiAoIGlzU3VjY2VzcyApIHsNCg0K
CQkJCS8vIFNldCB0aGUgSWYtTW9kaWZpZWQtU2luY2UgYW5kL29yIElmLU5vbmUtTWF0Y2ggaGVh
ZGVyLCBpZiBpbiBpZk1vZGlmaWVkIG1vZGUuDQoJCQkJaWYgKCBzLmlmTW9kaWZpZWQgKSB7DQoJ
CQkJCW1vZGlmaWVkID0ganFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoICJMYXN0LU1vZGlmaWVkIiAp
Ow0KCQkJCQlpZiAoIG1vZGlmaWVkICkgew0KCQkJCQkJalF1ZXJ5Lmxhc3RNb2RpZmllZFsgY2Fj
aGVVUkwgXSA9IG1vZGlmaWVkOw0KCQkJCQl9DQoJCQkJCW1vZGlmaWVkID0ganFYSFIuZ2V0UmVz
cG9uc2VIZWFkZXIoICJldGFnIiApOw0KCQkJCQlpZiAoIG1vZGlmaWVkICkgew0KCQkJCQkJalF1
ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gPSBtb2RpZmllZDsNCgkJCQkJfQ0KCQkJCX0NCg0KCQkJCS8v
IGlmIG5vIGNvbnRlbnQNCgkJCQlpZiAoIHN0YXR1cyA9PT0gMjA0IHx8IHMudHlwZSA9PT0gIkhF
QUQiICkgew0KCQkJCQlzdGF0dXNUZXh0ID0gIm5vY29udGVudCI7DQoNCgkJCQkvLyBpZiBub3Qg
bW9kaWZpZWQNCgkJCQl9IGVsc2UgaWYgKCBzdGF0dXMgPT09IDMwNCApIHsNCgkJCQkJc3RhdHVz
VGV4dCA9ICJub3Rtb2RpZmllZCI7DQoNCgkJCQkvLyBJZiB3ZSBoYXZlIGRhdGEsIGxldCdzIGNv
bnZlcnQgaXQNCgkJCQl9IGVsc2Ugew0KCQkJCQlzdGF0dXNUZXh0ID0gcmVzcG9uc2Uuc3RhdGU7
DQoJCQkJCXN1Y2Nlc3MgPSByZXNwb25zZS5kYXRhOw0KCQkJCQllcnJvciA9IHJlc3BvbnNlLmVy
cm9yOw0KCQkJCQlpc1N1Y2Nlc3MgPSAhZXJyb3I7DQoJCQkJfQ0KCQkJfSBlbHNlIHsNCg0KCQkJ
CS8vIEV4dHJhY3QgZXJyb3IgZnJvbSBzdGF0dXNUZXh0IGFuZCBub3JtYWxpemUgZm9yIG5vbi1h
Ym9ydHMNCgkJCQllcnJvciA9IHN0YXR1c1RleHQ7DQoJCQkJaWYgKCBzdGF0dXMgfHwgIXN0YXR1
c1RleHQgKSB7DQoJCQkJCXN0YXR1c1RleHQgPSAiZXJyb3IiOw0KCQkJCQlpZiAoIHN0YXR1cyA8
IDAgKSB7DQoJCQkJCQlzdGF0dXMgPSAwOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KDQoJCQkvLyBT
ZXQgZGF0YSBmb3IgdGhlIGZha2UgeGhyIG9iamVjdA0KCQkJanFYSFIuc3RhdHVzID0gc3RhdHVz
Ow0KCQkJanFYSFIuc3RhdHVzVGV4dCA9ICggbmF0aXZlU3RhdHVzVGV4dCB8fCBzdGF0dXNUZXh0
ICkgKyAiIjsNCg0KCQkJLy8gU3VjY2Vzcy9FcnJvcg0KCQkJaWYgKCBpc1N1Y2Nlc3MgKSB7DQoJ
CQkJZGVmZXJyZWQucmVzb2x2ZVdpdGgoIGNhbGxiYWNrQ29udGV4dCwgWyBzdWNjZXNzLCBzdGF0
dXNUZXh0LCBqcVhIUiBdICk7DQoJCQl9IGVsc2Ugew0KCQkJCWRlZmVycmVkLnJlamVjdFdpdGgo
IGNhbGxiYWNrQ29udGV4dCwgWyBqcVhIUiwgc3RhdHVzVGV4dCwgZXJyb3IgXSApOw0KCQkJfQ0K
DQoJCQkvLyBTdGF0dXMtZGVwZW5kZW50IGNhbGxiYWNrcw0KCQkJanFYSFIuc3RhdHVzQ29kZSgg
c3RhdHVzQ29kZSApOw0KCQkJc3RhdHVzQ29kZSA9IHVuZGVmaW5lZDsNCg0KCQkJaWYgKCBmaXJl
R2xvYmFscyApIHsNCgkJCQlnbG9iYWxFdmVudENvbnRleHQudHJpZ2dlciggaXNTdWNjZXNzID8g
ImFqYXhTdWNjZXNzIiA6ICJhamF4RXJyb3IiLA0KCQkJCQlbIGpxWEhSLCBzLCBpc1N1Y2Nlc3Mg
PyBzdWNjZXNzIDogZXJyb3IgXSApOw0KCQkJfQ0KDQoJCQkvLyBDb21wbGV0ZQ0KCQkJY29tcGxl
dGVEZWZlcnJlZC5maXJlV2l0aCggY2FsbGJhY2tDb250ZXh0LCBbIGpxWEhSLCBzdGF0dXNUZXh0
IF0gKTsNCg0KCQkJaWYgKCBmaXJlR2xvYmFscyApIHsNCgkJCQlnbG9iYWxFdmVudENvbnRleHQu
dHJpZ2dlciggImFqYXhDb21wbGV0ZSIsIFsganFYSFIsIHMgXSApOw0KDQoJCQkJLy8gSGFuZGxl
IHRoZSBnbG9iYWwgQUpBWCBjb3VudGVyDQoJCQkJaWYgKCAhKCAtLWpRdWVyeS5hY3RpdmUgKSAp
IHsNCgkJCQkJalF1ZXJ5LmV2ZW50LnRyaWdnZXIoICJhamF4U3RvcCIgKTsNCgkJCQl9DQoJCQl9
DQoJCX0NCg0KCQlyZXR1cm4ganFYSFI7DQoJfSwNCg0KCWdldEpTT046IGZ1bmN0aW9uKCB1cmws
IGRhdGEsIGNhbGxiYWNrICkgew0KCQlyZXR1cm4galF1ZXJ5LmdldCggdXJsLCBkYXRhLCBjYWxs
YmFjaywgImpzb24iICk7DQoJfSwNCg0KCWdldFNjcmlwdDogZnVuY3Rpb24oIHVybCwgY2FsbGJh
Y2sgKSB7DQoJCXJldHVybiBqUXVlcnkuZ2V0KCB1cmwsIHVuZGVmaW5lZCwgY2FsbGJhY2ssICJz
Y3JpcHQiICk7DQoJfQ0KfSApOw0KDQpqUXVlcnkuZWFjaCggWyAiZ2V0IiwgInBvc3QiIF0sIGZ1
bmN0aW9uKCBpLCBtZXRob2QgKSB7DQoJalF1ZXJ5WyBtZXRob2QgXSA9IGZ1bmN0aW9uKCB1cmws
IGRhdGEsIGNhbGxiYWNrLCB0eXBlICkgew0KDQoJCS8vIFNoaWZ0IGFyZ3VtZW50cyBpZiBkYXRh
IGFyZ3VtZW50IHdhcyBvbWl0dGVkDQoJCWlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGRhdGEgKSAp
IHsNCgkJCXR5cGUgPSB0eXBlIHx8IGNhbGxiYWNrOw0KCQkJY2FsbGJhY2sgPSBkYXRhOw0KCQkJ
ZGF0YSA9IHVuZGVmaW5lZDsNCgkJfQ0KDQoJCS8vIFRoZSB1cmwgY2FuIGJlIGFuIG9wdGlvbnMg
b2JqZWN0ICh3aGljaCB0aGVuIG11c3QgaGF2ZSAudXJsKQ0KCQlyZXR1cm4galF1ZXJ5LmFqYXgo
IGpRdWVyeS5leHRlbmQoIHsNCgkJCXVybDogdXJsLA0KCQkJdHlwZTogbWV0aG9kLA0KCQkJZGF0
YVR5cGU6IHR5cGUsDQoJCQlkYXRhOiBkYXRhLA0KCQkJc3VjY2VzczogY2FsbGJhY2sNCgkJfSwg
alF1ZXJ5LmlzUGxhaW5PYmplY3QoIHVybCApICYmIHVybCApICk7DQoJfTsNCn0gKTsNCg0KDQpq
UXVlcnkuX2V2YWxVcmwgPSBmdW5jdGlvbiggdXJsICkgew0KCXJldHVybiBqUXVlcnkuYWpheCgg
ew0KCQl1cmw6IHVybCwNCg0KCQkvLyBNYWtlIHRoaXMgZXhwbGljaXQsIHNpbmNlIHVzZXIgY2Fu
IG92ZXJyaWRlIHRoaXMgdGhyb3VnaCBhamF4U2V0dXAgKCMxMTI2NCkNCgkJdHlwZTogIkdFVCIs
DQoJCWRhdGFUeXBlOiAic2NyaXB0IiwNCgkJY2FjaGU6IHRydWUsDQoJCWFzeW5jOiBmYWxzZSwN
CgkJZ2xvYmFsOiBmYWxzZSwNCgkJInRocm93cyI6IHRydWUNCgl9ICk7DQp9Ow0KDQoNCmpRdWVy
eS5mbi5leHRlbmQoIHsNCgl3cmFwQWxsOiBmdW5jdGlvbiggaHRtbCApIHsNCgkJdmFyIHdyYXA7
DQoNCgkJaWYgKCB0aGlzWyAwIF0gKSB7DQoJCQlpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBodG1s
ICkgKSB7DQoJCQkJaHRtbCA9IGh0bWwuY2FsbCggdGhpc1sgMCBdICk7DQoJCQl9DQoNCgkJCS8v
IFRoZSBlbGVtZW50cyB0byB3cmFwIHRoZSB0YXJnZXQgYXJvdW5kDQoJCQl3cmFwID0galF1ZXJ5
KCBodG1sLCB0aGlzWyAwIF0ub3duZXJEb2N1bWVudCApLmVxKCAwICkuY2xvbmUoIHRydWUgKTsN
Cg0KCQkJaWYgKCB0aGlzWyAwIF0ucGFyZW50Tm9kZSApIHsNCgkJCQl3cmFwLmluc2VydEJlZm9y
ZSggdGhpc1sgMCBdICk7DQoJCQl9DQoNCgkJCXdyYXAubWFwKCBmdW5jdGlvbigpIHsNCgkJCQl2
YXIgZWxlbSA9IHRoaXM7DQoNCgkJCQl3aGlsZSAoIGVsZW0uZmlyc3RFbGVtZW50Q2hpbGQgKSB7
DQoJCQkJCWVsZW0gPSBlbGVtLmZpcnN0RWxlbWVudENoaWxkOw0KCQkJCX0NCg0KCQkJCXJldHVy
biBlbGVtOw0KCQkJfSApLmFwcGVuZCggdGhpcyApOw0KCQl9DQoNCgkJcmV0dXJuIHRoaXM7DQoJ
fSwNCg0KCXdyYXBJbm5lcjogZnVuY3Rpb24oIGh0bWwgKSB7DQoJCWlmICggalF1ZXJ5LmlzRnVu
Y3Rpb24oIGh0bWwgKSApIHsNCgkJCXJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkgew0K
CQkJCWpRdWVyeSggdGhpcyApLndyYXBJbm5lciggaHRtbC5jYWxsKCB0aGlzLCBpICkgKTsNCgkJ
CX0gKTsNCgkJfQ0KDQoJCXJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkgew0KCQkJdmFyIHNl
bGYgPSBqUXVlcnkoIHRoaXMgKSwNCgkJCQljb250ZW50cyA9IHNlbGYuY29udGVudHMoKTsNCg0K
CQkJaWYgKCBjb250ZW50cy5sZW5ndGggKSB7DQoJCQkJY29udGVudHMud3JhcEFsbCggaHRtbCAp
Ow0KDQoJCQl9IGVsc2Ugew0KCQkJCXNlbGYuYXBwZW5kKCBodG1sICk7DQoJCQl9DQoJCX0gKTsN
Cgl9LA0KDQoJd3JhcDogZnVuY3Rpb24oIGh0bWwgKSB7DQoJCXZhciBpc0Z1bmN0aW9uID0galF1
ZXJ5LmlzRnVuY3Rpb24oIGh0bWwgKTsNCg0KCQlyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigg
aSApIHsNCgkJCWpRdWVyeSggdGhpcyApLndyYXBBbGwoIGlzRnVuY3Rpb24gPyBodG1sLmNhbGwo
IHRoaXMsIGkgKSA6IGh0bWwgKTsNCgkJfSApOw0KCX0sDQoNCgl1bndyYXA6IGZ1bmN0aW9uKCBz
ZWxlY3RvciApIHsNCgkJdGhpcy5wYXJlbnQoIHNlbGVjdG9yICkubm90KCAiYm9keSIgKS5lYWNo
KCBmdW5jdGlvbigpIHsNCgkJCWpRdWVyeSggdGhpcyApLnJlcGxhY2VXaXRoKCB0aGlzLmNoaWxk
Tm9kZXMgKTsNCgkJfSApOw0KCQlyZXR1cm4gdGhpczsNCgl9DQp9ICk7DQoNCg0KalF1ZXJ5LmV4
cHIucHNldWRvcy5oaWRkZW4gPSBmdW5jdGlvbiggZWxlbSApIHsNCglyZXR1cm4gIWpRdWVyeS5l
eHByLnBzZXVkb3MudmlzaWJsZSggZWxlbSApOw0KfTsNCmpRdWVyeS5leHByLnBzZXVkb3Mudmlz
aWJsZSA9IGZ1bmN0aW9uKCBlbGVtICkgew0KCXJldHVybiAhISggZWxlbS5vZmZzZXRXaWR0aCB8
fCBlbGVtLm9mZnNldEhlaWdodCB8fCBlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoICk7DQp9
Ow0KDQoNCg0KDQpqUXVlcnkuYWpheFNldHRpbmdzLnhociA9IGZ1bmN0aW9uKCkgew0KCXRyeSB7
DQoJCXJldHVybiBuZXcgd2luZG93LlhNTEh0dHBSZXF1ZXN0KCk7DQoJfSBjYXRjaCAoIGUgKSB7
fQ0KfTsNCg0KdmFyIHhoclN1Y2Nlc3NTdGF0dXMgPSB7DQoNCgkJLy8gRmlsZSBwcm90b2NvbCBh
bHdheXMgeWllbGRzIHN0YXR1cyBjb2RlIDAsIGFzc3VtZSAyMDANCgkJMDogMjAwLA0KDQoJCS8v
IFN1cHBvcnQ6IElFIDw9OSBvbmx5DQoJCS8vICMxNDUwOiBzb21ldGltZXMgSUUgcmV0dXJucyAx
MjIzIHdoZW4gaXQgc2hvdWxkIGJlIDIwNA0KCQkxMjIzOiAyMDQNCgl9LA0KCXhoclN1cHBvcnRl
ZCA9IGpRdWVyeS5hamF4U2V0dGluZ3MueGhyKCk7DQoNCnN1cHBvcnQuY29ycyA9ICEheGhyU3Vw
cG9ydGVkICYmICggIndpdGhDcmVkZW50aWFscyIgaW4geGhyU3VwcG9ydGVkICk7DQpzdXBwb3J0
LmFqYXggPSB4aHJTdXBwb3J0ZWQgPSAhIXhoclN1cHBvcnRlZDsNCg0KalF1ZXJ5LmFqYXhUcmFu
c3BvcnQoIGZ1bmN0aW9uKCBvcHRpb25zICkgew0KCXZhciBjYWxsYmFjaywgZXJyb3JDYWxsYmFj
azsNCg0KCS8vIENyb3NzIGRvbWFpbiBvbmx5IGFsbG93ZWQgaWYgc3VwcG9ydGVkIHRocm91Z2gg
WE1MSHR0cFJlcXVlc3QNCglpZiAoIHN1cHBvcnQuY29ycyB8fCB4aHJTdXBwb3J0ZWQgJiYgIW9w
dGlvbnMuY3Jvc3NEb21haW4gKSB7DQoJCXJldHVybiB7DQoJCQlzZW5kOiBmdW5jdGlvbiggaGVh
ZGVycywgY29tcGxldGUgKSB7DQoJCQkJdmFyIGksDQoJCQkJCXhociA9IG9wdGlvbnMueGhyKCk7
DQoNCgkJCQl4aHIub3BlbigNCgkJCQkJb3B0aW9ucy50eXBlLA0KCQkJCQlvcHRpb25zLnVybCwN
CgkJCQkJb3B0aW9ucy5hc3luYywNCgkJCQkJb3B0aW9ucy51c2VybmFtZSwNCgkJCQkJb3B0aW9u
cy5wYXNzd29yZA0KCQkJCSk7DQoNCgkJCQkvLyBBcHBseSBjdXN0b20gZmllbGRzIGlmIHByb3Zp
ZGVkDQoJCQkJaWYgKCBvcHRpb25zLnhockZpZWxkcyApIHsNCgkJCQkJZm9yICggaSBpbiBvcHRp
b25zLnhockZpZWxkcyApIHsNCgkJCQkJCXhoclsgaSBdID0gb3B0aW9ucy54aHJGaWVsZHNbIGkg
XTsNCgkJCQkJfQ0KCQkJCX0NCg0KCQkJCS8vIE92ZXJyaWRlIG1pbWUgdHlwZSBpZiBuZWVkZWQN
CgkJCQlpZiAoIG9wdGlvbnMubWltZVR5cGUgJiYgeGhyLm92ZXJyaWRlTWltZVR5cGUgKSB7DQoJ
CQkJCXhoci5vdmVycmlkZU1pbWVUeXBlKCBvcHRpb25zLm1pbWVUeXBlICk7DQoJCQkJfQ0KDQoJ
CQkJLy8gWC1SZXF1ZXN0ZWQtV2l0aCBoZWFkZXINCgkJCQkvLyBGb3IgY3Jvc3MtZG9tYWluIHJl
cXVlc3RzLCBzZWVpbmcgYXMgY29uZGl0aW9ucyBmb3IgYSBwcmVmbGlnaHQgYXJlDQoJCQkJLy8g
YWtpbiB0byBhIGppZ3NhdyBwdXp6bGUsIHdlIHNpbXBseSBuZXZlciBzZXQgaXQgdG8gYmUgc3Vy
ZS4NCgkJCQkvLyAoaXQgY2FuIGFsd2F5cyBiZSBzZXQgb24gYSBwZXItcmVxdWVzdCBiYXNpcyBv
ciBldmVuIHVzaW5nIGFqYXhTZXR1cCkNCgkJCQkvLyBGb3Igc2FtZS1kb21haW4gcmVxdWVzdHMs
IHdvbid0IGNoYW5nZSBoZWFkZXIgaWYgYWxyZWFkeSBwcm92aWRlZC4NCgkJCQlpZiAoICFvcHRp
b25zLmNyb3NzRG9tYWluICYmICFoZWFkZXJzWyAiWC1SZXF1ZXN0ZWQtV2l0aCIgXSApIHsNCgkJ
CQkJaGVhZGVyc1sgIlgtUmVxdWVzdGVkLVdpdGgiIF0gPSAiWE1MSHR0cFJlcXVlc3QiOw0KCQkJ
CX0NCg0KCQkJCS8vIFNldCBoZWFkZXJzDQoJCQkJZm9yICggaSBpbiBoZWFkZXJzICkgew0KCQkJ
CQl4aHIuc2V0UmVxdWVzdEhlYWRlciggaSwgaGVhZGVyc1sgaSBdICk7DQoJCQkJfQ0KDQoJCQkJ
Ly8gQ2FsbGJhY2sNCgkJCQljYWxsYmFjayA9IGZ1bmN0aW9uKCB0eXBlICkgew0KCQkJCQlyZXR1
cm4gZnVuY3Rpb24oKSB7DQoJCQkJCQlpZiAoIGNhbGxiYWNrICkgew0KCQkJCQkJCWNhbGxiYWNr
ID0gZXJyb3JDYWxsYmFjayA9IHhoci5vbmxvYWQgPQ0KCQkJCQkJCQl4aHIub25lcnJvciA9IHho
ci5vbmFib3J0ID0geGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7DQoNCgkJCQkJCQlpZiAo
IHR5cGUgPT09ICJhYm9ydCIgKSB7DQoJCQkJCQkJCXhoci5hYm9ydCgpOw0KCQkJCQkJCX0gZWxz
ZSBpZiAoIHR5cGUgPT09ICJlcnJvciIgKSB7DQoNCgkJCQkJCQkJLy8gU3VwcG9ydDogSUUgPD05
IG9ubHkNCgkJCQkJCQkJLy8gT24gYSBtYW51YWwgbmF0aXZlIGFib3J0LCBJRTkgdGhyb3dzDQoJ
CQkJCQkJCS8vIGVycm9ycyBvbiBhbnkgcHJvcGVydHkgYWNjZXNzIHRoYXQgaXMgbm90IHJlYWR5
U3RhdGUNCgkJCQkJCQkJaWYgKCB0eXBlb2YgeGhyLnN0YXR1cyAhPT0gIm51bWJlciIgKSB7DQoJ
CQkJCQkJCQljb21wbGV0ZSggMCwgImVycm9yIiApOw0KCQkJCQkJCQl9IGVsc2Ugew0KCQkJCQkJ
CQkJY29tcGxldGUoDQoNCgkJCQkJCQkJCQkvLyBGaWxlOiBwcm90b2NvbCBhbHdheXMgeWllbGRz
IHN0YXR1cyAwOyBzZWUgIzg2MDUsICMxNDIwNw0KCQkJCQkJCQkJCXhoci5zdGF0dXMsDQoJCQkJ
CQkJCQkJeGhyLnN0YXR1c1RleHQNCgkJCQkJCQkJCSk7DQoJCQkJCQkJCX0NCgkJCQkJCQl9IGVs
c2Ugew0KCQkJCQkJCQljb21wbGV0ZSgNCgkJCQkJCQkJCXhoclN1Y2Nlc3NTdGF0dXNbIHhoci5z
dGF0dXMgXSB8fCB4aHIuc3RhdHVzLA0KCQkJCQkJCQkJeGhyLnN0YXR1c1RleHQsDQoNCgkJCQkJ
CQkJCS8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5DQoJCQkJCQkJCQkvLyBJRTkgaGFzIG5vIFhIUjIg
YnV0IHRocm93cyBvbiBiaW5hcnkgKHRyYWMtMTE0MjYpDQoJCQkJCQkJCQkvLyBGb3IgWEhSMiBu
b24tdGV4dCwgbGV0IHRoZSBjYWxsZXIgaGFuZGxlIGl0IChnaC0yNDk4KQ0KCQkJCQkJCQkJKCB4
aHIucmVzcG9uc2VUeXBlIHx8ICJ0ZXh0IiApICE9PSAidGV4dCIgIHx8DQoJCQkJCQkJCQl0eXBl
b2YgeGhyLnJlc3BvbnNlVGV4dCAhPT0gInN0cmluZyIgPw0KCQkJCQkJCQkJCXsgYmluYXJ5OiB4
aHIucmVzcG9uc2UgfSA6DQoJCQkJCQkJCQkJeyB0ZXh0OiB4aHIucmVzcG9uc2VUZXh0IH0sDQoJ
CQkJCQkJCQl4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkNCgkJCQkJCQkJKTsNCgkJCQkJCQl9
DQoJCQkJCQl9DQoJCQkJCX07DQoJCQkJfTsNCg0KCQkJCS8vIExpc3RlbiB0byBldmVudHMNCgkJ
CQl4aHIub25sb2FkID0gY2FsbGJhY2soKTsNCgkJCQllcnJvckNhbGxiYWNrID0geGhyLm9uZXJy
b3IgPSBjYWxsYmFjayggImVycm9yIiApOw0KDQoJCQkJLy8gU3VwcG9ydDogSUUgOSBvbmx5DQoJ
CQkJLy8gVXNlIG9ucmVhZHlzdGF0ZWNoYW5nZSB0byByZXBsYWNlIG9uYWJvcnQNCgkJCQkvLyB0
byBoYW5kbGUgdW5jYXVnaHQgYWJvcnRzDQoJCQkJaWYgKCB4aHIub25hYm9ydCAhPT0gdW5kZWZp
bmVkICkgew0KCQkJCQl4aHIub25hYm9ydCA9IGVycm9yQ2FsbGJhY2s7DQoJCQkJfSBlbHNlIHsN
CgkJCQkJeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkgew0KDQoJCQkJCQkvLyBD
aGVjayByZWFkeVN0YXRlIGJlZm9yZSB0aW1lb3V0IGFzIGl0IGNoYW5nZXMNCgkJCQkJCWlmICgg
eGhyLnJlYWR5U3RhdGUgPT09IDQgKSB7DQoNCgkJCQkJCQkvLyBBbGxvdyBvbmVycm9yIHRvIGJl
IGNhbGxlZCBmaXJzdCwNCgkJCQkJCQkvLyBidXQgdGhhdCB3aWxsIG5vdCBoYW5kbGUgYSBuYXRp
dmUgYWJvcnQNCgkJCQkJCQkvLyBBbHNvLCBzYXZlIGVycm9yQ2FsbGJhY2sgdG8gYSB2YXJpYWJs
ZQ0KCQkJCQkJCS8vIGFzIHhoci5vbmVycm9yIGNhbm5vdCBiZSBhY2Nlc3NlZA0KCQkJCQkJCXdp
bmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHsNCgkJCQkJCQkJaWYgKCBjYWxsYmFjayApIHsN
CgkJCQkJCQkJCWVycm9yQ2FsbGJhY2soKTsNCgkJCQkJCQkJfQ0KCQkJCQkJCX0gKTsNCgkJCQkJ
CX0NCgkJCQkJfTsNCgkJCQl9DQoNCgkJCQkvLyBDcmVhdGUgdGhlIGFib3J0IGNhbGxiYWNrDQoJ
CQkJY2FsbGJhY2sgPSBjYWxsYmFjayggImFib3J0IiApOw0KDQoJCQkJdHJ5IHsNCg0KCQkJCQkv
LyBEbyBzZW5kIHRoZSByZXF1ZXN0ICh0aGlzIG1heSByYWlzZSBhbiBleGNlcHRpb24pDQoJCQkJ
CXhoci5zZW5kKCBvcHRpb25zLmhhc0NvbnRlbnQgJiYgb3B0aW9ucy5kYXRhIHx8IG51bGwgKTsN
CgkJCQl9IGNhdGNoICggZSApIHsNCg0KCQkJCQkvLyAjMTQ2ODM6IE9ubHkgcmV0aHJvdyBpZiB0
aGlzIGhhc24ndCBiZWVuIG5vdGlmaWVkIGFzIGFuIGVycm9yIHlldA0KCQkJCQlpZiAoIGNhbGxi
YWNrICkgew0KCQkJCQkJdGhyb3cgZTsNCgkJCQkJfQ0KCQkJCX0NCgkJCX0sDQoNCgkJCWFib3J0
OiBmdW5jdGlvbigpIHsNCgkJCQlpZiAoIGNhbGxiYWNrICkgew0KCQkJCQljYWxsYmFjaygpOw0K
CQkJCX0NCgkJCX0NCgkJfTsNCgl9DQp9ICk7DQoNCg0KDQoNCi8vIFByZXZlbnQgYXV0by1leGVj
dXRpb24gb2Ygc2NyaXB0cyB3aGVuIG5vIGV4cGxpY2l0IGRhdGFUeXBlIHdhcyBwcm92aWRlZCAo
U2VlIGdoLTI0MzIpDQpqUXVlcnkuYWpheFByZWZpbHRlciggZnVuY3Rpb24oIHMgKSB7DQoJaWYg
KCBzLmNyb3NzRG9tYWluICkgew0KCQlzLmNvbnRlbnRzLnNjcmlwdCA9IGZhbHNlOw0KCX0NCn0g
KTsNCg0KLy8gSW5zdGFsbCBzY3JpcHQgZGF0YVR5cGUNCmpRdWVyeS5hamF4U2V0dXAoIHsNCglh
Y2NlcHRzOiB7DQoJCXNjcmlwdDogInRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNj
cmlwdCwgIiArDQoJCQkiYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21h
c2NyaXB0Ig0KCX0sDQoJY29udGVudHM6IHsNCgkJc2NyaXB0OiAvXGIoPzpqYXZhfGVjbWEpc2Ny
aXB0XGIvDQoJfSwNCgljb252ZXJ0ZXJzOiB7DQoJCSJ0ZXh0IHNjcmlwdCI6IGZ1bmN0aW9uKCB0
ZXh0ICkgew0KCQkJalF1ZXJ5Lmdsb2JhbEV2YWwoIHRleHQgKTsNCgkJCXJldHVybiB0ZXh0Ow0K
CQl9DQoJfQ0KfSApOw0KDQovLyBIYW5kbGUgY2FjaGUncyBzcGVjaWFsIGNhc2UgYW5kIGNyb3Nz
RG9tYWluDQpqUXVlcnkuYWpheFByZWZpbHRlciggInNjcmlwdCIsIGZ1bmN0aW9uKCBzICkgew0K
CWlmICggcy5jYWNoZSA9PT0gdW5kZWZpbmVkICkgew0KCQlzLmNhY2hlID0gZmFsc2U7DQoJfQ0K
CWlmICggcy5jcm9zc0RvbWFpbiApIHsNCgkJcy50eXBlID0gIkdFVCI7DQoJfQ0KfSApOw0KDQov
LyBCaW5kIHNjcmlwdCB0YWcgaGFjayB0cmFuc3BvcnQNCmpRdWVyeS5hamF4VHJhbnNwb3J0KCAi
c2NyaXB0IiwgZnVuY3Rpb24oIHMgKSB7DQoNCgkvLyBUaGlzIHRyYW5zcG9ydCBvbmx5IGRlYWxz
IHdpdGggY3Jvc3MgZG9tYWluIHJlcXVlc3RzDQoJaWYgKCBzLmNyb3NzRG9tYWluICkgew0KCQl2
YXIgc2NyaXB0LCBjYWxsYmFjazsNCgkJcmV0dXJuIHsNCgkJCXNlbmQ6IGZ1bmN0aW9uKCBfLCBj
b21wbGV0ZSApIHsNCgkJCQlzY3JpcHQgPSBqUXVlcnkoICI8c2NyaXB0PiIgKS5wcm9wKCB7DQoJ
CQkJCWNoYXJzZXQ6IHMuc2NyaXB0Q2hhcnNldCwNCgkJCQkJc3JjOiBzLnVybA0KCQkJCX0gKS5v
bigNCgkJCQkJImxvYWQgZXJyb3IiLA0KCQkJCQljYWxsYmFjayA9IGZ1bmN0aW9uKCBldnQgKSB7
DQoJCQkJCQlzY3JpcHQucmVtb3ZlKCk7DQoJCQkJCQljYWxsYmFjayA9IG51bGw7DQoJCQkJCQlp
ZiAoIGV2dCApIHsNCgkJCQkJCQljb21wbGV0ZSggZXZ0LnR5cGUgPT09ICJlcnJvciIgPyA0MDQg
OiAyMDAsIGV2dC50eXBlICk7DQoJCQkJCQl9DQoJCQkJCX0NCgkJCQkpOw0KDQoJCQkJLy8gVXNl
IG5hdGl2ZSBET00gbWFuaXB1bGF0aW9uIHRvIGF2b2lkIG91ciBkb21NYW5pcCBBSkFYIHRyaWNr
ZXJ5DQoJCQkJZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZCggc2NyaXB0WyAwIF0gKTsNCgkJCX0s
DQoJCQlhYm9ydDogZnVuY3Rpb24oKSB7DQoJCQkJaWYgKCBjYWxsYmFjayApIHsNCgkJCQkJY2Fs
bGJhY2soKTsNCgkJCQl9DQoJCQl9DQoJCX07DQoJfQ0KfSApOw0KDQoNCg0KDQp2YXIgb2xkQ2Fs
bGJhY2tzID0gW10sDQoJcmpzb25wID0gLyg9KVw/KD89JnwkKXxcP1w/LzsNCg0KLy8gRGVmYXVs
dCBqc29ucCBzZXR0aW5ncw0KalF1ZXJ5LmFqYXhTZXR1cCggew0KCWpzb25wOiAiY2FsbGJhY2si
LA0KCWpzb25wQ2FsbGJhY2s6IGZ1bmN0aW9uKCkgew0KCQl2YXIgY2FsbGJhY2sgPSBvbGRDYWxs
YmFja3MucG9wKCkgfHwgKCBqUXVlcnkuZXhwYW5kbyArICJfIiArICggbm9uY2UrKyApICk7DQoJ
CXRoaXNbIGNhbGxiYWNrIF0gPSB0cnVlOw0KCQlyZXR1cm4gY2FsbGJhY2s7DQoJfQ0KfSApOw0K
DQovLyBEZXRlY3QsIG5vcm1hbGl6ZSBvcHRpb25zIGFuZCBpbnN0YWxsIGNhbGxiYWNrcyBmb3Ig
anNvbnAgcmVxdWVzdHMNCmpRdWVyeS5hamF4UHJlZmlsdGVyKCAianNvbiBqc29ucCIsIGZ1bmN0
aW9uKCBzLCBvcmlnaW5hbFNldHRpbmdzLCBqcVhIUiApIHsNCg0KCXZhciBjYWxsYmFja05hbWUs
IG92ZXJ3cml0dGVuLCByZXNwb25zZUNvbnRhaW5lciwNCgkJanNvblByb3AgPSBzLmpzb25wICE9
PSBmYWxzZSAmJiAoIHJqc29ucC50ZXN0KCBzLnVybCApID8NCgkJCSJ1cmwiIDoNCgkJCXR5cGVv
ZiBzLmRhdGEgPT09ICJzdHJpbmciICYmDQoJCQkJKCBzLmNvbnRlbnRUeXBlIHx8ICIiICkNCgkJ
CQkJLmluZGV4T2YoICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiICkgPT09IDAg
JiYNCgkJCQlyanNvbnAudGVzdCggcy5kYXRhICkgJiYgImRhdGEiDQoJCSk7DQoNCgkvLyBIYW5k
bGUgaWZmIHRoZSBleHBlY3RlZCBkYXRhIHR5cGUgaXMgImpzb25wIiBvciB3ZSBoYXZlIGEgcGFy
YW1ldGVyIHRvIHNldA0KCWlmICgganNvblByb3AgfHwgcy5kYXRhVHlwZXNbIDAgXSA9PT0gImpz
b25wIiApIHsNCg0KCQkvLyBHZXQgY2FsbGJhY2sgbmFtZSwgcmVtZW1iZXJpbmcgcHJlZXhpc3Rp
bmcgdmFsdWUgYXNzb2NpYXRlZCB3aXRoIGl0DQoJCWNhbGxiYWNrTmFtZSA9IHMuanNvbnBDYWxs
YmFjayA9IGpRdWVyeS5pc0Z1bmN0aW9uKCBzLmpzb25wQ2FsbGJhY2sgKSA/DQoJCQlzLmpzb25w
Q2FsbGJhY2soKSA6DQoJCQlzLmpzb25wQ2FsbGJhY2s7DQoNCgkJLy8gSW5zZXJ0IGNhbGxiYWNr
IGludG8gdXJsIG9yIGZvcm0gZGF0YQ0KCQlpZiAoIGpzb25Qcm9wICkgew0KCQkJc1sganNvblBy
b3AgXSA9IHNbIGpzb25Qcm9wIF0ucmVwbGFjZSggcmpzb25wLCAiJDEiICsgY2FsbGJhY2tOYW1l
ICk7DQoJCX0gZWxzZSBpZiAoIHMuanNvbnAgIT09IGZhbHNlICkgew0KCQkJcy51cmwgKz0gKCBy
cXVlcnkudGVzdCggcy51cmwgKSA/ICImIiA6ICI/IiApICsgcy5qc29ucCArICI9IiArIGNhbGxi
YWNrTmFtZTsNCgkJfQ0KDQoJCS8vIFVzZSBkYXRhIGNvbnZlcnRlciB0byByZXRyaWV2ZSBqc29u
IGFmdGVyIHNjcmlwdCBleGVjdXRpb24NCgkJcy5jb252ZXJ0ZXJzWyAic2NyaXB0IGpzb24iIF0g
PSBmdW5jdGlvbigpIHsNCgkJCWlmICggIXJlc3BvbnNlQ29udGFpbmVyICkgew0KCQkJCWpRdWVy
eS5lcnJvciggY2FsbGJhY2tOYW1lICsgIiB3YXMgbm90IGNhbGxlZCIgKTsNCgkJCX0NCgkJCXJl
dHVybiByZXNwb25zZUNvbnRhaW5lclsgMCBdOw0KCQl9Ow0KDQoJCS8vIEZvcmNlIGpzb24gZGF0
YVR5cGUNCgkJcy5kYXRhVHlwZXNbIDAgXSA9ICJqc29uIjsNCg0KCQkvLyBJbnN0YWxsIGNhbGxi
YWNrDQoJCW92ZXJ3cml0dGVuID0gd2luZG93WyBjYWxsYmFja05hbWUgXTsNCgkJd2luZG93WyBj
YWxsYmFja05hbWUgXSA9IGZ1bmN0aW9uKCkgew0KCQkJcmVzcG9uc2VDb250YWluZXIgPSBhcmd1
bWVudHM7DQoJCX07DQoNCgkJLy8gQ2xlYW4tdXAgZnVuY3Rpb24gKGZpcmVzIGFmdGVyIGNvbnZl
cnRlcnMpDQoJCWpxWEhSLmFsd2F5cyggZnVuY3Rpb24oKSB7DQoNCgkJCS8vIElmIHByZXZpb3Vz
IHZhbHVlIGRpZG4ndCBleGlzdCAtIHJlbW92ZSBpdA0KCQkJaWYgKCBvdmVyd3JpdHRlbiA9PT0g
dW5kZWZpbmVkICkgew0KCQkJCWpRdWVyeSggd2luZG93ICkucmVtb3ZlUHJvcCggY2FsbGJhY2tO
YW1lICk7DQoNCgkJCS8vIE90aGVyd2lzZSByZXN0b3JlIHByZWV4aXN0aW5nIHZhbHVlDQoJCQl9
IGVsc2Ugew0KCQkJCXdpbmRvd1sgY2FsbGJhY2tOYW1lIF0gPSBvdmVyd3JpdHRlbjsNCgkJCX0N
Cg0KCQkJLy8gU2F2ZSBiYWNrIGFzIGZyZWUNCgkJCWlmICggc1sgY2FsbGJhY2tOYW1lIF0gKSB7
DQoNCgkJCQkvLyBNYWtlIHN1cmUgdGhhdCByZS11c2luZyB0aGUgb3B0aW9ucyBkb2Vzbid0IHNj
cmV3IHRoaW5ncyBhcm91bmQNCgkJCQlzLmpzb25wQ2FsbGJhY2sgPSBvcmlnaW5hbFNldHRpbmdz
Lmpzb25wQ2FsbGJhY2s7DQoNCgkJCQkvLyBTYXZlIHRoZSBjYWxsYmFjayBuYW1lIGZvciBmdXR1
cmUgdXNlDQoJCQkJb2xkQ2FsbGJhY2tzLnB1c2goIGNhbGxiYWNrTmFtZSApOw0KCQkJfQ0KDQoJ
CQkvLyBDYWxsIGlmIGl0IHdhcyBhIGZ1bmN0aW9uIGFuZCB3ZSBoYXZlIGEgcmVzcG9uc2UNCgkJ
CWlmICggcmVzcG9uc2VDb250YWluZXIgJiYgalF1ZXJ5LmlzRnVuY3Rpb24oIG92ZXJ3cml0dGVu
ICkgKSB7DQoJCQkJb3ZlcndyaXR0ZW4oIHJlc3BvbnNlQ29udGFpbmVyWyAwIF0gKTsNCgkJCX0N
Cg0KCQkJcmVzcG9uc2VDb250YWluZXIgPSBvdmVyd3JpdHRlbiA9IHVuZGVmaW5lZDsNCgkJfSAp
Ow0KDQoJCS8vIERlbGVnYXRlIHRvIHNjcmlwdA0KCQlyZXR1cm4gInNjcmlwdCI7DQoJfQ0KfSAp
Ow0KDQoNCg0KDQovLyBTdXBwb3J0OiBTYWZhcmkgOCBvbmx5DQovLyBJbiBTYWZhcmkgOCBkb2N1
bWVudHMgY3JlYXRlZCB2aWEgZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3Vt
ZW50DQovLyBjb2xsYXBzZSBzaWJsaW5nIGZvcm1zOiB0aGUgc2Vjb25kIG9uZSBiZWNvbWVzIGEg
Y2hpbGQgb2YgdGhlIGZpcnN0IG9uZS4NCi8vIEJlY2F1c2Ugb2YgdGhhdCwgdGhpcyBzZWN1cml0
eSBtZWFzdXJlIGhhcyB0byBiZSBkaXNhYmxlZCBpbiBTYWZhcmkgOC4NCi8vIGh0dHBzOi8vYnVn
cy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xMzczMzcNCnN1cHBvcnQuY3JlYXRlSFRNTERv
Y3VtZW50ID0gKCBmdW5jdGlvbigpIHsNCgl2YXIgYm9keSA9IGRvY3VtZW50LmltcGxlbWVudGF0
aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCggIiIgKS5ib2R5Ow0KCWJvZHkuaW5uZXJIVE1MID0gIjxm
b3JtPjwvZm9ybT48Zm9ybT48L2Zvcm0+IjsNCglyZXR1cm4gYm9keS5jaGlsZE5vZGVzLmxlbmd0
aCA9PT0gMjsNCn0gKSgpOw0KDQoNCi8vIEFyZ3VtZW50ICJkYXRhIiBzaG91bGQgYmUgc3RyaW5n
IG9mIGh0bWwNCi8vIGNvbnRleHQgKG9wdGlvbmFsKTogSWYgc3BlY2lmaWVkLCB0aGUgZnJhZ21l
bnQgd2lsbCBiZSBjcmVhdGVkIGluIHRoaXMgY29udGV4dCwNCi8vIGRlZmF1bHRzIHRvIGRvY3Vt
ZW50DQovLyBrZWVwU2NyaXB0cyAob3B0aW9uYWwpOiBJZiB0cnVlLCB3aWxsIGluY2x1ZGUgc2Ny
aXB0cyBwYXNzZWQgaW4gdGhlIGh0bWwgc3RyaW5nDQpqUXVlcnkucGFyc2VIVE1MID0gZnVuY3Rp
b24oIGRhdGEsIGNvbnRleHQsIGtlZXBTY3JpcHRzICkgew0KCWlmICggdHlwZW9mIGRhdGEgIT09
ICJzdHJpbmciICkgew0KCQlyZXR1cm4gW107DQoJfQ0KCWlmICggdHlwZW9mIGNvbnRleHQgPT09
ICJib29sZWFuIiApIHsNCgkJa2VlcFNjcmlwdHMgPSBjb250ZXh0Ow0KCQljb250ZXh0ID0gZmFs
c2U7DQoJfQ0KDQoJdmFyIGJhc2UsIHBhcnNlZCwgc2NyaXB0czsNCg0KCWlmICggIWNvbnRleHQg
KSB7DQoNCgkJLy8gU3RvcCBzY3JpcHRzIG9yIGlubGluZSBldmVudCBoYW5kbGVycyBmcm9tIGJl
aW5nIGV4ZWN1dGVkIGltbWVkaWF0ZWx5DQoJCS8vIGJ5IHVzaW5nIGRvY3VtZW50LmltcGxlbWVu
dGF0aW9uDQoJCWlmICggc3VwcG9ydC5jcmVhdGVIVE1MRG9jdW1lbnQgKSB7DQoJCQljb250ZXh0
ID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCAiIiApOw0KDQoJ
CQkvLyBTZXQgdGhlIGJhc2UgaHJlZiBmb3IgdGhlIGNyZWF0ZWQgZG9jdW1lbnQNCgkJCS8vIHNv
IGFueSBwYXJzZWQgZWxlbWVudHMgd2l0aCBVUkxzDQoJCQkvLyBhcmUgYmFzZWQgb24gdGhlIGRv
Y3VtZW50J3MgVVJMIChnaC0yOTY1KQ0KCQkJYmFzZSA9IGNvbnRleHQuY3JlYXRlRWxlbWVudCgg
ImJhc2UiICk7DQoJCQliYXNlLmhyZWYgPSBkb2N1bWVudC5sb2NhdGlvbi5ocmVmOw0KCQkJY29u
dGV4dC5oZWFkLmFwcGVuZENoaWxkKCBiYXNlICk7DQoJCX0gZWxzZSB7DQoJCQljb250ZXh0ID0g
ZG9jdW1lbnQ7DQoJCX0NCgl9DQoNCglwYXJzZWQgPSByc2luZ2xlVGFnLmV4ZWMoIGRhdGEgKTsN
CglzY3JpcHRzID0gIWtlZXBTY3JpcHRzICYmIFtdOw0KDQoJLy8gU2luZ2xlIHRhZw0KCWlmICgg
cGFyc2VkICkgew0KCQlyZXR1cm4gWyBjb250ZXh0LmNyZWF0ZUVsZW1lbnQoIHBhcnNlZFsgMSBd
ICkgXTsNCgl9DQoNCglwYXJzZWQgPSBidWlsZEZyYWdtZW50KCBbIGRhdGEgXSwgY29udGV4dCwg
c2NyaXB0cyApOw0KDQoJaWYgKCBzY3JpcHRzICYmIHNjcmlwdHMubGVuZ3RoICkgew0KCQlqUXVl
cnkoIHNjcmlwdHMgKS5yZW1vdmUoKTsNCgl9DQoNCglyZXR1cm4galF1ZXJ5Lm1lcmdlKCBbXSwg
cGFyc2VkLmNoaWxkTm9kZXMgKTsNCn07DQoNCg0KLyoqDQogKiBMb2FkIGEgdXJsIGludG8gYSBw
YWdlDQogKi8NCmpRdWVyeS5mbi5sb2FkID0gZnVuY3Rpb24oIHVybCwgcGFyYW1zLCBjYWxsYmFj
ayApIHsNCgl2YXIgc2VsZWN0b3IsIHR5cGUsIHJlc3BvbnNlLA0KCQlzZWxmID0gdGhpcywNCgkJ
b2ZmID0gdXJsLmluZGV4T2YoICIgIiApOw0KDQoJaWYgKCBvZmYgPiAtMSApIHsNCgkJc2VsZWN0
b3IgPSBzdHJpcEFuZENvbGxhcHNlKCB1cmwuc2xpY2UoIG9mZiApICk7DQoJCXVybCA9IHVybC5z
bGljZSggMCwgb2ZmICk7DQoJfQ0KDQoJLy8gSWYgaXQncyBhIGZ1bmN0aW9uDQoJaWYgKCBqUXVl
cnkuaXNGdW5jdGlvbiggcGFyYW1zICkgKSB7DQoNCgkJLy8gV2UgYXNzdW1lIHRoYXQgaXQncyB0
aGUgY2FsbGJhY2sNCgkJY2FsbGJhY2sgPSBwYXJhbXM7DQoJCXBhcmFtcyA9IHVuZGVmaW5lZDsN
Cg0KCS8vIE90aGVyd2lzZSwgYnVpbGQgYSBwYXJhbSBzdHJpbmcNCgl9IGVsc2UgaWYgKCBwYXJh
bXMgJiYgdHlwZW9mIHBhcmFtcyA9PT0gIm9iamVjdCIgKSB7DQoJCXR5cGUgPSAiUE9TVCI7DQoJ
fQ0KDQoJLy8gSWYgd2UgaGF2ZSBlbGVtZW50cyB0byBtb2RpZnksIG1ha2UgdGhlIHJlcXVlc3QN
CglpZiAoIHNlbGYubGVuZ3RoID4gMCApIHsNCgkJalF1ZXJ5LmFqYXgoIHsNCgkJCXVybDogdXJs
LA0KDQoJCQkvLyBJZiAidHlwZSIgdmFyaWFibGUgaXMgdW5kZWZpbmVkLCB0aGVuICJHRVQiIG1l
dGhvZCB3aWxsIGJlIHVzZWQuDQoJCQkvLyBNYWtlIHZhbHVlIG9mIHRoaXMgZmllbGQgZXhwbGlj
aXQgc2luY2UNCgkJCS8vIHVzZXIgY2FuIG92ZXJyaWRlIGl0IHRocm91Z2ggYWpheFNldHVwIG1l
dGhvZA0KCQkJdHlwZTogdHlwZSB8fCAiR0VUIiwNCgkJCWRhdGFUeXBlOiAiaHRtbCIsDQoJCQlk
YXRhOiBwYXJhbXMNCgkJfSApLmRvbmUoIGZ1bmN0aW9uKCByZXNwb25zZVRleHQgKSB7DQoNCgkJ
CS8vIFNhdmUgcmVzcG9uc2UgZm9yIHVzZSBpbiBjb21wbGV0ZSBjYWxsYmFjaw0KCQkJcmVzcG9u
c2UgPSBhcmd1bWVudHM7DQoNCgkJCXNlbGYuaHRtbCggc2VsZWN0b3IgPw0KDQoJCQkJLy8gSWYg
YSBzZWxlY3RvciB3YXMgc3BlY2lmaWVkLCBsb2NhdGUgdGhlIHJpZ2h0IGVsZW1lbnRzIGluIGEg
ZHVtbXkgZGl2DQoJCQkJLy8gRXhjbHVkZSBzY3JpcHRzIHRvIGF2b2lkIElFICdQZXJtaXNzaW9u
IERlbmllZCcgZXJyb3JzDQoJCQkJalF1ZXJ5KCAiPGRpdj4iICkuYXBwZW5kKCBqUXVlcnkucGFy
c2VIVE1MKCByZXNwb25zZVRleHQgKSApLmZpbmQoIHNlbGVjdG9yICkgOg0KDQoJCQkJLy8gT3Ro
ZXJ3aXNlIHVzZSB0aGUgZnVsbCByZXN1bHQNCgkJCQlyZXNwb25zZVRleHQgKTsNCg0KCQkvLyBJ
ZiB0aGUgcmVxdWVzdCBzdWNjZWVkcywgdGhpcyBmdW5jdGlvbiBnZXRzICJkYXRhIiwgInN0YXR1
cyIsICJqcVhIUiINCgkJLy8gYnV0IHRoZXkgYXJlIGlnbm9yZWQgYmVjYXVzZSByZXNwb25zZSB3
YXMgc2V0IGFib3ZlLg0KCQkvLyBJZiBpdCBmYWlscywgdGhpcyBmdW5jdGlvbiBnZXRzICJqcVhI
UiIsICJzdGF0dXMiLCAiZXJyb3IiDQoJCX0gKS5hbHdheXMoIGNhbGxiYWNrICYmIGZ1bmN0aW9u
KCBqcVhIUiwgc3RhdHVzICkgew0KCQkJc2VsZi5lYWNoKCBmdW5jdGlvbigpIHsNCgkJCQljYWxs
YmFjay5hcHBseSggdGhpcywgcmVzcG9uc2UgfHwgWyBqcVhIUi5yZXNwb25zZVRleHQsIHN0YXR1
cywganFYSFIgXSApOw0KCQkJfSApOw0KCQl9ICk7DQoJfQ0KDQoJcmV0dXJuIHRoaXM7DQp9Ow0K
DQoNCg0KDQovLyBBdHRhY2ggYSBidW5jaCBvZiBmdW5jdGlvbnMgZm9yIGhhbmRsaW5nIGNvbW1v
biBBSkFYIGV2ZW50cw0KalF1ZXJ5LmVhY2goIFsNCgkiYWpheFN0YXJ0IiwNCgkiYWpheFN0b3Ai
LA0KCSJhamF4Q29tcGxldGUiLA0KCSJhamF4RXJyb3IiLA0KCSJhamF4U3VjY2VzcyIsDQoJImFq
YXhTZW5kIg0KXSwgZnVuY3Rpb24oIGksIHR5cGUgKSB7DQoJalF1ZXJ5LmZuWyB0eXBlIF0gPSBm
dW5jdGlvbiggZm4gKSB7DQoJCXJldHVybiB0aGlzLm9uKCB0eXBlLCBmbiApOw0KCX07DQp9ICk7
DQoNCg0KDQoNCmpRdWVyeS5leHByLnBzZXVkb3MuYW5pbWF0ZWQgPSBmdW5jdGlvbiggZWxlbSAp
IHsNCglyZXR1cm4galF1ZXJ5LmdyZXAoIGpRdWVyeS50aW1lcnMsIGZ1bmN0aW9uKCBmbiApIHsN
CgkJcmV0dXJuIGVsZW0gPT09IGZuLmVsZW07DQoJfSApLmxlbmd0aDsNCn07DQoNCg0KDQoNCmpR
dWVyeS5vZmZzZXQgPSB7DQoJc2V0T2Zmc2V0OiBmdW5jdGlvbiggZWxlbSwgb3B0aW9ucywgaSAp
IHsNCgkJdmFyIGN1clBvc2l0aW9uLCBjdXJMZWZ0LCBjdXJDU1NUb3AsIGN1clRvcCwgY3VyT2Zm
c2V0LCBjdXJDU1NMZWZ0LCBjYWxjdWxhdGVQb3NpdGlvbiwNCgkJCXBvc2l0aW9uID0galF1ZXJ5
LmNzcyggZWxlbSwgInBvc2l0aW9uIiApLA0KCQkJY3VyRWxlbSA9IGpRdWVyeSggZWxlbSApLA0K
CQkJcHJvcHMgPSB7fTsNCg0KCQkvLyBTZXQgcG9zaXRpb24gZmlyc3QsIGluLWNhc2UgdG9wL2xl
ZnQgYXJlIHNldCBldmVuIG9uIHN0YXRpYyBlbGVtDQoJCWlmICggcG9zaXRpb24gPT09ICJzdGF0
aWMiICkgew0KCQkJZWxlbS5zdHlsZS5wb3NpdGlvbiA9ICJyZWxhdGl2ZSI7DQoJCX0NCg0KCQlj
dXJPZmZzZXQgPSBjdXJFbGVtLm9mZnNldCgpOw0KCQljdXJDU1NUb3AgPSBqUXVlcnkuY3NzKCBl
bGVtLCAidG9wIiApOw0KCQljdXJDU1NMZWZ0ID0galF1ZXJ5LmNzcyggZWxlbSwgImxlZnQiICk7
DQoJCWNhbGN1bGF0ZVBvc2l0aW9uID0gKCBwb3NpdGlvbiA9PT0gImFic29sdXRlIiB8fCBwb3Np
dGlvbiA9PT0gImZpeGVkIiApICYmDQoJCQkoIGN1ckNTU1RvcCArIGN1ckNTU0xlZnQgKS5pbmRl
eE9mKCAiYXV0byIgKSA+IC0xOw0KDQoJCS8vIE5lZWQgdG8gYmUgYWJsZSB0byBjYWxjdWxhdGUg
cG9zaXRpb24gaWYgZWl0aGVyDQoJCS8vIHRvcCBvciBsZWZ0IGlzIGF1dG8gYW5kIHBvc2l0aW9u
IGlzIGVpdGhlciBhYnNvbHV0ZSBvciBmaXhlZA0KCQlpZiAoIGNhbGN1bGF0ZVBvc2l0aW9uICkg
ew0KCQkJY3VyUG9zaXRpb24gPSBjdXJFbGVtLnBvc2l0aW9uKCk7DQoJCQljdXJUb3AgPSBjdXJQ
b3NpdGlvbi50b3A7DQoJCQljdXJMZWZ0ID0gY3VyUG9zaXRpb24ubGVmdDsNCg0KCQl9IGVsc2Ug
ew0KCQkJY3VyVG9wID0gcGFyc2VGbG9hdCggY3VyQ1NTVG9wICkgfHwgMDsNCgkJCWN1ckxlZnQg
PSBwYXJzZUZsb2F0KCBjdXJDU1NMZWZ0ICkgfHwgMDsNCgkJfQ0KDQoJCWlmICggalF1ZXJ5Lmlz
RnVuY3Rpb24oIG9wdGlvbnMgKSApIHsNCg0KCQkJLy8gVXNlIGpRdWVyeS5leHRlbmQgaGVyZSB0
byBhbGxvdyBtb2RpZmljYXRpb24gb2YgY29vcmRpbmF0ZXMgYXJndW1lbnQgKGdoLTE4NDgpDQoJ
CQlvcHRpb25zID0gb3B0aW9ucy5jYWxsKCBlbGVtLCBpLCBqUXVlcnkuZXh0ZW5kKCB7fSwgY3Vy
T2Zmc2V0ICkgKTsNCgkJfQ0KDQoJCWlmICggb3B0aW9ucy50b3AgIT0gbnVsbCApIHsNCgkJCXBy
b3BzLnRvcCA9ICggb3B0aW9ucy50b3AgLSBjdXJPZmZzZXQudG9wICkgKyBjdXJUb3A7DQoJCX0N
CgkJaWYgKCBvcHRpb25zLmxlZnQgIT0gbnVsbCApIHsNCgkJCXByb3BzLmxlZnQgPSAoIG9wdGlv
bnMubGVmdCAtIGN1ck9mZnNldC5sZWZ0ICkgKyBjdXJMZWZ0Ow0KCQl9DQoNCgkJaWYgKCAidXNp
bmciIGluIG9wdGlvbnMgKSB7DQoJCQlvcHRpb25zLnVzaW5nLmNhbGwoIGVsZW0sIHByb3BzICk7
DQoNCgkJfSBlbHNlIHsNCgkJCWN1ckVsZW0uY3NzKCBwcm9wcyApOw0KCQl9DQoJfQ0KfTsNCg0K
alF1ZXJ5LmZuLmV4dGVuZCggew0KCW9mZnNldDogZnVuY3Rpb24oIG9wdGlvbnMgKSB7DQoNCgkJ
Ly8gUHJlc2VydmUgY2hhaW5pbmcgZm9yIHNldHRlcg0KCQlpZiAoIGFyZ3VtZW50cy5sZW5ndGgg
KSB7DQoJCQlyZXR1cm4gb3B0aW9ucyA9PT0gdW5kZWZpbmVkID8NCgkJCQl0aGlzIDoNCgkJCQl0
aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkgew0KCQkJCQlqUXVlcnkub2Zmc2V0LnNldE9mZnNldCgg
dGhpcywgb3B0aW9ucywgaSApOw0KCQkJCX0gKTsNCgkJfQ0KDQoJCXZhciBkb2MsIGRvY0VsZW0s
IHJlY3QsIHdpbiwNCgkJCWVsZW0gPSB0aGlzWyAwIF07DQoNCgkJaWYgKCAhZWxlbSApIHsNCgkJ
CXJldHVybjsNCgkJfQ0KDQoJCS8vIFJldHVybiB6ZXJvcyBmb3IgZGlzY29ubmVjdGVkIGFuZCBo
aWRkZW4gKGRpc3BsYXk6IG5vbmUpIGVsZW1lbnRzIChnaC0yMzEwKQ0KCQkvLyBTdXBwb3J0OiBJ
RSA8PTExIG9ubHkNCgkJLy8gUnVubmluZyBnZXRCb3VuZGluZ0NsaWVudFJlY3Qgb24gYQ0KCQkv
LyBkaXNjb25uZWN0ZWQgbm9kZSBpbiBJRSB0aHJvd3MgYW4gZXJyb3INCgkJaWYgKCAhZWxlbS5n
ZXRDbGllbnRSZWN0cygpLmxlbmd0aCApIHsNCgkJCXJldHVybiB7IHRvcDogMCwgbGVmdDogMCB9
Ow0KCQl9DQoNCgkJcmVjdCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7DQoNCgkJZG9j
ID0gZWxlbS5vd25lckRvY3VtZW50Ow0KCQlkb2NFbGVtID0gZG9jLmRvY3VtZW50RWxlbWVudDsN
CgkJd2luID0gZG9jLmRlZmF1bHRWaWV3Ow0KDQoJCXJldHVybiB7DQoJCQl0b3A6IHJlY3QudG9w
ICsgd2luLnBhZ2VZT2Zmc2V0IC0gZG9jRWxlbS5jbGllbnRUb3AsDQoJCQlsZWZ0OiByZWN0Lmxl
ZnQgKyB3aW4ucGFnZVhPZmZzZXQgLSBkb2NFbGVtLmNsaWVudExlZnQNCgkJfTsNCgl9LA0KDQoJ
cG9zaXRpb246IGZ1bmN0aW9uKCkgew0KCQlpZiAoICF0aGlzWyAwIF0gKSB7DQoJCQlyZXR1cm47
DQoJCX0NCg0KCQl2YXIgb2Zmc2V0UGFyZW50LCBvZmZzZXQsDQoJCQllbGVtID0gdGhpc1sgMCBd
LA0KCQkJcGFyZW50T2Zmc2V0ID0geyB0b3A6IDAsIGxlZnQ6IDAgfTsNCg0KCQkvLyBGaXhlZCBl
bGVtZW50cyBhcmUgb2Zmc2V0IGZyb20gd2luZG93IChwYXJlbnRPZmZzZXQgPSB7dG9wOjAsIGxl
ZnQ6IDB9LA0KCQkvLyBiZWNhdXNlIGl0IGlzIGl0cyBvbmx5IG9mZnNldCBwYXJlbnQNCgkJaWYg
KCBqUXVlcnkuY3NzKCBlbGVtLCAicG9zaXRpb24iICkgPT09ICJmaXhlZCIgKSB7DQoNCgkJCS8v
IEFzc3VtZSBnZXRCb3VuZGluZ0NsaWVudFJlY3QgaXMgdGhlcmUgd2hlbiBjb21wdXRlZCBwb3Np
dGlvbiBpcyBmaXhlZA0KCQkJb2Zmc2V0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsN
Cg0KCQl9IGVsc2Ugew0KDQoJCQkvLyBHZXQgKnJlYWwqIG9mZnNldFBhcmVudA0KCQkJb2Zmc2V0
UGFyZW50ID0gdGhpcy5vZmZzZXRQYXJlbnQoKTsNCg0KCQkJLy8gR2V0IGNvcnJlY3Qgb2Zmc2V0
cw0KCQkJb2Zmc2V0ID0gdGhpcy5vZmZzZXQoKTsNCgkJCWlmICggIW5vZGVOYW1lKCBvZmZzZXRQ
YXJlbnRbIDAgXSwgImh0bWwiICkgKSB7DQoJCQkJcGFyZW50T2Zmc2V0ID0gb2Zmc2V0UGFyZW50
Lm9mZnNldCgpOw0KCQkJfQ0KDQoJCQkvLyBBZGQgb2Zmc2V0UGFyZW50IGJvcmRlcnMNCgkJCXBh
cmVudE9mZnNldCA9IHsNCgkJCQl0b3A6IHBhcmVudE9mZnNldC50b3AgKyBqUXVlcnkuY3NzKCBv
ZmZzZXRQYXJlbnRbIDAgXSwgImJvcmRlclRvcFdpZHRoIiwgdHJ1ZSApLA0KCQkJCWxlZnQ6IHBh
cmVudE9mZnNldC5sZWZ0ICsgalF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50WyAwIF0sICJib3JkZXJM
ZWZ0V2lkdGgiLCB0cnVlICkNCgkJCX07DQoJCX0NCg0KCQkvLyBTdWJ0cmFjdCBwYXJlbnQgb2Zm
c2V0cyBhbmQgZWxlbWVudCBtYXJnaW5zDQoJCXJldHVybiB7DQoJCQl0b3A6IG9mZnNldC50b3Ag
LSBwYXJlbnRPZmZzZXQudG9wIC0galF1ZXJ5LmNzcyggZWxlbSwgIm1hcmdpblRvcCIsIHRydWUg
KSwNCgkJCWxlZnQ6IG9mZnNldC5sZWZ0IC0gcGFyZW50T2Zmc2V0LmxlZnQgLSBqUXVlcnkuY3Nz
KCBlbGVtLCAibWFyZ2luTGVmdCIsIHRydWUgKQ0KCQl9Ow0KCX0sDQoNCgkvLyBUaGlzIG1ldGhv
ZCB3aWxsIHJldHVybiBkb2N1bWVudEVsZW1lbnQgaW4gdGhlIGZvbGxvd2luZyBjYXNlczoNCgkv
LyAxKSBGb3IgdGhlIGVsZW1lbnQgaW5zaWRlIHRoZSBpZnJhbWUgd2l0aG91dCBvZmZzZXRQYXJl
bnQsIHRoaXMgbWV0aG9kIHdpbGwgcmV0dXJuDQoJLy8gICAgZG9jdW1lbnRFbGVtZW50IG9mIHRo
ZSBwYXJlbnQgd2luZG93DQoJLy8gMikgRm9yIHRoZSBoaWRkZW4gb3IgZGV0YWNoZWQgZWxlbWVu
dA0KCS8vIDMpIEZvciBib2R5IG9yIGh0bWwgZWxlbWVudCwgaS5lLiBpbiBjYXNlIG9mIHRoZSBo
dG1sIG5vZGUgLSBpdCB3aWxsIHJldHVybiBpdHNlbGYNCgkvLw0KCS8vIGJ1dCB0aG9zZSBleGNl
cHRpb25zIHdlcmUgbmV2ZXIgcHJlc2VudGVkIGFzIGEgcmVhbCBsaWZlIHVzZS1jYXNlcw0KCS8v
IGFuZCBtaWdodCBiZSBjb25zaWRlcmVkIGFzIG1vcmUgcHJlZmVyYWJsZSByZXN1bHRzLg0KCS8v
DQoJLy8gVGhpcyBsb2dpYywgaG93ZXZlciwgaXMgbm90IGd1YXJhbnRlZWQgYW5kIGNhbiBjaGFu
Z2UgYXQgYW55IHBvaW50IGluIHRoZSBmdXR1cmUNCglvZmZzZXRQYXJlbnQ6IGZ1bmN0aW9uKCkg
ew0KCQlyZXR1cm4gdGhpcy5tYXAoIGZ1bmN0aW9uKCkgew0KCQkJdmFyIG9mZnNldFBhcmVudCA9
IHRoaXMub2Zmc2V0UGFyZW50Ow0KDQoJCQl3aGlsZSAoIG9mZnNldFBhcmVudCAmJiBqUXVlcnku
Y3NzKCBvZmZzZXRQYXJlbnQsICJwb3NpdGlvbiIgKSA9PT0gInN0YXRpYyIgKSB7DQoJCQkJb2Zm
c2V0UGFyZW50ID0gb2Zmc2V0UGFyZW50Lm9mZnNldFBhcmVudDsNCgkJCX0NCg0KCQkJcmV0dXJu
IG9mZnNldFBhcmVudCB8fCBkb2N1bWVudEVsZW1lbnQ7DQoJCX0gKTsNCgl9DQp9ICk7DQoNCi8v
IENyZWF0ZSBzY3JvbGxMZWZ0IGFuZCBzY3JvbGxUb3AgbWV0aG9kcw0KalF1ZXJ5LmVhY2goIHsg
c2Nyb2xsTGVmdDogInBhZ2VYT2Zmc2V0Iiwgc2Nyb2xsVG9wOiAicGFnZVlPZmZzZXQiIH0sIGZ1
bmN0aW9uKCBtZXRob2QsIHByb3AgKSB7DQoJdmFyIHRvcCA9ICJwYWdlWU9mZnNldCIgPT09IHBy
b3A7DQoNCglqUXVlcnkuZm5bIG1ldGhvZCBdID0gZnVuY3Rpb24oIHZhbCApIHsNCgkJcmV0dXJu
IGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIG1ldGhvZCwgdmFsICkgew0KDQoJCQkvLyBD
b2FsZXNjZSBkb2N1bWVudHMgYW5kIHdpbmRvd3MNCgkJCXZhciB3aW47DQoJCQlpZiAoIGpRdWVy
eS5pc1dpbmRvdyggZWxlbSApICkgew0KCQkJCXdpbiA9IGVsZW07DQoJCQl9IGVsc2UgaWYgKCBl
bGVtLm5vZGVUeXBlID09PSA5ICkgew0KCQkJCXdpbiA9IGVsZW0uZGVmYXVsdFZpZXc7DQoJCQl9
DQoNCgkJCWlmICggdmFsID09PSB1bmRlZmluZWQgKSB7DQoJCQkJcmV0dXJuIHdpbiA/IHdpblsg
cHJvcCBdIDogZWxlbVsgbWV0aG9kIF07DQoJCQl9DQoNCgkJCWlmICggd2luICkgew0KCQkJCXdp
bi5zY3JvbGxUbygNCgkJCQkJIXRvcCA/IHZhbCA6IHdpbi5wYWdlWE9mZnNldCwNCgkJCQkJdG9w
ID8gdmFsIDogd2luLnBhZ2VZT2Zmc2V0DQoJCQkJKTsNCg0KCQkJfSBlbHNlIHsNCgkJCQllbGVt
WyBtZXRob2QgXSA9IHZhbDsNCgkJCX0NCgkJfSwgbWV0aG9kLCB2YWwsIGFyZ3VtZW50cy5sZW5n
dGggKTsNCgl9Ow0KfSApOw0KDQovLyBTdXBwb3J0OiBTYWZhcmkgPD03IC0gOS4xLCBDaHJvbWUg
PD0zNyAtIDQ5DQovLyBBZGQgdGhlIHRvcC9sZWZ0IGNzc0hvb2tzIHVzaW5nIGpRdWVyeS5mbi5w
b3NpdGlvbg0KLy8gV2Via2l0IGJ1ZzogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcu
Y2dpP2lkPTI5MDg0DQovLyBCbGluayBidWc6IGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9j
aHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTU4OTM0Nw0KLy8gZ2V0Q29tcHV0ZWRTdHlsZSByZXR1
cm5zIHBlcmNlbnQgd2hlbiBzcGVjaWZpZWQgZm9yIHRvcC9sZWZ0L2JvdHRvbS9yaWdodDsNCi8v
IHJhdGhlciB0aGFuIG1ha2UgdGhlIGNzcyBtb2R1bGUgZGVwZW5kIG9uIHRoZSBvZmZzZXQgbW9k
dWxlLCBqdXN0IGNoZWNrIGZvciBpdCBoZXJlDQpqUXVlcnkuZWFjaCggWyAidG9wIiwgImxlZnQi
IF0sIGZ1bmN0aW9uKCBpLCBwcm9wICkgew0KCWpRdWVyeS5jc3NIb29rc1sgcHJvcCBdID0gYWRk
R2V0SG9va0lmKCBzdXBwb3J0LnBpeGVsUG9zaXRpb24sDQoJCWZ1bmN0aW9uKCBlbGVtLCBjb21w
dXRlZCApIHsNCgkJCWlmICggY29tcHV0ZWQgKSB7DQoJCQkJY29tcHV0ZWQgPSBjdXJDU1MoIGVs
ZW0sIHByb3AgKTsNCg0KCQkJCS8vIElmIGN1ckNTUyByZXR1cm5zIHBlcmNlbnRhZ2UsIGZhbGxi
YWNrIHRvIG9mZnNldA0KCQkJCXJldHVybiBybnVtbm9ucHgudGVzdCggY29tcHV0ZWQgKSA/DQoJ
CQkJCWpRdWVyeSggZWxlbSApLnBvc2l0aW9uKClbIHByb3AgXSArICJweCIgOg0KCQkJCQljb21w
dXRlZDsNCgkJCX0NCgkJfQ0KCSk7DQp9ICk7DQoNCg0KLy8gQ3JlYXRlIGlubmVySGVpZ2h0LCBp
bm5lcldpZHRoLCBoZWlnaHQsIHdpZHRoLCBvdXRlckhlaWdodCBhbmQgb3V0ZXJXaWR0aCBtZXRo
b2RzDQpqUXVlcnkuZWFjaCggeyBIZWlnaHQ6ICJoZWlnaHQiLCBXaWR0aDogIndpZHRoIiB9LCBm
dW5jdGlvbiggbmFtZSwgdHlwZSApIHsNCglqUXVlcnkuZWFjaCggeyBwYWRkaW5nOiAiaW5uZXIi
ICsgbmFtZSwgY29udGVudDogdHlwZSwgIiI6ICJvdXRlciIgKyBuYW1lIH0sDQoJCWZ1bmN0aW9u
KCBkZWZhdWx0RXh0cmEsIGZ1bmNOYW1lICkgew0KDQoJCS8vIE1hcmdpbiBpcyBvbmx5IGZvciBv
dXRlckhlaWdodCwgb3V0ZXJXaWR0aA0KCQlqUXVlcnkuZm5bIGZ1bmNOYW1lIF0gPSBmdW5jdGlv
biggbWFyZ2luLCB2YWx1ZSApIHsNCgkJCXZhciBjaGFpbmFibGUgPSBhcmd1bWVudHMubGVuZ3Ro
ICYmICggZGVmYXVsdEV4dHJhIHx8IHR5cGVvZiBtYXJnaW4gIT09ICJib29sZWFuIiApLA0KCQkJ
CWV4dHJhID0gZGVmYXVsdEV4dHJhIHx8ICggbWFyZ2luID09PSB0cnVlIHx8IHZhbHVlID09PSB0
cnVlID8gIm1hcmdpbiIgOiAiYm9yZGVyIiApOw0KDQoJCQlyZXR1cm4gYWNjZXNzKCB0aGlzLCBm
dW5jdGlvbiggZWxlbSwgdHlwZSwgdmFsdWUgKSB7DQoJCQkJdmFyIGRvYzsNCg0KCQkJCWlmICgg
alF1ZXJ5LmlzV2luZG93KCBlbGVtICkgKSB7DQoNCgkJCQkJLy8gJCggd2luZG93ICkub3V0ZXJX
aWR0aC9IZWlnaHQgcmV0dXJuIHcvaCBpbmNsdWRpbmcgc2Nyb2xsYmFycyAoZ2gtMTcyOSkNCgkJ
CQkJcmV0dXJuIGZ1bmNOYW1lLmluZGV4T2YoICJvdXRlciIgKSA9PT0gMCA/DQoJCQkJCQllbGVt
WyAiaW5uZXIiICsgbmFtZSBdIDoNCgkJCQkJCWVsZW0uZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50
WyAiY2xpZW50IiArIG5hbWUgXTsNCgkJCQl9DQoNCgkJCQkvLyBHZXQgZG9jdW1lbnQgd2lkdGgg
b3IgaGVpZ2h0DQoJCQkJaWYgKCBlbGVtLm5vZGVUeXBlID09PSA5ICkgew0KCQkJCQlkb2MgPSBl
bGVtLmRvY3VtZW50RWxlbWVudDsNCg0KCQkJCQkvLyBFaXRoZXIgc2Nyb2xsW1dpZHRoL0hlaWdo
dF0gb3Igb2Zmc2V0W1dpZHRoL0hlaWdodF0gb3IgY2xpZW50W1dpZHRoL0hlaWdodF0sDQoJCQkJ
CS8vIHdoaWNoZXZlciBpcyBncmVhdGVzdA0KCQkJCQlyZXR1cm4gTWF0aC5tYXgoDQoJCQkJCQll
bGVtLmJvZHlbICJzY3JvbGwiICsgbmFtZSBdLCBkb2NbICJzY3JvbGwiICsgbmFtZSBdLA0KCQkJ
CQkJZWxlbS5ib2R5WyAib2Zmc2V0IiArIG5hbWUgXSwgZG9jWyAib2Zmc2V0IiArIG5hbWUgXSwN
CgkJCQkJCWRvY1sgImNsaWVudCIgKyBuYW1lIF0NCgkJCQkJKTsNCgkJCQl9DQoNCgkJCQlyZXR1
cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/DQoNCgkJCQkJLy8gR2V0IHdpZHRoIG9yIGhlaWdodCBv
biB0aGUgZWxlbWVudCwgcmVxdWVzdGluZyBidXQgbm90IGZvcmNpbmcgcGFyc2VGbG9hdA0KCQkJ
CQlqUXVlcnkuY3NzKCBlbGVtLCB0eXBlLCBleHRyYSApIDoNCg0KCQkJCQkvLyBTZXQgd2lkdGgg
b3IgaGVpZ2h0IG9uIHRoZSBlbGVtZW50DQoJCQkJCWpRdWVyeS5zdHlsZSggZWxlbSwgdHlwZSwg
dmFsdWUsIGV4dHJhICk7DQoJCQl9LCB0eXBlLCBjaGFpbmFibGUgPyBtYXJnaW4gOiB1bmRlZmlu
ZWQsIGNoYWluYWJsZSApOw0KCQl9Ow0KCX0gKTsNCn0gKTsNCg0KDQpqUXVlcnkuZm4uZXh0ZW5k
KCB7DQoNCgliaW5kOiBmdW5jdGlvbiggdHlwZXMsIGRhdGEsIGZuICkgew0KCQlyZXR1cm4gdGhp
cy5vbiggdHlwZXMsIG51bGwsIGRhdGEsIGZuICk7DQoJfSwNCgl1bmJpbmQ6IGZ1bmN0aW9uKCB0
eXBlcywgZm4gKSB7DQoJCXJldHVybiB0aGlzLm9mZiggdHlwZXMsIG51bGwsIGZuICk7DQoJfSwN
Cg0KCWRlbGVnYXRlOiBmdW5jdGlvbiggc2VsZWN0b3IsIHR5cGVzLCBkYXRhLCBmbiApIHsNCgkJ
cmV0dXJuIHRoaXMub24oIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4gKTsNCgl9LA0KCXVuZGVs
ZWdhdGU6IGZ1bmN0aW9uKCBzZWxlY3RvciwgdHlwZXMsIGZuICkgew0KDQoJCS8vICggbmFtZXNw
YWNlICkgb3IgKCBzZWxlY3RvciwgdHlwZXMgWywgZm5dICkNCgkJcmV0dXJuIGFyZ3VtZW50cy5s
ZW5ndGggPT09IDEgPw0KCQkJdGhpcy5vZmYoIHNlbGVjdG9yLCAiKioiICkgOg0KCQkJdGhpcy5v
ZmYoIHR5cGVzLCBzZWxlY3RvciB8fCAiKioiLCBmbiApOw0KCX0NCn0gKTsNCg0KalF1ZXJ5Lmhv
bGRSZWFkeSA9IGZ1bmN0aW9uKCBob2xkICkgew0KCWlmICggaG9sZCApIHsNCgkJalF1ZXJ5LnJl
YWR5V2FpdCsrOw0KCX0gZWxzZSB7DQoJCWpRdWVyeS5yZWFkeSggdHJ1ZSApOw0KCX0NCn07DQpq
UXVlcnkuaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7DQpqUXVlcnkucGFyc2VKU09OID0gSlNPTi5w
YXJzZTsNCmpRdWVyeS5ub2RlTmFtZSA9IG5vZGVOYW1lOw0KDQoNCg0KDQovLyBSZWdpc3RlciBh
cyBhIG5hbWVkIEFNRCBtb2R1bGUsIHNpbmNlIGpRdWVyeSBjYW4gYmUgY29uY2F0ZW5hdGVkIHdp
dGggb3RoZXINCi8vIGZpbGVzIHRoYXQgbWF5IHVzZSBkZWZpbmUsIGJ1dCBub3QgdmlhIGEgcHJv
cGVyIGNvbmNhdGVuYXRpb24gc2NyaXB0IHRoYXQNCi8vIHVuZGVyc3RhbmRzIGFub255bW91cyBB
TUQgbW9kdWxlcy4gQSBuYW1lZCBBTUQgaXMgc2FmZXN0IGFuZCBtb3N0IHJvYnVzdA0KLy8gd2F5
IHRvIHJlZ2lzdGVyLiBMb3dlcmNhc2UganF1ZXJ5IGlzIHVzZWQgYmVjYXVzZSBBTUQgbW9kdWxl
IG5hbWVzIGFyZQ0KLy8gZGVyaXZlZCBmcm9tIGZpbGUgbmFtZXMsIGFuZCBqUXVlcnkgaXMgbm9y
bWFsbHkgZGVsaXZlcmVkIGluIGEgbG93ZXJjYXNlDQovLyBmaWxlIG5hbWUuIERvIHRoaXMgYWZ0
ZXIgY3JlYXRpbmcgdGhlIGdsb2JhbCBzbyB0aGF0IGlmIGFuIEFNRCBtb2R1bGUgd2FudHMNCi8v
IHRvIGNhbGwgbm9Db25mbGljdCB0byBoaWRlIHRoaXMgdmVyc2lvbiBvZiBqUXVlcnksIGl0IHdp
bGwgd29yay4NCg0KLy8gTm90ZSB0aGF0IGZvciBtYXhpbXVtIHBvcnRhYmlsaXR5LCBsaWJyYXJp
ZXMgdGhhdCBhcmUgbm90IGpRdWVyeSBzaG91bGQNCi8vIGRlY2xhcmUgdGhlbXNlbHZlcyBhcyBh
bm9ueW1vdXMgbW9kdWxlcywgYW5kIGF2b2lkIHNldHRpbmcgYSBnbG9iYWwgaWYgYW4NCi8vIEFN
RCBsb2FkZXIgaXMgcHJlc2VudC4galF1ZXJ5IGlzIGEgc3BlY2lhbCBjYXNlLiBGb3IgbW9yZSBp
bmZvcm1hdGlvbiwgc2VlDQovLyBodHRwczovL2dpdGh1Yi5jb20vanJidXJrZS9yZXF1aXJlanMv
d2lraS9VcGRhdGluZy1leGlzdGluZy1saWJyYXJpZXMjd2lraS1hbm9uDQoNCmlmICggdHlwZW9m
IGRlZmluZSA9PT0gImZ1bmN0aW9uIiAmJiBkZWZpbmUuYW1kICkgew0KCWRlZmluZSggImpxdWVy
eSIsIFtdLCBmdW5jdGlvbigpIHsNCgkJcmV0dXJuIGpRdWVyeTsNCgl9ICk7DQp9DQoNCg0KDQoN
CnZhcg0KDQoJLy8gTWFwIG92ZXIgalF1ZXJ5IGluIGNhc2Ugb2Ygb3ZlcndyaXRlDQoJX2pRdWVy
eSA9IHdpbmRvdy5qUXVlcnksDQoNCgkvLyBNYXAgb3ZlciB0aGUgJCBpbiBjYXNlIG9mIG92ZXJ3
cml0ZQ0KCV8kID0gd2luZG93LiQ7DQoNCmpRdWVyeS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oIGRl
ZXAgKSB7DQoJaWYgKCB3aW5kb3cuJCA9PT0galF1ZXJ5ICkgew0KCQl3aW5kb3cuJCA9IF8kOw0K
CX0NCg0KCWlmICggZGVlcCAmJiB3aW5kb3cualF1ZXJ5ID09PSBqUXVlcnkgKSB7DQoJCXdpbmRv
dy5qUXVlcnkgPSBfalF1ZXJ5Ow0KCX0NCg0KCXJldHVybiBqUXVlcnk7DQp9Ow0KDQovLyBFeHBv
c2UgalF1ZXJ5IGFuZCAkIGlkZW50aWZpZXJzLCBldmVuIGluIEFNRA0KLy8gKCM3MTAyI2NvbW1l
bnQ6MTAsIGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvanF1ZXJ5L3B1bGwvNTU3KQ0KLy8gYW5k
IENvbW1vbkpTIGZvciBicm93c2VyIGVtdWxhdG9ycyAoIzEzNTY2KQ0KaWYgKCAhbm9HbG9iYWwg
KSB7DQoJd2luZG93LmpRdWVyeSA9IHdpbmRvdy4kID0galF1ZXJ5Ow0KfQ0KDQoNCg0KDQpyZXR1
cm4galF1ZXJ5Ow0KfSApOw0K
----field----
field: {C06867FE-9A43-4C7D-B739-48780492D06F}
name: Extension
key: extension
content-length: 2

js
----field----
field: {6F47A0A5-9C94-4B48-ABEB-42D38DEF6054}
name: Mime Type
key: mime type
content-length: 24

application/x-javascript
----field----
field: {6954B7C7-2487-423F-8600-436CB3B6DC0E}
name: Size
key: size
content-length: 6

278292
----field----
field: {06D5295C-ED2F-4A54-9BF2-26228D113318}
name: __Icon
key: __icon
content-length: 61

-/media/641190DD97E24472803EC0697317CADF.ashx?h=16&thn=1&w=16
----field----
field: {BA3F86A2-4A1C-4D78-B63D-91C2779C1B5E}
name: __Sortorder
key: __sortorder
content-length: 1

0
----version----
language: en
version: 1
revision: be1de2e1-6497-4286-8dd5-70751ea1b47d

----field----
field: {25BED78C-4957-4165-998A-CA1B52F67497}
name: __Created
key: __created
content-length: 16

20171120T053115Z
----field----
field: {8CDC337E-A112-42FB-BBB4-4143751E123F}
name: __Revision
key: __revision
content-length: 36

be1de2e1-6497-4286-8dd5-70751ea1b47d
----field----
field: {D9CF14B1-FA16-4BA6-9288-E8A174D4D522}
name: __Updated
key: __updated
content-length: 16

20180325T025031Z
----field----
field: {BADD9CF9-53E0-4D0C-BCC0-2D784C282F6A}
name: __Updated by
key: __updated by
content-length: 16

sitecore\unicorn
----version----
language: ja-JP
version: 1
revision: ec3e140a-6f13-4636-94fe-707afc68a30a

----field----
field: {25BED78C-4957-4165-998A-CA1B52F67497}
name: __Created
key: __created
content-length: 16

20171120T053115Z
----field----
field: {5DD74568-4D4B-44C1-B513-0AF5F4CDA34F}
name: __Created by
key: __created by
content-length: 14

sitecore\admin
----field----
field: {8CDC337E-A112-42FB-BBB4-4143751E123F}
name: __Revision
key: __revision
content-length: 36

ec3e140a-6f13-4636-94fe-707afc68a30a
----field----
field: {D9CF14B1-FA16-4BA6-9288-E8A174D4D522}
name: __Updated
key: __updated
content-length: 16

20180325T025031Z
----field----
field: {BADD9CF9-53E0-4D0C-BCC0-2D784C282F6A}
name: __Updated by
key: __updated by
content-length: 16

sitecore\unicorn
