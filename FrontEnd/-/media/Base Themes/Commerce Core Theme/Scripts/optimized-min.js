(function(n,t){"use strict";typeof define=="function"&&define.amd?define(["CXA/Application","exports"],t):typeof exports=="object"&&t(exports);n.RunningModes={Normal:"Normal",ExperienceEditor:"Experience Editor"};n.ComponentType={Form:"form",Component:"component"};var i={CXAComponentIdEnumerator:-1,CXAComponentIdPrefix:"cxa_component_",GenerateComponentId:function(){return this.CXAComponentIdPrefix+ ++this.CXAComponentIdEnumerator}};n.CXAApplication=i;t(i)})(this,function(n){"use strict";n.RunningMode=RunningModes.Normal;n.LoadedComponents=[];var t=function(t,i){var o,r,f;t.data("cxa-component-initialized","true");t.attr("data-cxa-component-initialized","true");var u=t.data("cxa-component-class"),e=t.data("cxa-component-model"),s=t.data("cxa-component-type");switch(s){case ComponentType.Component:e&&(o=eval("new "+e+"({})"));r=eval(u)(t.get(0),o);i&&(n.IsExperienceEditorMode()&&r.InExperienceEditorMode&&r.InExperienceEditorMode(),r.Init&&r.Init());break;case ComponentType.Form:f=eval(u);f.Init?f.Init(t.get(0)):console.error("TODO: ComponentType.Form - "+u+".Init() not defined.")}};n.CreateComponentInstane=function(n,i,r){var u;(u=$(n),r||(u=u.not("[data-cxa-component-initialized='true']")),u.length!==0)&&(console.log("CXAApplication.CreateComponentInstane..."),u.each(function(){t($(this),i)}))};n.IsExperienceEditorMode=function(){return n.RunningMode===RunningModes.ExperienceEditor||typeof Sitecore!="undefined"&&typeof Sitecore.WebEditSettings!="undefined"&&Sitecore.WebEditSettings.editing};n.InitializeComponents=function(){n.CreateComponentInstane("[data-cxa-component-class]",!1,!0);$(n.LoadedComponents).each(function(){try{this.Init()}catch(t){MessageContext.PublishError(n,"component initialization failed : "+t);throw t;}})};n.Initialize=function(){var t=getCurrentPageExtension();(typeof Sitecore!="undefined"&&typeof Sitecore.WebEditSettings!="undefined"&&Sitecore.WebEditSettings.editing||t==="html")&&(n.RunningMode=RunningModes.ExperienceEditor);n.InitializeComponents();n.IsExperienceEditorMode()&&$(n.LoadedComponents).each(function(){this.InExperienceEditorMode()});n.IsExperienceEditorMode()&&(typeof DomObserver=="undefined"?MessageContext.PublishError(n,"DomObserver Service not Initialized..."):DomObserver.ObserveDomChanges(function(){n.CreateComponentInstane("[data-cxa-component-class]",!0)},$("#wrapper").get(0)))};n.LoadComponent=function(t,i,r){try{t.Id=n.GenerateComponentId();t.RootElement=i;r&&(r.Id=ko.observable(t.Id),t.Model=r,ko.applyBindings(r,i));n.LoadedComponents.push(t)}catch(u){MessageContext.PublishError(n,"component loading failed : "+u)}};n.Goto=function(n){var i=document.getElementsByName("_SiteVirtualFolder"),t;i.length>0&&(t=i[0].value,t.length>1&&(t=t.replace("/","").replace("/",""),n=n.replace("/",""),n="/"+t+"/"+n));window.location.href=n}}),function(n,t){"use strict";typeof define=="function"&&define.amd?define("CXA/Common/Component",["exports"],t):typeof exports=="object"&&t(exports);n.Component=t}(this,function(n,t){"use strict";var i={};return i.InExperienceEditorMode=function(){},i.Init=function(){},i.PublishError=function(n,t){MessageContext.PublishError(i,n,t)},i.PublishInfo=function(n,t){MessageContext.PublishInfo(i,n,t)},i.PublishWarning=function(n,t){MessageContext.PublishWarning(i,n,t)},i.Visual={EnableInDesignEditing:function(){var n=$(i.RootElement).find(".disabled-in-design");n.removeAttr("disabled");n.on("click",function(n){return n.preventDefault(),!1})},Appear:function(){$(i.RootElement).fadeIn(100)},DisAppear:function(){$(i.RootElement).hide()},DisableLinks:function(){$(i.RootElement).find("a").attr("href","javascript:void(0)")},Disable:function(){$(i.RootElement).find("input").attr("disabled","disabled");$(i.RootElement).find("select").attr("disabled","disabled");$(i.RootElement).find("textarea").attr("disabled","disabled");$(i.RootElement).find("button").attr("disabled","disabled");$(i.RootElement).find("a").attr("disabled","disabled");i.Visual.DisableLinks();CXAApplication.IsExperienceEditorMode()&&this.EnableInDesignEditing()},Enable:function(){$(i.RootElement).find("input").removeAttr("disabled");$(i.RootElement).find("button").removeAttr("disabled")}},i.LoadData=function(n,t,r){AjaxService.Post(n,t,function(n,t){t&&r(n)},i)},CXAApplication.LoadComponent(i,n,t),i}),function(n,t){"use strict";typeof define=="function"&&define.amd?define(["exports"],t):typeof exports=="object"&&t(exports);n.StartUpManager=t}(this,function(n,t){var i=new Component(n);i.StartupActions=t;i.Run=function(){$(i.StartupActions).each(function(){try{this()}catch(n){i.PublishError(n)}})};i.Init=function(){i.Run()}});var StartupActionDefinitions={InitializeSubmitButtons:function(){$(component.RootElement).on("submit","form",function(){$("[data-loading-text]").button("loading")})}},component=new StartUpManager(document,[StartupActionDefinitions.InitializeSubmitButtons]);(function(n,t){"use strict";typeof define=="function"&&define.amd?define(["exports"],t):typeof exports=="object"&&t(exports);n.CXAForm=t})(this,function(n){var t={RootElement:n};return t.FormRoot=$(t.RootElement).find("form"),t.SubmitButton=$(t.FormRoot).find(":submit"),t.Disable=function(){$(t.RootElement).find("input").attr("disabled","disabled");$(t.RootElement).find("button").attr("disabled","disabled");$(t.RootElement).find("a").attr("disabled","disabled")},t.Enable=function(){$(t.RootElement).find("input").removeAttr("disabled");$(t.RootElement).find("button").removeAttr("disabled");$(t.RootElement).find("a").removeAttr("disabled")},t.EnableInDesignEditing=function(){$inDesignButtons=$(t.RootElement).find(".disabled-in-design");$inDesignButtons.removeAttr("disabled");$inDesignButtons.on("click",function(n){return n.preventDefault(),!1})},t.OnBegin=function(){MessageContext.ClearAllMessages();$(t.SubmitButton).button("loading");t.Disable()},t.OnSuccess=function(){},t.OnComplete=function(){$(t.SubmitButton).button("reset");t.Enable()},t.Init=function(n){CXAApplication.RunningMode==RunningModes.ExperienceEditor&&t.Disable();n.RootElement||(n.RootElement=t.RootElement);n.OnBegin||(n.OnBegin=t.OnBegin);n.OnComplete||(n.OnComplete=t.OnComplete);n.OnSuccess||(n.OnSuccess=t.OnSuccess)},t})